


<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>TorchScript Language Reference &mdash; PyTorch master documentation</title>
  

  
  
  
  
    <link rel="canonical" href="https://pytorch.org/docs/stable/jit_language_reference_v2.html"/>
  

  

  
  
    

  

  <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <!-- <link rel="stylesheet" href="_static/pygments.css" type="text/css" /> -->
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.10.0-beta/dist/katex.min.css" type="text/css" />
  <link rel="stylesheet" href="_static/css/jit.css" type="text/css" />
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.12.0/dist/katex.min.css" type="text/css" />
  <link rel="stylesheet" href="_static/katex-math.css" type="text/css" />
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="torch.jit.script" href="generated/torch.jit.script.html" />
    <link rel="prev" title="TorchScript Language Reference" href="jit_language_reference.html" /> 

  
  <script src="_static/js/modernizr.min.js"></script>

  <!-- Preload the theme fonts -->

<link rel="preload" href="_static/fonts/FreightSans/freight-sans-book.woff2" as="font" type="font/woff2" crossorigin="anonymous">
<link rel="preload" href="_static/fonts/FreightSans/freight-sans-medium.woff2" as="font" type="font/woff2" crossorigin="anonymous">
<link rel="preload" href="_static/fonts/IBMPlexMono/IBMPlexMono-Medium.woff2" as="font" type="font/woff2" crossorigin="anonymous">
<link rel="preload" href="_static/fonts/FreightSans/freight-sans-bold.woff2" as="font" type="font/woff2" crossorigin="anonymous">
<link rel="preload" href="_static/fonts/FreightSans/freight-sans-medium-italic.woff2" as="font" type="font/woff2" crossorigin="anonymous">
<link rel="preload" href="_static/fonts/IBMPlexMono/IBMPlexMono-SemiBold.woff2" as="font" type="font/woff2" crossorigin="anonymous">

<!-- Preload the katex fonts -->

<link rel="preload" href="https://cdn.jsdelivr.net/npm/katex@0.10.0/dist/fonts/KaTeX_Math-Italic.woff2" as="font" type="font/woff2" crossorigin="anonymous">
<link rel="preload" href="https://cdn.jsdelivr.net/npm/katex@0.10.0/dist/fonts/KaTeX_Main-Regular.woff2" as="font" type="font/woff2" crossorigin="anonymous">
<link rel="preload" href="https://cdn.jsdelivr.net/npm/katex@0.10.0/dist/fonts/KaTeX_Main-Bold.woff2" as="font" type="font/woff2" crossorigin="anonymous">
<link rel="preload" href="https://cdn.jsdelivr.net/npm/katex@0.10.0/dist/fonts/KaTeX_Size1-Regular.woff2" as="font" type="font/woff2" crossorigin="anonymous">
<link rel="preload" href="https://cdn.jsdelivr.net/npm/katex@0.10.0/dist/fonts/KaTeX_Size4-Regular.woff2" as="font" type="font/woff2" crossorigin="anonymous">
<link rel="preload" href="https://cdn.jsdelivr.net/npm/katex@0.10.0/dist/fonts/KaTeX_Size2-Regular.woff2" as="font" type="font/woff2" crossorigin="anonymous">
<link rel="preload" href="https://cdn.jsdelivr.net/npm/katex@0.10.0/dist/fonts/KaTeX_Size3-Regular.woff2" as="font" type="font/woff2" crossorigin="anonymous">
<link rel="preload" href="https://cdn.jsdelivr.net/npm/katex@0.10.0/dist/fonts/KaTeX_Caligraphic-Regular.woff2" as="font" type="font/woff2" crossorigin="anonymous">
  <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.15.2/css/all.css" integrity="sha384-vSIIfh2YWi9wW0r9iZe7RJPrKwp6bG+s9QZMoITbCckVJqGCCRhc+ccxNcdpHuYu" crossorigin="anonymous">
</head>

<div class="container-fluid header-holder tutorials-header" id="header-holder">
  <div class="container">
    <div class="header-container">
      <a class="header-logo" href="https://pytorch.org/" aria-label="PyTorch"></a>

      <div class="main-menu">
        <ul>
          <li>
            <a href="https://pytorch.org/get-started">Get Started</a>
          </li>

          <li>
            <a href="https://pytorch.org/ecosystem">Ecosystem</a>
          </li>

          <li>
            <a href="https://pytorch.org/mobile">Mobile</a>
          </li>

          <li>
            <a href="https://pytorch.org/blog/">Blog</a>
          </li>

          <li>
            <a href="https://pytorch.org/tutorials">Tutorials</a>
          </li>

          <li class="active">
            <div id="resourcesDropdownButton" data-toggle="resources-dropdown" class="resources-dropdown">
              <a class="resource-option with-down-orange-arrow">
                Docs
              </a>
              <div class="resources-dropdown-menu">
                <a class="doc-dropdown-option nav-dropdown-item" href="https://pytorch.org/docs/stable/index.html">
                  <span class="dropdown-title">PyTorch</span>
                  <p></p>
                </a>
                <a class="doc-dropdown-option nav-dropdown-item" href="https://pytorch.org/audio/stable/index.html">
                  <span class="dropdown-title">torchaudio</span>
                  <p></p>
                </a>
                <a class="doc-dropdown-option nav-dropdown-item" href="https://pytorch.org/text/stable/index.html">
                  <span class="dropdown-title">torchtext</span>
                  <p></p>
                </a>
                <a class="doc-dropdown-option nav-dropdown-item" href="https://pytorch.org/vision/stable/index.html">
                  <span class="dropdown-title">torchvision</span>
                  <p></p>
                </a>
                <a class="doc-dropdown-option nav-dropdown-item" href="https://pytorch.org/elastic/">
                  <span class="dropdown-title">TorchElastic</span>
                  <p></p>
                </a>
                <a class="doc-dropdown-option nav-dropdown-item" href="https://pytorch.org/serve/">
                  <span class="dropdown-title">TorchServe</span>
                  <p></p>
                </a>
                <a class="doc-dropdown-option nav-dropdown-item" href="https://pytorch.org/xla">
                  <span class="dropdown-title">PyTorch on XLA Devices</span>
                  <p></p>
                </a>
            </div>
          </li>

          <li>
            <div id="resourcesDropdownButton" data-toggle="resources-dropdown" class="resources-dropdown">
              <a class="resource-option with-down-arrow">
                Resources
              </a>
              <div class="resources-dropdown-menu">
                <a class="nav-dropdown-item" href="https://pytorch.org/features">
                  <span class="dropdown-title">About</span>
                  <p>Learn about PyTorch’s features and capabilities</p>
                </a>
                <a class="nav-dropdown-item" href="https://pytorch.org/#community-module">
                  <span class="dropdown-title">Community</span>
                  <p>Join the PyTorch developer community to contribute, learn, and get your questions answered.</p>
                </a>
                <a class="nav-dropdown-item" href="https://pytorch.org/resources">
                  <span class="dropdown-title">Developer Resources</span>
                  <p>Find resources and get questions answered</p>
                </a>
                <a class="nav-dropdown-item" href="https://discuss.pytorch.org/" target="_blank">
                  <span class="dropdown-title">Forums</span>
                  <p>A place to discuss PyTorch code, issues, install, research</p>
                </a>
                <a class="nav-dropdown-item" href="https://pytorch.org/hub">
                  <span class="dropdown-title">Models (Beta)</span>
                  <p>Discover, publish, and reuse pre-trained models</p>
                </a>
              </div>
            </div>
          </li>

          <li>
            <a href="https://github.com/pytorch/pytorch">Github</a>
          </li>
        </ul>
      </div>

      <a class="main-menu-open-button" href="#" data-behavior="open-mobile-menu"></a>
    </div>
  </div>
</div>

<body class="pytorch-body">

   

    

    <div class="table-of-contents-link-wrapper">
      <span>Table of Contents</span>
      <a href="#" class="toggle-table-of-contents" data-behavior="toggle-table-of-contents"></a>
    </div>

    <nav data-toggle="wy-nav-shift" class="pytorch-left-menu" id="pytorch-left-menu">
      <div class="pytorch-side-scroll">
        <div class="pytorch-menu pytorch-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          <div class="pytorch-left-menu-search">
            

            
              
              
                <div class="version">
                  master (1.9.0a0+git49244d5 )
                </div>
              
            

            


  


<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search Docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

            
          </div>

          
<div>
  <a style="color:#F05732" href="https://pytorch.org/docs/stable/jit_language_reference_v2.html">
    You are viewing unstable developer preview docs.
    Click here to view docs for latest stable release.
  </a>
</div>

            
            
              
            
            
              <p class="caption"><span class="caption-text">Notes</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="notes/amp_examples.html">Automatic Mixed Precision examples</a></li>
<li class="toctree-l1"><a class="reference internal" href="notes/autograd.html">Autograd mechanics</a></li>
<li class="toctree-l1"><a class="reference internal" href="notes/broadcasting.html">Broadcasting semantics</a></li>
<li class="toctree-l1"><a class="reference internal" href="notes/cpu_threading_torchscript_inference.html">CPU threading and TorchScript inference</a></li>
<li class="toctree-l1"><a class="reference internal" href="notes/cuda.html">CUDA semantics</a></li>
<li class="toctree-l1"><a class="reference internal" href="notes/ddp.html">Distributed Data Parallel</a></li>
<li class="toctree-l1"><a class="reference internal" href="notes/extending.html">Extending PyTorch</a></li>
<li class="toctree-l1"><a class="reference internal" href="notes/faq.html">Frequently Asked Questions</a></li>
<li class="toctree-l1"><a class="reference internal" href="notes/large_scale_deployments.html">Features for large-scale deployments</a></li>
<li class="toctree-l1"><a class="reference internal" href="notes/modules.html">Modules</a></li>
<li class="toctree-l1"><a class="reference internal" href="notes/multiprocessing.html">Multiprocessing best practices</a></li>
<li class="toctree-l1"><a class="reference internal" href="notes/randomness.html">Reproducibility</a></li>
<li class="toctree-l1"><a class="reference internal" href="notes/serialization.html">Serialization semantics</a></li>
<li class="toctree-l1"><a class="reference internal" href="notes/windows.html">Windows FAQ</a></li>
</ul>
<p class="caption"><span class="caption-text">Language Bindings</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="cpp_index.html">C++</a></li>
<li class="toctree-l1"><a class="reference external" href="https://pytorch.org/javadoc/">Javadoc</a></li>
</ul>
<p class="caption"><span class="caption-text">Python API</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="torch.html">torch</a></li>
<li class="toctree-l1"><a class="reference internal" href="nn.html">torch.nn</a></li>
<li class="toctree-l1"><a class="reference internal" href="nn.functional.html">torch.nn.functional</a></li>
<li class="toctree-l1"><a class="reference internal" href="tensors.html">torch.Tensor</a></li>
<li class="toctree-l1"><a class="reference internal" href="tensor_attributes.html">Tensor Attributes</a></li>
<li class="toctree-l1"><a class="reference internal" href="tensor_view.html">Tensor Views</a></li>
<li class="toctree-l1"><a class="reference internal" href="autograd.html">torch.autograd</a></li>
<li class="toctree-l1"><a class="reference internal" href="cuda.html">torch.cuda</a></li>
<li class="toctree-l1"><a class="reference internal" href="amp.html">torch.cuda.amp</a></li>
<li class="toctree-l1"><a class="reference internal" href="backends.html">torch.backends</a></li>
<li class="toctree-l1"><a class="reference internal" href="distributed.html">torch.distributed</a></li>
<li class="toctree-l1"><a class="reference internal" href="distributed.optim.html">torch.distributed.optim</a></li>
<li class="toctree-l1"><a class="reference internal" href="distributions.html">torch.distributions</a></li>
<li class="toctree-l1"><a class="reference internal" href="fft.html">torch.fft</a></li>
<li class="toctree-l1"><a class="reference internal" href="futures.html">torch.futures</a></li>
<li class="toctree-l1"><a class="reference internal" href="fx.html">torch.fx</a></li>
<li class="toctree-l1"><a class="reference internal" href="hub.html">torch.hub</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="jit.html">torch.jit</a></li>
<li class="toctree-l1"><a class="reference internal" href="linalg.html">torch.linalg</a></li>
<li class="toctree-l1"><a class="reference internal" href="special.html">torch.special</a></li>
<li class="toctree-l1"><a class="reference internal" href="torch.overrides.html">torch.overrides</a></li>
<li class="toctree-l1"><a class="reference internal" href="profiler.html">torch.profiler</a></li>
<li class="toctree-l1"><a class="reference internal" href="nn.init.html">torch.nn.init</a></li>
<li class="toctree-l1"><a class="reference internal" href="onnx.html">torch.onnx</a></li>
<li class="toctree-l1"><a class="reference internal" href="optim.html">torch.optim</a></li>
<li class="toctree-l1"><a class="reference internal" href="complex_numbers.html">Complex Numbers</a></li>
<li class="toctree-l1"><a class="reference internal" href="ddp_comm_hooks.html">DDP Communication Hooks</a></li>
<li class="toctree-l1"><a class="reference internal" href="pipeline.html">Pipeline Parallelism</a></li>
<li class="toctree-l1"><a class="reference internal" href="quantization.html">Quantization</a></li>
<li class="toctree-l1"><a class="reference internal" href="rpc.html">Distributed RPC Framework</a></li>
<li class="toctree-l1"><a class="reference internal" href="random.html">torch.random</a></li>
<li class="toctree-l1"><a class="reference internal" href="sparse.html">torch.sparse</a></li>
<li class="toctree-l1"><a class="reference internal" href="storage.html">torch.Storage</a></li>
<li class="toctree-l1"><a class="reference internal" href="benchmark_utils.html">torch.utils.benchmark</a></li>
<li class="toctree-l1"><a class="reference internal" href="bottleneck.html">torch.utils.bottleneck</a></li>
<li class="toctree-l1"><a class="reference internal" href="checkpoint.html">torch.utils.checkpoint</a></li>
<li class="toctree-l1"><a class="reference internal" href="cpp_extension.html">torch.utils.cpp_extension</a></li>
<li class="toctree-l1"><a class="reference internal" href="data.html">torch.utils.data</a></li>
<li class="toctree-l1"><a class="reference internal" href="dlpack.html">torch.utils.dlpack</a></li>
<li class="toctree-l1"><a class="reference internal" href="mobile_optimizer.html">torch.utils.mobile_optimizer</a></li>
<li class="toctree-l1"><a class="reference internal" href="model_zoo.html">torch.utils.model_zoo</a></li>
<li class="toctree-l1"><a class="reference internal" href="tensorboard.html">torch.utils.tensorboard</a></li>
<li class="toctree-l1"><a class="reference internal" href="type_info.html">Type Info</a></li>
<li class="toctree-l1"><a class="reference internal" href="named_tensor.html">Named Tensors</a></li>
<li class="toctree-l1"><a class="reference internal" href="name_inference.html">Named Tensors operator coverage</a></li>
<li class="toctree-l1"><a class="reference internal" href="__config__.html">torch.__config__</a></li>
</ul>
<p class="caption"><span class="caption-text">Libraries</span></p>
<ul>
<li class="toctree-l1"><a class="reference external" href="https://pytorch.org/audio/stable">torchaudio</a></li>
<li class="toctree-l1"><a class="reference external" href="https://pytorch.org/text/stable">torchtext</a></li>
<li class="toctree-l1"><a class="reference external" href="https://pytorch.org/vision/stable">torchvision</a></li>
<li class="toctree-l1"><a class="reference external" href="https://pytorch.org/elastic/">TorchElastic</a></li>
<li class="toctree-l1"><a class="reference external" href="https://pytorch.org/serve">TorchServe</a></li>
<li class="toctree-l1"><a class="reference external" href="http://pytorch.org/xla/">PyTorch on XLA Devices</a></li>
</ul>
<p class="caption"><span class="caption-text">Community</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="community/contribution_guide.html">PyTorch Contribution Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="community/governance.html">PyTorch Governance</a></li>
<li class="toctree-l1"><a class="reference internal" href="community/persons_of_interest.html">PyTorch Governance | Persons of Interest</a></li>
</ul>

            
          

        </div>
      </div>
    </nav>

    <div class="pytorch-container">
      <div class="pytorch-page-level-bar" id="pytorch-page-level-bar">
        <div class="pytorch-breadcrumbs-wrapper">
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="pytorch-breadcrumbs">
    
      <li>
        <a href="index.html">
          
            Docs
          
        </a> &gt;
      </li>

        
          <li><a href="jit.html">TorchScript</a> &gt;</li>
        
      <li>TorchScript Language Reference</li>
    
    
      <li class="pytorch-breadcrumbs-aside">
        
            
            <a href="_sources/jit_language_reference_v2.rst.txt" rel="nofollow"><img src="_static/images/view-page-source-icon.svg"></a>
          
        
      </li>
    
  </ul>

  
</div>
        </div>

        <div class="pytorch-shortcuts-wrapper" id="pytorch-shortcuts-wrapper">
          Shortcuts
        </div>
      </div>

      <section data-toggle="wy-nav-shift" id="pytorch-content-wrap" class="pytorch-content-wrap">
        <div class="pytorch-content-left">

        
          
          <div class="rst-content">
          
            <div role="main" class="main-content" itemscope="itemscope" itemtype="http://schema.org/Article">
             <article itemprop="articleBody" id="pytorch-article" class="pytorch-article">
              
  <div class="contents local topic" id="contents">
<ul class="simple">
<li><p><a class="reference internal" href="#torchscript-language-reference" id="id2">TorchScript Language Reference</a></p>
<ul>
<li><p><a class="reference internal" href="#expressions" id="id3">Expressions</a></p></li>
</ul>
</li>
</ul>
</div>
<div class="section" id="torchscript-language-reference">
<span id="language-reference-v2"></span><h1><a class="toc-backref" href="#id2">TorchScript Language Reference</a><a class="headerlink" href="#torchscript-language-reference" title="Permalink to this headline">¶</a></h1>
<div class="section" id="expressions">
<span id="id1"></span><h2><a class="toc-backref" href="#id3">Expressions</a><a class="headerlink" href="#expressions" title="Permalink to this headline">¶</a></h2>
<p>The following section describes the grammar of expressions that are supported in TorchScript.
It is modeled after <a class="reference external" href="https://docs.python.org/3/reference/expressions.html">the expressions chapter of the Python language reference</a>.</p>
<div class="section" id="arithmetic-conversions">
<h3>Arithmetic Conversions<a class="headerlink" href="#arithmetic-conversions" title="Permalink to this headline">¶</a></h3>
<p>There are a number of implicit type conversions that are performed in TorchScript:</p>
<ul class="simple">
<li><p>a <code class="docutils literal notranslate"><span class="pre">Tensor</span></code> with a <code class="docutils literal notranslate"><span class="pre">float</span></code> or <code class="docutils literal notranslate"><span class="pre">int</span></code> datatype can be implicitly converted to an instance of <code class="docutils literal notranslate"><span class="pre">FloatType</span></code> or <code class="docutils literal notranslate"><span class="pre">IntType</span></code> provided that it has a size of 0, and does not have <code class="docutils literal notranslate"><span class="pre">require_grad</span></code> set to <code class="docutils literal notranslate"><span class="pre">True</span></code> and will not require narrowing.</p></li>
<li><p>instances of <code class="docutils literal notranslate"><span class="pre">StringType</span></code> can be implicitly converted to <code class="docutils literal notranslate"><span class="pre">DeviceType</span></code></p></li>
<li><p>the above implicit conversion rules can be applied to instances of <code class="docutils literal notranslate"><span class="pre">TupleType</span></code> to produce instances of <code class="docutils literal notranslate"><span class="pre">ListType</span></code> with the appropriate contained type</p></li>
</ul>
<p>Explicit conversions can be invoked using the <code class="docutils literal notranslate"><span class="pre">float</span></code>, <code class="docutils literal notranslate"><span class="pre">int</span></code>, <code class="docutils literal notranslate"><span class="pre">bool</span></code>, <code class="docutils literal notranslate"><span class="pre">str</span></code> built-in functions
that accept primitive data types as arguments and can accept user-defined types if they implement
<code class="docutils literal notranslate"><span class="pre">__bool__</span></code>, <code class="docutils literal notranslate"><span class="pre">__str__</span></code>, etc.</p>
</div>
<div class="section" id="atoms">
<h3>Atoms<a class="headerlink" href="#atoms" title="Permalink to this headline">¶</a></h3>
<p>Atoms are the most basic elements of expressions.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">atom</span>      <span class="p">:</span><span class="o">:=</span>  <span class="n">identifier</span> <span class="o">|</span> <span class="n">literal</span> <span class="o">|</span> <span class="n">enclosure</span>
<span class="n">enclosure</span> <span class="p">:</span><span class="o">:=</span>  <span class="n">parenth_form</span> <span class="o">|</span> <span class="n">list_display</span> <span class="o">|</span> <span class="n">dict_display</span>
</pre></div>
</div>
<div class="section" id="identifiers">
<h4>Identifiers<a class="headerlink" href="#identifiers" title="Permalink to this headline">¶</a></h4>
<p>The rules that dictate what is a legal identifer in TorchScript are the same as
their <a class="reference external" href="https://docs.python.org/3/reference/lexical_analysis.html#identifiers">Python counterparts</a>.</p>
</div>
<div class="section" id="literals">
<h4>Literals<a class="headerlink" href="#literals" title="Permalink to this headline">¶</a></h4>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">literal</span> <span class="p">:</span><span class="o">:=</span>  <span class="n">stringliteral</span> <span class="o">|</span> <span class="n">integer</span> <span class="o">|</span> <span class="n">floatnumber</span>
</pre></div>
</div>
<p>Evaluation of a literal yields an object of the appropriate type with the specific value
(with approximations applied as necessary for floats). Literals are immutable, and multiple evaluations
of identical literals may obtain the same object or distinct objects with the same value.
<a class="reference external" href="https://docs.python.org/3/reference/lexical_analysis.html#string-and-bytes-literals">stringliteral</a>,
<a class="reference external" href="https://docs.python.org/3/reference/lexical_analysis.html#integer-literals">integer</a>, and
<a class="reference external" href="https://docs.python.org/3/reference/lexical_analysis.html#floating-point-literals">floatnumber</a>
are defined in the same way as their Python counterparts.</p>
</div>
<div class="section" id="parenthesized-forms">
<h4>Parenthesized Forms<a class="headerlink" href="#parenthesized-forms" title="Permalink to this headline">¶</a></h4>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">parenth_form</span> <span class="p">:</span><span class="o">:=</span>  <span class="s1">&#39;(&#39;</span> <span class="p">[</span><span class="n">expression_list</span><span class="p">]</span> <span class="s1">&#39;)&#39;</span>
</pre></div>
</div>
<p>A parenthesized expression list yields whatever the expression list yields. If the list contains at least one
comma, it yields a <code class="docutils literal notranslate"><span class="pre">Tuple</span></code>; otherwise, it yields the single expression inside the expression list. An empty
pair of parentheses yields an empty <code class="docutils literal notranslate"><span class="pre">Tuple</span></code> object (<code class="docutils literal notranslate"><span class="pre">Tuple[]</span></code>).</p>
</div>
<div class="section" id="list-and-dictionary-displays">
<h4>List and Dictionary Displays<a class="headerlink" href="#list-and-dictionary-displays" title="Permalink to this headline">¶</a></h4>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">list_comprehension</span> <span class="p">:</span><span class="o">:=</span>  <span class="n">expression</span> <span class="n">comp_for</span>
<span class="n">comp_for</span>           <span class="p">:</span><span class="o">:=</span>  <span class="s1">&#39;for&#39;</span> <span class="n">target_list</span> <span class="s1">&#39;in&#39;</span> <span class="n">or_expr</span>
<span class="n">list_display</span>       <span class="p">:</span><span class="o">:=</span>  <span class="s1">&#39;[&#39;</span> <span class="p">[</span><span class="n">expression_list</span> <span class="o">|</span> <span class="n">list_comprehension</span><span class="p">]</span> <span class="s1">&#39;]&#39;</span>
<span class="n">dict_display</span>       <span class="p">:</span><span class="o">:=</span>  <span class="s1">&#39;{&#39;</span> <span class="p">[</span><span class="n">key_datum_list</span> <span class="o">|</span> <span class="n">dict_comprehension</span><span class="p">]</span> <span class="s1">&#39;}&#39;</span>
<span class="n">key_datum_list</span>     <span class="p">:</span><span class="o">:=</span>  <span class="n">key_datum</span> <span class="p">(</span><span class="s1">&#39;,&#39;</span> <span class="n">key_datum</span><span class="p">)</span><span class="o">*</span>
<span class="n">key_datum</span>          <span class="p">:</span><span class="o">:=</span>  <span class="n">expression</span> <span class="s1">&#39;:&#39;</span> <span class="n">expression</span>
<span class="n">dict_comprehension</span> <span class="p">:</span><span class="o">:=</span>  <span class="n">key_datum</span> <span class="n">comp_for</span>
</pre></div>
</div>
<p>Lists and dicts can be constructed by either listing the container contents explicitly or providing
instructions on how to compute them via a set of looping instructions (i.e. a <em>comprehension</em>). A comprehension
is semantically equivalent to using a for loop and appending to an ongoing list the expression of the comprehension.
Comprehensions implicitly create their own scope to make sure the items of the target list do not leak into the
enclosing scope. In the case that container items are explicitly listed, the expressions in the expression list
are evaluated left-to-right. If a key is repeated in a <code class="docutils literal notranslate"><span class="pre">dict_display</span></code> that has a <code class="docutils literal notranslate"><span class="pre">key_datum_list</span></code>, then, the
resultant dictionary uses the value from the rightmost datum in the list that uses the repeated key.</p>
</div>
</div>
<div class="section" id="primaries">
<h3>Primaries<a class="headerlink" href="#primaries" title="Permalink to this headline">¶</a></h3>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">primary</span> <span class="p">:</span><span class="o">:=</span>  <span class="n">atom</span> <span class="o">|</span> <span class="n">attributeref</span> <span class="o">|</span> <span class="n">subscription</span> <span class="o">|</span> <span class="n">slicing</span> <span class="o">|</span> <span class="n">call</span>
</pre></div>
</div>
<div class="section" id="attribute-references">
<h4>Attribute References<a class="headerlink" href="#attribute-references" title="Permalink to this headline">¶</a></h4>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">attributeref</span> <span class="p">:</span><span class="o">:=</span>  <span class="n">primary</span> <span class="s1">&#39;.&#39;</span> <span class="n">identifier</span>
</pre></div>
</div>
<p><code class="docutils literal notranslate"><span class="pre">primary</span></code> must evaluate to an object of a type that supports attribute references that has an attribute named
<code class="docutils literal notranslate"><span class="pre">identifier</span></code>.</p>
</div>
<div class="section" id="subscriptions">
<h4>Subscriptions<a class="headerlink" href="#subscriptions" title="Permalink to this headline">¶</a></h4>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">subscription</span> <span class="p">:</span><span class="o">:=</span>  <span class="n">primary</span> <span class="s1">&#39;[&#39;</span> <span class="n">expression_list</span> <span class="s1">&#39;]&#39;</span>
</pre></div>
</div>
<p>The primary must evaluate to an object that supports subscription. If it is a <code class="docutils literal notranslate"><span class="pre">List</span></code> , <code class="docutils literal notranslate"><span class="pre">Tuple</span></code>, or <code class="docutils literal notranslate"><span class="pre">str</span></code>,
the expression list must evaluate to an integer or slice. If it is a <code class="docutils literal notranslate"><span class="pre">Dict</span></code>, the expression list must evaluate
to an object of the same type as the key type of the <code class="docutils literal notranslate"><span class="pre">Dict</span></code>. If the primary is a <code class="docutils literal notranslate"><span class="pre">ModuleList</span></code>, the expression
list must be an <code class="docutils literal notranslate"><span class="pre">integer</span></code> literal. If the primary is a <code class="docutils literal notranslate"><span class="pre">ModuleDict</span></code>, the expression must be a <code class="docutils literal notranslate"><span class="pre">stringliteral</span></code>.</p>
</div>
<div class="section" id="slicings">
<h4>Slicings<a class="headerlink" href="#slicings" title="Permalink to this headline">¶</a></h4>
<p>A slicing selects a range of items in a <code class="docutils literal notranslate"><span class="pre">str</span></code>, <code class="docutils literal notranslate"><span class="pre">Tuple</span></code>, <code class="docutils literal notranslate"><span class="pre">List</span></code> or <code class="docutils literal notranslate"><span class="pre">Tensor</span></code>. Slicings may be used as
expressions or targets in assignment or <code class="docutils literal notranslate"><span class="pre">del</span></code> statements.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">slicing</span>      <span class="p">:</span><span class="o">:=</span>  <span class="n">primary</span> <span class="s1">&#39;[&#39;</span> <span class="n">slice_list</span> <span class="s1">&#39;]&#39;</span>
<span class="n">slice_list</span>   <span class="p">:</span><span class="o">:=</span>  <span class="n">slice_item</span> <span class="p">(</span><span class="s1">&#39;,&#39;</span> <span class="n">slice_item</span><span class="p">)</span><span class="o">*</span> <span class="p">[</span><span class="s1">&#39;,&#39;</span><span class="p">]</span>
<span class="n">slice_item</span>   <span class="p">:</span><span class="o">:=</span>  <span class="n">expression</span> <span class="o">|</span> <span class="n">proper_slice</span>
<span class="n">proper_slice</span> <span class="p">:</span><span class="o">:=</span>  <span class="p">[</span><span class="n">expression</span><span class="p">]</span> <span class="s1">&#39;:&#39;</span> <span class="p">[</span><span class="n">expression</span><span class="p">]</span> <span class="p">[</span><span class="s1">&#39;:&#39;</span> <span class="p">[</span><span class="n">expression</span><span class="p">]</span> <span class="p">]</span>
</pre></div>
</div>
<p>Slicings with more than one slice item in their slice lists can only be used with primaries that evaluate to an
object of type <code class="docutils literal notranslate"><span class="pre">Tensor</span></code>.</p>
</div>
<div class="section" id="calls">
<h4>Calls<a class="headerlink" href="#calls" title="Permalink to this headline">¶</a></h4>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">call</span>          <span class="p">:</span><span class="o">:=</span>  <span class="n">primary</span> <span class="s1">&#39;(&#39;</span> <span class="n">argument_list</span> <span class="s1">&#39;)&#39;</span>
<span class="n">argument_list</span> <span class="p">:</span><span class="o">:=</span>  <span class="n">args</span> <span class="p">[</span><span class="s1">&#39;,&#39;</span> <span class="n">kwargs</span><span class="p">]</span> <span class="o">|</span> <span class="n">kwargs</span>
<span class="n">args</span>          <span class="p">:</span><span class="o">:=</span>  <span class="p">[</span><span class="n">arg</span> <span class="p">(</span><span class="s1">&#39;,&#39;</span> <span class="n">arg</span><span class="p">)</span><span class="o">*</span><span class="p">]</span>
<span class="n">kwargs</span>        <span class="p">:</span><span class="o">:=</span>  <span class="p">[</span><span class="n">kwarg</span> <span class="p">(</span><span class="s1">&#39;,&#39;</span> <span class="n">kwarg</span><span class="p">)</span><span class="o">*</span><span class="p">]</span>
<span class="n">kwarg</span>         <span class="p">:</span><span class="o">:=</span>  <span class="n">arg</span> <span class="s1">&#39;=&#39;</span> <span class="n">expression</span>
<span class="n">arg</span>           <span class="p">:</span><span class="o">:=</span>  <span class="n">identifier</span>
</pre></div>
</div>
<p><cite>primary</cite> must desugar or evaluate to a callable object. All argument expressions are evaluated
before the call is attempted.</p>
</div>
</div>
<div class="section" id="power-operator">
<h3>Power Operator<a class="headerlink" href="#power-operator" title="Permalink to this headline">¶</a></h3>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">power</span> <span class="p">:</span><span class="o">:=</span>  <span class="n">primary</span> <span class="p">[</span><span class="s1">&#39;**&#39;</span> <span class="n">u_expr</span><span class="p">]</span>
</pre></div>
</div>
<p>The power operator has the same semantics as the built-in pow function (not supported); it computes its
left argument raised to the power of its right argument. It binds more tightly than unary operators on the
left, but less tightly than unary operators on the right; i.e. <code class="docutils literal notranslate"><span class="pre">-2</span> <span class="pre">**</span> <span class="pre">-3</span> <span class="pre">==</span> <span class="pre">-(2</span> <span class="pre">**</span> <span class="pre">(-3))</span></code>.  The left and right
operands can be <code class="docutils literal notranslate"><span class="pre">int</span></code>, <code class="docutils literal notranslate"><span class="pre">float</span></code> or <code class="docutils literal notranslate"><span class="pre">Tensor</span></code>. Scalars are broadcast in the case of scalar-tensor/tensor-scalar
exponentiation operations, and tensor-tensor exponentiation is done elementwise without any broadcasting.</p>
</div>
<div class="section" id="unary-and-arithmetic-bitwise-operations">
<h3>Unary and Arithmetic Bitwise Operations<a class="headerlink" href="#unary-and-arithmetic-bitwise-operations" title="Permalink to this headline">¶</a></h3>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">u_expr</span> <span class="p">:</span><span class="o">:=</span>  <span class="n">power</span> <span class="o">|</span> <span class="s1">&#39;-&#39;</span> <span class="n">power</span> <span class="o">|</span> <span class="s1">&#39;~&#39;</span> <span class="n">power</span>
</pre></div>
</div>
<p>The unary <code class="docutils literal notranslate"><span class="pre">-</span></code> operator yields the negation of its argument. The unary <code class="docutils literal notranslate"><span class="pre">~</span></code> operator yields the bitwise inversion
of its argument. <code class="docutils literal notranslate"><span class="pre">-</span></code> can be used with <code class="docutils literal notranslate"><span class="pre">int</span></code>, <code class="docutils literal notranslate"><span class="pre">float</span></code>, and <code class="docutils literal notranslate"><span class="pre">Tensor</span></code> of <code class="docutils literal notranslate"><span class="pre">int</span></code> and <code class="docutils literal notranslate"><span class="pre">float</span></code>.
<code class="docutils literal notranslate"><span class="pre">~</span></code> can only be used with <code class="docutils literal notranslate"><span class="pre">int</span></code> and <code class="docutils literal notranslate"><span class="pre">Tensor</span></code> of <code class="docutils literal notranslate"><span class="pre">int</span></code>.</p>
</div>
<div class="section" id="binary-arithmetic-operations">
<h3>Binary Arithmetic Operations<a class="headerlink" href="#binary-arithmetic-operations" title="Permalink to this headline">¶</a></h3>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">m_expr</span> <span class="p">:</span><span class="o">:=</span>  <span class="n">u_expr</span> <span class="o">|</span> <span class="n">m_expr</span> <span class="s1">&#39;*&#39;</span> <span class="n">u_expr</span> <span class="o">|</span> <span class="n">m_expr</span> <span class="s1">&#39;@&#39;</span> <span class="n">m_expr</span> <span class="o">|</span> <span class="n">m_expr</span> <span class="s1">&#39;//&#39;</span> <span class="n">u_expr</span> <span class="o">|</span> <span class="n">m_expr</span> <span class="s1">&#39;/&#39;</span> <span class="n">u_expr</span> <span class="o">|</span> <span class="n">m_expr</span> <span class="s1">&#39;%&#39;</span> <span class="n">u_expr</span>
<span class="n">a_expr</span> <span class="p">:</span><span class="o">:=</span>  <span class="n">m_expr</span> <span class="o">|</span> <span class="n">a_expr</span> <span class="s1">&#39;+&#39;</span> <span class="n">m_expr</span> <span class="o">|</span> <span class="n">a_expr</span> <span class="s1">&#39;-&#39;</span> <span class="n">m_expr</span>
</pre></div>
</div>
<p>The binary arithmetic operators can operate on <code class="docutils literal notranslate"><span class="pre">Tensor</span></code>, <code class="docutils literal notranslate"><span class="pre">int</span></code>, and <code class="docutils literal notranslate"><span class="pre">float</span></code>. For tensor-tensor ops, both arguments must
have the same shape. For scalar-tensor or tensor-scalar ops, the scalar is usually broadcast to the size of the
tensor. Division ops can only accept scalars as their right-hand side argument, and do not support broadcasting.
The <code class="docutils literal notranslate"><span class="pre">&#64;</span> <span class="pre">``operator</span> <span class="pre">is</span> <span class="pre">for</span> <span class="pre">matrix</span> <span class="pre">multiplication</span> <span class="pre">and</span> <span class="pre">only</span> <span class="pre">operates</span> <span class="pre">on</span> <span class="pre">``Tensor</span></code> arguments. The multiplication operator
(<code class="docutils literal notranslate"><span class="pre">*</span></code>) can be used with a list and integer in order to get a result that is the original list repeated a certain
number of times.</p>
</div>
<div class="section" id="shifting-operations">
<h3>Shifting Operations<a class="headerlink" href="#shifting-operations" title="Permalink to this headline">¶</a></h3>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">shift_expr</span> <span class="p">:</span><span class="o">:=</span>  <span class="n">a_expr</span> <span class="o">|</span> <span class="n">shift_expr</span> <span class="p">(</span> <span class="s1">&#39;&lt;&lt;&#39;</span> <span class="o">|</span> <span class="s1">&#39;&gt;&gt;&#39;</span> <span class="p">)</span> <span class="n">a_expr</span>
</pre></div>
</div>
<p>These operators accept two <code class="docutils literal notranslate"><span class="pre">int</span></code> arguments, two <code class="docutils literal notranslate"><span class="pre">Tensor</span></code> arguments, or a <code class="docutils literal notranslate"><span class="pre">Tensor</span></code> argument and an <code class="docutils literal notranslate"><span class="pre">int</span></code> or
<code class="docutils literal notranslate"><span class="pre">float</span></code> argument. In all cases, a right shift by <code class="docutils literal notranslate"><span class="pre">n</span></code> is defined as floor division by <code class="docutils literal notranslate"><span class="pre">pow(2,</span> <span class="pre">n)</span></code> and a left shift
by <code class="docutils literal notranslate"><span class="pre">n</span></code> is defined as multiplication by <code class="docutils literal notranslate"><span class="pre">pow(2,</span> <span class="pre">n)</span></code>. When both arguments are <code class="docutils literal notranslate"><span class="pre">Tensors</span></code>, they must have the same
shape. When one is a scalar and the other is a <code class="docutils literal notranslate"><span class="pre">Tensor</span></code>, the scalar is logically broadcast to match the size of
the <code class="docutils literal notranslate"><span class="pre">Tensor</span></code>.</p>
</div>
<div class="section" id="binary-bitwise-operations">
<h3>Binary Bitwise Operations<a class="headerlink" href="#binary-bitwise-operations" title="Permalink to this headline">¶</a></h3>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">and_expr</span> <span class="p">:</span><span class="o">:=</span>  <span class="n">shift_expr</span> <span class="o">|</span> <span class="n">and_expr</span> <span class="s1">&#39;&amp;&#39;</span> <span class="n">shift_expr</span>
<span class="n">xor_expr</span> <span class="p">:</span><span class="o">:=</span>  <span class="n">and_expr</span> <span class="o">|</span> <span class="n">xor_expr</span> <span class="s1">&#39;^&#39;</span> <span class="n">and_expr</span>
<span class="n">or_expr</span>  <span class="p">:</span><span class="o">:=</span>  <span class="n">xor_expr</span> <span class="o">|</span> <span class="n">or_expr</span> <span class="s1">&#39;|&#39;</span> <span class="n">xor_expr</span>
</pre></div>
</div>
<p>The <code class="docutils literal notranslate"><span class="pre">&amp;</span></code> operator computes the bitwise AND of its arguments, the <code class="docutils literal notranslate"><span class="pre">^</span></code> the bitwise XOR and <code class="docutils literal notranslate"><span class="pre">|</span></code> the bitwise OR.
Both operands must be <code class="docutils literal notranslate"><span class="pre">int</span></code> or <code class="docutils literal notranslate"><span class="pre">Tensor</span></code>, or the left operand must be <code class="docutils literal notranslate"><span class="pre">Tensor</span></code> and the right operand must be
<code class="docutils literal notranslate"><span class="pre">int</span></code>. When both operands are <code class="docutils literal notranslate"><span class="pre">Tensor</span></code>, they must have the same shape. When the right operand is <code class="docutils literal notranslate"><span class="pre">int</span></code>, and
the left operand is <code class="docutils literal notranslate"><span class="pre">Tensor</span></code> , the right operand is logically broadcast to match the shape of the <code class="docutils literal notranslate"><span class="pre">Tensor</span></code>.</p>
</div>
<div class="section" id="comparisons">
<h3>Comparisons<a class="headerlink" href="#comparisons" title="Permalink to this headline">¶</a></h3>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">comparison</span>    <span class="p">:</span><span class="o">:=</span>  <span class="n">or_expr</span> <span class="p">(</span><span class="n">comp_operator</span> <span class="n">or_expr</span><span class="p">)</span><span class="o">*</span>
<span class="n">comp_operator</span> <span class="p">:</span><span class="o">:=</span>  <span class="s1">&#39;&lt;&#39;</span> <span class="o">|</span> <span class="s1">&#39;&gt;&#39;</span> <span class="o">|</span> <span class="s1">&#39;==&#39;</span> <span class="o">|</span> <span class="s1">&#39;&gt;=&#39;</span> <span class="o">|</span> <span class="s1">&#39;&lt;=&#39;</span> <span class="o">|</span> <span class="s1">&#39;!=&#39;</span> <span class="o">|</span> <span class="s1">&#39;is&#39;</span> <span class="p">[</span><span class="s1">&#39;not&#39;</span><span class="p">]</span> <span class="o">|</span> <span class="p">[</span><span class="s1">&#39;not&#39;</span><span class="p">]</span> <span class="s1">&#39;in&#39;</span>
</pre></div>
</div>
<p>A comparison yields a boolean values (<code class="docutils literal notranslate"><span class="pre">True</span></code> or <code class="docutils literal notranslate"><span class="pre">False</span></code>) or, if one of the operands is a <code class="docutils literal notranslate"><span class="pre">Tensor</span></code>, a boolean
<code class="docutils literal notranslate"><span class="pre">Tensor</span></code>. Comparisons can be chained arbitrarily as long as they do not yield boolean <code class="docutils literal notranslate"><span class="pre">Tensors</span></code> that have more
than one element. <code class="docutils literal notranslate"><span class="pre">a</span> <span class="pre">op1</span> <span class="pre">b</span> <span class="pre">op2</span> <span class="pre">c</span> <span class="pre">...</span></code> is equivalent to <code class="docutils literal notranslate"><span class="pre">a</span> <span class="pre">op1</span> <span class="pre">b</span> <span class="pre">and</span> <span class="pre">b</span> <span class="pre">op2</span> <span class="pre">c</span> <span class="pre">and</span> <span class="pre">...</span></code>.</p>
<div class="section" id="value-comparisons">
<h4>Value Comparisons<a class="headerlink" href="#value-comparisons" title="Permalink to this headline">¶</a></h4>
<p>The operators <code class="docutils literal notranslate"><span class="pre">&lt;</span></code>, <code class="docutils literal notranslate"><span class="pre">&gt;</span></code>, <code class="docutils literal notranslate"><span class="pre">==</span></code>, <code class="docutils literal notranslate"><span class="pre">&gt;=</span></code>, <code class="docutils literal notranslate"><span class="pre">&lt;=</span></code>, and <code class="docutils literal notranslate"><span class="pre">!=</span></code> compare the values of two objects. The two objects generally need to be of
the same type, unless there is an implicit type conversion available between the objects. User-defined types can
be compared if rich comparison methods ( <code class="docutils literal notranslate"><span class="pre">__lt__</span></code> etc.) are defined on them. Built-in type comparison works like
Python:</p>
<ul class="simple">
<li><p>numbers are compared mathematically</p></li>
<li><p>strings are compared lexicographically</p></li>
<li><p>lists, tuples, and dicts can be compared only to other lists, tuples, and dicts of the same type and are compared using the comparison operator of corresponding elements</p></li>
</ul>
</div>
<div class="section" id="membership-test-operations">
<h4>Membership Test Operations<a class="headerlink" href="#membership-test-operations" title="Permalink to this headline">¶</a></h4>
<p>The operators <code class="docutils literal notranslate"><span class="pre">in</span></code> and <code class="docutils literal notranslate"><span class="pre">not</span> <span class="pre">in</span></code> test for membership. <code class="docutils literal notranslate"><span class="pre">x</span> <span class="pre">in</span> <span class="pre">s</span></code> evaluates to <code class="docutils literal notranslate"><span class="pre">True</span></code> if <code class="docutils literal notranslate"><span class="pre">x</span></code> is a member of <code class="docutils literal notranslate"><span class="pre">s</span></code> and <code class="docutils literal notranslate"><span class="pre">False``</span></code> otherwise.
<code class="docutils literal notranslate"><span class="pre">x</span> <span class="pre">not</span> <span class="pre">in</span> <span class="pre">s</span></code> is equivalent to <code class="docutils literal notranslate"><span class="pre">not</span> <span class="pre">x</span> <span class="pre">in</span> <span class="pre">s</span></code>. This operator is supported for lists, dicts, and tuples, and can be used with
user-defined types if they implement the <code class="docutils literal notranslate"><span class="pre">__contains__</span></code> method.</p>
</div>
<div class="section" id="identity-comparisons">
<h4>Identity Comparisons<a class="headerlink" href="#identity-comparisons" title="Permalink to this headline">¶</a></h4>
<p>For all types except <code class="docutils literal notranslate"><span class="pre">int</span></code>, <code class="docutils literal notranslate"><span class="pre">double</span></code>, <code class="docutils literal notranslate"><span class="pre">bool</span></code>, and <code class="docutils literal notranslate"><span class="pre">torch.device</span></code>, operators <code class="docutils literal notranslate"><span class="pre">is</span></code> and <code class="docutils literal notranslate"><span class="pre">is</span> <span class="pre">not</span></code> test for the object’s identity;
<code class="docutils literal notranslate"><span class="pre">x</span> <span class="pre">is</span> <span class="pre">y</span></code> is <code class="docutils literal notranslate"><span class="pre">True</span></code> if and and only if <code class="docutils literal notranslate"><span class="pre">x</span></code> and <code class="docutils literal notranslate"><span class="pre">y</span></code> are the same object. For all other types, <code class="docutils literal notranslate"><span class="pre">is</span></code> is equivalent to
comparing them using <code class="docutils literal notranslate"><span class="pre">==</span></code>. <code class="docutils literal notranslate"><span class="pre">x</span> <span class="pre">is</span> <span class="pre">not</span> <span class="pre">y</span></code> yields the inverse of <code class="docutils literal notranslate"><span class="pre">x</span> <span class="pre">is</span> <span class="pre">y</span></code>.</p>
</div>
</div>
<div class="section" id="boolean-operations">
<h3>Boolean Operations<a class="headerlink" href="#boolean-operations" title="Permalink to this headline">¶</a></h3>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">or_test</span>  <span class="p">:</span><span class="o">:=</span>  <span class="n">and_test</span> <span class="o">|</span> <span class="n">or_test</span> <span class="s1">&#39;or&#39;</span> <span class="n">and_test</span>
<span class="n">and_test</span> <span class="p">:</span><span class="o">:=</span>  <span class="n">not_test</span> <span class="o">|</span> <span class="n">and_test</span> <span class="s1">&#39;and&#39;</span> <span class="n">not_test</span>
<span class="n">not_test</span> <span class="p">:</span><span class="o">:=</span>  <span class="s1">&#39;bool&#39;</span> <span class="s1">&#39;(&#39;</span> <span class="n">or_expr</span> <span class="s1">&#39;)&#39;</span> <span class="o">|</span> <span class="n">comparison</span> <span class="o">|</span> <span class="s1">&#39;not&#39;</span> <span class="n">not_test</span>
</pre></div>
</div>
<p>User-defined objects can customize their conversion to <code class="docutils literal notranslate"><span class="pre">bool</span></code> by implementing a <code class="docutils literal notranslate"><span class="pre">__bool__</span></code> method. The operator <code class="docutils literal notranslate"><span class="pre">not</span></code>
yields <code class="docutils literal notranslate"><span class="pre">True</span></code> if its operand is false, <code class="docutils literal notranslate"><span class="pre">False</span></code> otherwise. The expression <code class="docutils literal notranslate"><span class="pre">x</span></code> and <code class="docutils literal notranslate"><span class="pre">y</span></code> first evaluates <code class="docutils literal notranslate"><span class="pre">x</span></code>; if it is <code class="docutils literal notranslate"><span class="pre">False</span></code>, its
value (<code class="docutils literal notranslate"><span class="pre">False</span></code>) is returned; otherwise, <code class="docutils literal notranslate"><span class="pre">y</span></code> is evaluated and its value is returned (<code class="docutils literal notranslate"><span class="pre">False</span></code> or <code class="docutils literal notranslate"><span class="pre">True</span></code>). The expression <code class="docutils literal notranslate"><span class="pre">x</span></code> or <code class="docutils literal notranslate"><span class="pre">y</span></code>
first evaluates <code class="docutils literal notranslate"><span class="pre">x</span></code>; if it is <code class="docutils literal notranslate"><span class="pre">True</span></code>, its value (<code class="docutils literal notranslate"><span class="pre">True</span></code>) is returned; otherwise, <code class="docutils literal notranslate"><span class="pre">y</span></code> is evaluated and its value is returned
(<code class="docutils literal notranslate"><span class="pre">False</span></code> or <code class="docutils literal notranslate"><span class="pre">True</span></code>).</p>
</div>
<div class="section" id="conditional-expressions">
<h3>Conditional Expressions<a class="headerlink" href="#conditional-expressions" title="Permalink to this headline">¶</a></h3>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">conditional_expression</span> <span class="p">:</span><span class="o">:=</span>  <span class="n">or_expr</span> <span class="p">[</span><span class="s1">&#39;if&#39;</span> <span class="n">or_test</span> <span class="s1">&#39;else&#39;</span> <span class="n">conditional_expression</span><span class="p">]</span>
 <span class="n">expression</span>            <span class="p">:</span><span class="o">:=</span>  <span class="n">conditional_expression</span>
</pre></div>
</div>
<p>The expression <code class="docutils literal notranslate"><span class="pre">x</span> <span class="pre">if</span> <span class="pre">c</span> <span class="pre">else</span> <span class="pre">y</span></code> first evaluates the condition <code class="docutils literal notranslate"><span class="pre">c</span></code> rather than x. If <code class="docutils literal notranslate"><span class="pre">c</span></code> is <code class="docutils literal notranslate"><span class="pre">True</span></code>, <code class="docutils literal notranslate"><span class="pre">x</span></code> is
evaluated and its value is returned; otherwise, <code class="docutils literal notranslate"><span class="pre">y</span></code> is evaluated and its value is returned. As with if-statements,
<code class="docutils literal notranslate"><span class="pre">x</span></code> and <code class="docutils literal notranslate"><span class="pre">y</span></code> must evaluate to a value of the same type.</p>
</div>
<div class="section" id="expression-lists">
<h3>Expression Lists<a class="headerlink" href="#expression-lists" title="Permalink to this headline">¶</a></h3>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">expression_list</span> <span class="p">:</span><span class="o">:=</span>  <span class="n">expression</span> <span class="p">(</span><span class="s1">&#39;,&#39;</span> <span class="n">expression</span><span class="p">)</span><span class="o">*</span> <span class="p">[</span><span class="s1">&#39;,&#39;</span><span class="p">]</span>
<span class="n">starred_item</span>    <span class="p">:</span><span class="o">:=</span>  <span class="s1">&#39;*&#39;</span> <span class="n">primary</span>
</pre></div>
</div>
<p>A starred item can only appear on the left-hand side of an assignment statement, e.g. <code class="docutils literal notranslate"><span class="pre">a,</span> <span class="pre">*b,</span> <span class="pre">c</span> <span class="pre">=</span> <span class="pre">...</span></code>.</p>
</div>
</div>
</div>


             </article>
             
            </div>
            <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="generated/torch.jit.script.html" class="btn btn-neutral float-right" title="torch.jit.script" accesskey="n" rel="next">Next <img src="_static/images/chevron-right-orange.svg" class="next-page"></a>
      
      
        <a href="jit_language_reference.html" class="btn btn-neutral" title="TorchScript Language Reference" accesskey="p" rel="prev"><img src="_static/images/chevron-right-orange.svg" class="previous-page"> Previous</a>
      
    </div>
  

  

    <hr>

  

  <div role="contentinfo">
    <p>
        &copy; Copyright 2019, Torch Contributors.

    </p>
  </div>
    
      <div>
        Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.
      </div>
     

</footer>

          </div>
        </div>

        <div class="pytorch-content-right" id="pytorch-content-right">
          <div class="pytorch-right-menu" id="pytorch-right-menu">
            <div class="pytorch-side-scroll" id="pytorch-side-scroll-right">
              <ul>
<li><a class="reference internal" href="#">TorchScript Language Reference</a><ul>
<li><a class="reference internal" href="#expressions">Expressions</a><ul>
<li><a class="reference internal" href="#arithmetic-conversions">Arithmetic Conversions</a></li>
<li><a class="reference internal" href="#atoms">Atoms</a><ul>
<li><a class="reference internal" href="#identifiers">Identifiers</a></li>
<li><a class="reference internal" href="#literals">Literals</a></li>
<li><a class="reference internal" href="#parenthesized-forms">Parenthesized Forms</a></li>
<li><a class="reference internal" href="#list-and-dictionary-displays">List and Dictionary Displays</a></li>
</ul>
</li>
<li><a class="reference internal" href="#primaries">Primaries</a><ul>
<li><a class="reference internal" href="#attribute-references">Attribute References</a></li>
<li><a class="reference internal" href="#subscriptions">Subscriptions</a></li>
<li><a class="reference internal" href="#slicings">Slicings</a></li>
<li><a class="reference internal" href="#calls">Calls</a></li>
</ul>
</li>
<li><a class="reference internal" href="#power-operator">Power Operator</a></li>
<li><a class="reference internal" href="#unary-and-arithmetic-bitwise-operations">Unary and Arithmetic Bitwise Operations</a></li>
<li><a class="reference internal" href="#binary-arithmetic-operations">Binary Arithmetic Operations</a></li>
<li><a class="reference internal" href="#shifting-operations">Shifting Operations</a></li>
<li><a class="reference internal" href="#binary-bitwise-operations">Binary Bitwise Operations</a></li>
<li><a class="reference internal" href="#comparisons">Comparisons</a><ul>
<li><a class="reference internal" href="#value-comparisons">Value Comparisons</a></li>
<li><a class="reference internal" href="#membership-test-operations">Membership Test Operations</a></li>
<li><a class="reference internal" href="#identity-comparisons">Identity Comparisons</a></li>
</ul>
</li>
<li><a class="reference internal" href="#boolean-operations">Boolean Operations</a></li>
<li><a class="reference internal" href="#conditional-expressions">Conditional Expressions</a></li>
<li><a class="reference internal" href="#expression-lists">Expression Lists</a></li>
</ul>
</li>
</ul>
</li>
</ul>

            </div>
          </div>
        </div>
      </section>
    </div>

  


  

     
       <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
         <script src="_static/jquery.js"></script>
         <script src="_static/underscore.js"></script>
         <script src="_static/doctools.js"></script>
         <script src="_static/language_data.js"></script>
     

  

  <script type="text/javascript" src="_static/js/vendor/popper.min.js"></script>
  <script type="text/javascript" src="_static/js/vendor/bootstrap.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/list.js/1.5.0/list.min.js"></script>
  <script type="text/javascript" src="_static/js/theme.js"></script>

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>
 
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-90545585-1', 'auto');
  ga('send', 'pageview');

</script>

<script async src="https://www.googletagmanager.com/gtag/js?id=UA-117752657-2"></script>

<script>
  window.dataLayer = window.dataLayer || [];

  function gtag(){dataLayer.push(arguments);}

  gtag('js', new Date());
  gtag('config', 'UA-117752657-2');
</script>

<img height="1" width="1" style="border-style:none;" alt="" src="https://www.googleadservices.com/pagead/conversion/795629140/?label=txkmCPmdtosBENSssfsC&amp;guid=ON&amp;script=0"/>


  <!-- Begin Footer -->

  <div class="container-fluid docs-tutorials-resources" id="docs-tutorials-resources">
    <div class="container">
      <div class="row">
        <div class="col-md-4 text-center">
          <h2>Docs</h2>
          <p>Access comprehensive developer documentation for PyTorch</p>
          <a class="with-right-arrow" href="https://pytorch.org/docs/stable/index.html">View Docs</a>
        </div>

        <div class="col-md-4 text-center">
          <h2>Tutorials</h2>
          <p>Get in-depth tutorials for beginners and advanced developers</p>
          <a class="with-right-arrow" href="https://pytorch.org/tutorials">View Tutorials</a>
        </div>

        <div class="col-md-4 text-center">
          <h2>Resources</h2>
          <p>Find development resources and get your questions answered</p>
          <a class="with-right-arrow" href="https://pytorch.org/resources">View Resources</a>
        </div>
      </div>
    </div>
  </div>

  <footer class="site-footer">
    <div class="container footer-container">
      <div class="footer-logo-wrapper">
        <a href="https://pytorch.org/" class="footer-logo"></a>
      </div>

      <div class="footer-links-wrapper">
        <div class="footer-links-col">
          <ul>
            <li class="list-title"><a href="https://pytorch.org/">PyTorch</a></li>
            <li><a href="https://pytorch.org/get-started">Get Started</a></li>
            <li><a href="https://pytorch.org/features">Features</a></li>
            <li><a href="https://pytorch.org/ecosystem">Ecosystem</a></li>
            <li><a href="https://pytorch.org/blog/">Blog</a></li>
            <li><a href="https://github.com/pytorch/pytorch/blob/master/CONTRIBUTING.md">Contributing</a></li>
          </ul>
        </div>

        <div class="footer-links-col">
          <ul>
            <li class="list-title"><a href="https://pytorch.org/resources">Resources</a></li>
            <li><a href="https://pytorch.org/tutorials">Tutorials</a></li>
            <li><a href="https://pytorch.org/docs/stable/index.html">Docs</a></li>
            <li><a href="https://discuss.pytorch.org" target="_blank">Discuss</a></li>
            <li><a href="https://github.com/pytorch/pytorch/issues" target="_blank">Github Issues</a></li>
            <li><a href="https://pytorch.org/assets/brand-guidelines/PyTorch-Brand-Guidelines.pdf" target="_blank">Brand Guidelines</a></li>
          </ul>
        </div>

        <div class="footer-links-col follow-us-col">
          <ul>
            <li class="list-title">Stay Connected</li>
            <li>
              <div id="mc_embed_signup">
                <form
                  action="https://twitter.us14.list-manage.com/subscribe/post?u=75419c71fe0a935e53dfa4a3f&id=91d0dccd39"
                  method="post"
                  id="mc-embedded-subscribe-form"
                  name="mc-embedded-subscribe-form"
                  class="email-subscribe-form validate"
                  target="_blank"
                  novalidate>
                  <div id="mc_embed_signup_scroll" class="email-subscribe-form-fields-wrapper">
                    <div class="mc-field-group">
                      <label for="mce-EMAIL" style="display:none;">Email Address</label>
                      <input type="email" value="" name="EMAIL" class="required email" id="mce-EMAIL" placeholder="Email Address">
                    </div>

                    <div id="mce-responses" class="clear">
                      <div class="response" id="mce-error-response" style="display:none"></div>
                      <div class="response" id="mce-success-response" style="display:none"></div>
                    </div>    <!-- real people should not fill this in and expect good things - do not remove this or risk form bot signups-->

                    <div style="position: absolute; left: -5000px;" aria-hidden="true"><input type="text" name="b_75419c71fe0a935e53dfa4a3f_91d0dccd39" tabindex="-1" value=""></div>

                    <div class="clear">
                      <input type="submit" value="" name="subscribe" id="mc-embedded-subscribe" class="button email-subscribe-button">
                    </div>
                  </div>
                </form>
              </div>

            </li>
          </ul>

          <div class="footer-social-icons">
            <a href="https://www.facebook.com/pytorch" target="_blank" class="facebook"></a>
            <a href="https://twitter.com/pytorch" target="_blank" class="twitter"></a>
            <a href="https://www.youtube.com/pytorch" target="_blank" class="youtube"></a>
          </div>
        </div>
      </div>
    </div>
  </footer>

  <div class="cookie-banner-wrapper">
  <div class="container">
    <p class="gdpr-notice">To analyze traffic and optimize your experience, we serve cookies on this site. By clicking or navigating, you agree to allow our usage of cookies. As the current maintainers of this site, Facebook’s Cookies Policy applies. Learn more, including about available controls: <a href="https://www.facebook.com/policies/cookies/">Cookies Policy</a>.</p>
    <img class="close-button" src="_static/images/pytorch-x.svg">
  </div>
</div>

  <!-- End Footer -->

  <!-- Begin Mobile Menu -->

  <div class="mobile-main-menu">
    <div class="container-fluid">
      <div class="container">
        <div class="mobile-main-menu-header-container">
          <a class="header-logo" href="https://pytorch.org/" aria-label="PyTorch"></a>
          <a class="main-menu-close-button" href="#" data-behavior="close-mobile-menu"></a>
        </div>
      </div>
    </div>

    <div class="mobile-main-menu-links-container">
      <div class="main-menu">
        <ul>
          <li>
            <a href="https://pytorch.org/get-started">Get Started</a>
          </li>

          <li>
            <a href="https://pytorch.org/ecosystem">Ecosystem</a>
          </li>

          <li>
            <a href="https://pytorch.org/mobile">Mobile</a>
          </li>

          <li>
            <a href="https://pytorch.org/hub">PyTorch Hub</a>
          </li>

          <li>
            <a href="https://pytorch.org/blog/">Blog</a>
          </li>

          <li>
            <a href="https://pytorch.org/tutorials">Tutorials</a>
          </li>

          <li class="resources-mobile-menu-title" class="active">
            Docs
          </li>

          <ul class="resources-mobile-menu-items">
            <li>
              <a href="https://pytorch.org/docs/stable/index.html">PyTorch</a>
            </li>

            <li>
              <a href="https://pytorch.org/audio/stable/index.html">torchaudio</a>
            </li>

            <li>
              <a href="https://pytorch.org/text/stable/index.html">torchtext</a>
            </li>

            <li>
              <a href="https://pytorch.org/vision/stable/index.html">torchvision</a>
            </li>

            <li>
              <a href="https://pytorch.org/elastic/">TorchElastic</a>
            </li>

            <li>
              <a href="https://pytorch.org/serve/">TorchServe</a>
            </li>

            <li>
              <a href="https://pytorch.org/xla">PyTorch on XLA Devices</a>
            </li>
          </ul>

          <li class="resources-mobile-menu-title">
            Resources
          </li>

          <ul class="resources-mobile-menu-items">
            <li>
              <a href="https://pytorch.org/resources">Developer Resources</a>
            </li>

            <li>
              <a href="https://pytorch.org/features">About</a>
            </li>

            <li>
              <a href="https://pytorch.org/hub">Models (Beta)</a>
            </li>

            <li>
              <a href="https://pytorch.org/#community-module">Community</a>
            </li>

            <li>
              <a href="https://discuss.pytorch.org/">Forums</a>
            </li>
          </ul>

          <li>
            <a href="https://github.com/pytorch/pytorch">Github</a>
          </li>
        </ul>
      </div>
    </div>
  </div>

  <!-- End Mobile Menu -->

  <script type="text/javascript" src="_static/js/vendor/anchor.min.js"></script>

  <script type="text/javascript">
    $(document).ready(function() {
      mobileMenu.bind();
      mobileTOC.bind();
      pytorchAnchors.bind();
      sideMenus.bind();
      scrollToAnchor.bind();
      highlightNavigation.bind();
      mainMenuDropdown.bind();
      filterTags.bind();

      // Add class to links that have code blocks, since we cannot create links in code blocks
      $("article.pytorch-article a span.pre").each(function(e) {
        $(this).closest("a").addClass("has-code");
      });
    })
  </script>
</body>
</html>