


<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta name="robots" content="noindex">
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Rendezvous &mdash; PyTorch 1.11.0 documentation</title>
  

  
  
  
  
    <link rel="canonical" href="https://pytorch.org/docs/stable/elastic/rendezvous.html"/>
  

  

  
  
    

  

  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <!-- <link rel="stylesheet" href="../_static/pygments.css" type="text/css" /> -->
  <link rel="stylesheet" href="../_static/copybutton.css" type="text/css" />
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.10.0-beta/dist/katex.min.css" type="text/css" />
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.13.11/dist/katex.min.css" type="text/css" />
  <link rel="stylesheet" href="../_static/katex-math.css" type="text/css" />
  <link rel="stylesheet" href="../_static/css/jit.css" type="text/css" />
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Expiration Timers" href="timer.html" />
    <link rel="prev" title="Error Propagation" href="errors.html" />


  <!-- Google Analytics -->
  
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-117752657-2"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());

      gtag('config', 'UA-117752657-2');
    </script>
  
  <!-- End Google Analytics -->
  


  
  <script src="../_static/js/modernizr.min.js"></script>

  <!-- Preload the theme fonts -->

<link rel="preload" href="../_static/fonts/FreightSans/freight-sans-book.woff2" as="font" type="font/woff2" crossorigin="anonymous">
<link rel="preload" href="../_static/fonts/FreightSans/freight-sans-medium.woff2" as="font" type="font/woff2" crossorigin="anonymous">
<link rel="preload" href="../_static/fonts/IBMPlexMono/IBMPlexMono-Medium.woff2" as="font" type="font/woff2" crossorigin="anonymous">
<link rel="preload" href="../_static/fonts/FreightSans/freight-sans-bold.woff2" as="font" type="font/woff2" crossorigin="anonymous">
<link rel="preload" href="../_static/fonts/FreightSans/freight-sans-medium-italic.woff2" as="font" type="font/woff2" crossorigin="anonymous">
<link rel="preload" href="../_static/fonts/IBMPlexMono/IBMPlexMono-SemiBold.woff2" as="font" type="font/woff2" crossorigin="anonymous">

<!-- Preload the katex fonts -->

<link rel="preload" href="https://cdn.jsdelivr.net/npm/katex@0.10.0/dist/fonts/KaTeX_Math-Italic.woff2" as="font" type="font/woff2" crossorigin="anonymous">
<link rel="preload" href="https://cdn.jsdelivr.net/npm/katex@0.10.0/dist/fonts/KaTeX_Main-Regular.woff2" as="font" type="font/woff2" crossorigin="anonymous">
<link rel="preload" href="https://cdn.jsdelivr.net/npm/katex@0.10.0/dist/fonts/KaTeX_Main-Bold.woff2" as="font" type="font/woff2" crossorigin="anonymous">
<link rel="preload" href="https://cdn.jsdelivr.net/npm/katex@0.10.0/dist/fonts/KaTeX_Size1-Regular.woff2" as="font" type="font/woff2" crossorigin="anonymous">
<link rel="preload" href="https://cdn.jsdelivr.net/npm/katex@0.10.0/dist/fonts/KaTeX_Size4-Regular.woff2" as="font" type="font/woff2" crossorigin="anonymous">
<link rel="preload" href="https://cdn.jsdelivr.net/npm/katex@0.10.0/dist/fonts/KaTeX_Size2-Regular.woff2" as="font" type="font/woff2" crossorigin="anonymous">
<link rel="preload" href="https://cdn.jsdelivr.net/npm/katex@0.10.0/dist/fonts/KaTeX_Size3-Regular.woff2" as="font" type="font/woff2" crossorigin="anonymous">
<link rel="preload" href="https://cdn.jsdelivr.net/npm/katex@0.10.0/dist/fonts/KaTeX_Caligraphic-Regular.woff2" as="font" type="font/woff2" crossorigin="anonymous">
  <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.15.2/css/all.css" integrity="sha384-vSIIfh2YWi9wW0r9iZe7RJPrKwp6bG+s9QZMoITbCckVJqGCCRhc+ccxNcdpHuYu" crossorigin="anonymous">
</head>

<div class="container-fluid header-holder tutorials-header" id="header-holder">
  <div class="container">
    <div class="header-container">
      <a class="header-logo" href="https://pytorch.org/" aria-label="PyTorch"></a>

      <div class="main-menu">
        <ul>
          <li>
            <a href="https://pytorch.org/get-started">Get Started</a>
          </li>

          <li>
            <a href="https://pytorch.org/ecosystem">Ecosystem</a>
          </li>

          <li>
            <a href="https://pytorch.org/mobile">Mobile</a>
          </li>

          <li>
            <a href="https://pytorch.org/blog/">Blog</a>
          </li>

          <li>
            <a href="https://pytorch.org/tutorials">Tutorials</a>
          </li>

          <li class="active docs-active">
            <div id="resourcesDropdownButton" data-toggle="resources-dropdown" class="resources-dropdown">
              <a class="resource-option with-down-orange-arrow">
                Docs
              </a>
              <div class="resources-dropdown-menu">
                <a class="doc-dropdown-option nav-dropdown-item" href="https://pytorch.org/docs/stable/index.html">
                  <span class="dropdown-title">PyTorch</span>
                  <p></p>
                </a>
                <a class="doc-dropdown-option nav-dropdown-item" href="https://pytorch.org/audio/stable/index.html">
                  <span class="dropdown-title">torchaudio</span>
                  <p></p>
                </a>
                <a class="doc-dropdown-option nav-dropdown-item" href="https://pytorch.org/text/stable/index.html">
                  <span class="dropdown-title">torchtext</span>
                  <p></p>
                </a>
                <a class="doc-dropdown-option nav-dropdown-item" href="https://pytorch.org/vision/stable/index.html">
                  <span class="dropdown-title">torchvision</span>
                  <p></p>
                </a>
                <a class="doc-dropdown-option nav-dropdown-item" href="https://pytorch.org/torchrec">
                  <span class="dropdown-title">TorchRec</span>
                  <p></p>
                </a>
                <a class="doc-dropdown-option nav-dropdown-item" href="https://pytorch.org/data">
                  <span class="dropdown-title">TorchData</span>
                  <p></p>
                </a>
                <a class="doc-dropdown-option nav-dropdown-item" href="https://pytorch.org/serve/">
                  <span class="dropdown-title">TorchServe</span>
                  <p></p>
                </a>
                <a class="doc-dropdown-option nav-dropdown-item" href="https://pytorch.org/xla">
                  <span class="dropdown-title">PyTorch on XLA Devices</span>
                  <p></p>
                </a>
            </div>
          </li>

          <li>
            <div id="resourcesDropdownButton" data-toggle="resources-dropdown" class="resources-dropdown">
              <a class="resource-option with-down-arrow">
                Resources
              </a>
              <div class="resources-dropdown-menu">
                <a class="nav-dropdown-item" href="https://pytorch.org/features">
                  <span class="dropdown-title">About</span>
                  <p>Learn about PyTorch’s features and capabilities</p>
                </a>
                <a class="nav-dropdown-item" href="https://pytorch.org/#community-module">
                  <span class="dropdown-title">Community</span>
                  <p>Join the PyTorch developer community to contribute, learn, and get your questions answered.</p>
                </a>
                <a class="nav-dropdown-item" href="https://pytorch.org/resources">
                  <span class="dropdown-title">Developer Resources</span>
                  <p>Find resources and get questions answered</p>
                </a>
                <a class="nav-dropdown-item" href="https://discuss.pytorch.org/" target="_blank">
                  <span class="dropdown-title">Forums</span>
                  <p>A place to discuss PyTorch code, issues, install, research</p>
                </a>
                <a class="nav-dropdown-item" href="https://pytorch.org/hub">
                  <span class="dropdown-title">Models (Beta)</span>
                  <p>Discover, publish, and reuse pre-trained models</p>
                </a>
              </div>
            </div>
          </li>

          <li>
            <a href="https://github.com/pytorch/pytorch">GitHub</a>
          </li>
        </ul>
      </div>

      <a class="main-menu-open-button" href="#" data-behavior="open-mobile-menu"></a>
    </div>
  </div>
</div>

<body class="pytorch-body">

   

    

    <div class="table-of-contents-link-wrapper">
      <span>Table of Contents</span>
      <a href="#" class="toggle-table-of-contents" data-behavior="toggle-table-of-contents"></a>
    </div>

    <nav data-toggle="wy-nav-shift" class="pytorch-left-menu" id="pytorch-left-menu">
      <div class="pytorch-side-scroll">
        <div class="pytorch-menu pytorch-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          <div class="pytorch-left-menu-search">
            
    <div class="version">
      <a href='https://pytorch.org/docs/versions.html'>1.11.0 &#x25BC</a>
    </div>
    


  


<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search Docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          </div>

          


            
            
              
            
            
              <p class="caption"><span class="caption-text">Notes</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../notes/amp_examples.html">Automatic Mixed Precision examples</a></li>
<li class="toctree-l1"><a class="reference internal" href="../notes/autograd.html">Autograd mechanics</a></li>
<li class="toctree-l1"><a class="reference internal" href="../notes/broadcasting.html">Broadcasting semantics</a></li>
<li class="toctree-l1"><a class="reference internal" href="../notes/cpu_threading_torchscript_inference.html">CPU threading and TorchScript inference</a></li>
<li class="toctree-l1"><a class="reference internal" href="../notes/cuda.html">CUDA semantics</a></li>
<li class="toctree-l1"><a class="reference internal" href="../notes/ddp.html">Distributed Data Parallel</a></li>
<li class="toctree-l1"><a class="reference internal" href="../notes/extending.html">Extending PyTorch</a></li>
<li class="toctree-l1"><a class="reference internal" href="../notes/faq.html">Frequently Asked Questions</a></li>
<li class="toctree-l1"><a class="reference internal" href="../notes/gradcheck.html">Gradcheck mechanics</a></li>
<li class="toctree-l1"><a class="reference internal" href="../notes/hip.html">HIP (ROCm) semantics</a></li>
<li class="toctree-l1"><a class="reference internal" href="../notes/large_scale_deployments.html">Features for large-scale deployments</a></li>
<li class="toctree-l1"><a class="reference internal" href="../notes/modules.html">Modules</a></li>
<li class="toctree-l1"><a class="reference internal" href="../notes/multiprocessing.html">Multiprocessing best practices</a></li>
<li class="toctree-l1"><a class="reference internal" href="../notes/numerical_accuracy.html">Numerical accuracy</a></li>
<li class="toctree-l1"><a class="reference internal" href="../notes/randomness.html">Reproducibility</a></li>
<li class="toctree-l1"><a class="reference internal" href="../notes/serialization.html">Serialization semantics</a></li>
<li class="toctree-l1"><a class="reference internal" href="../notes/windows.html">Windows FAQ</a></li>
</ul>
<p class="caption"><span class="caption-text">Language Bindings</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../cpp_index.html">C++</a></li>
<li class="toctree-l1"><a class="reference external" href="https://pytorch.org/javadoc/">Javadoc</a></li>
<li class="toctree-l1"><a class="reference internal" href="../deploy.html">torch::deploy</a></li>
</ul>
<p class="caption"><span class="caption-text">Python API</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../torch.html">torch</a></li>
<li class="toctree-l1"><a class="reference internal" href="../nn.html">torch.nn</a></li>
<li class="toctree-l1"><a class="reference internal" href="../nn.functional.html">torch.nn.functional</a></li>
<li class="toctree-l1"><a class="reference internal" href="../tensors.html">torch.Tensor</a></li>
<li class="toctree-l1"><a class="reference internal" href="../tensor_attributes.html">Tensor Attributes</a></li>
<li class="toctree-l1"><a class="reference internal" href="../tensor_view.html">Tensor Views</a></li>
<li class="toctree-l1"><a class="reference internal" href="../autograd.html">torch.autograd</a></li>
<li class="toctree-l1"><a class="reference internal" href="../cuda.html">torch.cuda</a></li>
<li class="toctree-l1"><a class="reference internal" href="../amp.html">torch.cuda.amp</a></li>
<li class="toctree-l1"><a class="reference internal" href="../backends.html">torch.backends</a></li>
<li class="toctree-l1"><a class="reference internal" href="../distributed.html">torch.distributed</a></li>
<li class="toctree-l1"><a class="reference internal" href="../distributed.algorithms.join.html">torch.distributed.algorithms.join</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../distributed.elastic.html">torch.distributed.elastic</a></li>
<li class="toctree-l1"><a class="reference internal" href="../fsdp.html">torch.distributed.fsdp</a></li>
<li class="toctree-l1"><a class="reference internal" href="../distributed.optim.html">torch.distributed.optim</a></li>
<li class="toctree-l1"><a class="reference internal" href="../distributions.html">torch.distributions</a></li>
<li class="toctree-l1"><a class="reference internal" href="../fft.html">torch.fft</a></li>
<li class="toctree-l1"><a class="reference internal" href="../futures.html">torch.futures</a></li>
<li class="toctree-l1"><a class="reference internal" href="../fx.html">torch.fx</a></li>
<li class="toctree-l1"><a class="reference internal" href="../hub.html">torch.hub</a></li>
<li class="toctree-l1"><a class="reference internal" href="../jit.html">torch.jit</a></li>
<li class="toctree-l1"><a class="reference internal" href="../linalg.html">torch.linalg</a></li>
<li class="toctree-l1"><a class="reference internal" href="../monitor.html">torch.monitor</a></li>
<li class="toctree-l1"><a class="reference internal" href="../special.html">torch.special</a></li>
<li class="toctree-l1"><a class="reference internal" href="../torch.overrides.html">torch.overrides</a></li>
<li class="toctree-l1"><a class="reference internal" href="../package.html">torch.package</a></li>
<li class="toctree-l1"><a class="reference internal" href="../profiler.html">torch.profiler</a></li>
<li class="toctree-l1"><a class="reference internal" href="../nn.init.html">torch.nn.init</a></li>
<li class="toctree-l1"><a class="reference internal" href="../onnx.html">torch.onnx</a></li>
<li class="toctree-l1"><a class="reference internal" href="../optim.html">torch.optim</a></li>
<li class="toctree-l1"><a class="reference internal" href="../complex_numbers.html">Complex Numbers</a></li>
<li class="toctree-l1"><a class="reference internal" href="../ddp_comm_hooks.html">DDP Communication Hooks</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pipeline.html">Pipeline Parallelism</a></li>
<li class="toctree-l1"><a class="reference internal" href="../quantization.html">Quantization</a></li>
<li class="toctree-l1"><a class="reference internal" href="../rpc.html">Distributed RPC Framework</a></li>
<li class="toctree-l1"><a class="reference internal" href="../random.html">torch.random</a></li>
<li class="toctree-l1"><a class="reference internal" href="../sparse.html">torch.sparse</a></li>
<li class="toctree-l1"><a class="reference internal" href="../storage.html">torch.Storage</a></li>
<li class="toctree-l1"><a class="reference internal" href="../testing.html">torch.testing</a></li>
<li class="toctree-l1"><a class="reference internal" href="../benchmark_utils.html">torch.utils.benchmark</a></li>
<li class="toctree-l1"><a class="reference internal" href="../bottleneck.html">torch.utils.bottleneck</a></li>
<li class="toctree-l1"><a class="reference internal" href="../checkpoint.html">torch.utils.checkpoint</a></li>
<li class="toctree-l1"><a class="reference internal" href="../cpp_extension.html">torch.utils.cpp_extension</a></li>
<li class="toctree-l1"><a class="reference internal" href="../data.html">torch.utils.data</a></li>
<li class="toctree-l1"><a class="reference internal" href="../dlpack.html">torch.utils.dlpack</a></li>
<li class="toctree-l1"><a class="reference internal" href="../mobile_optimizer.html">torch.utils.mobile_optimizer</a></li>
<li class="toctree-l1"><a class="reference internal" href="../model_zoo.html">torch.utils.model_zoo</a></li>
<li class="toctree-l1"><a class="reference internal" href="../tensorboard.html">torch.utils.tensorboard</a></li>
<li class="toctree-l1"><a class="reference internal" href="../type_info.html">Type Info</a></li>
<li class="toctree-l1"><a class="reference internal" href="../named_tensor.html">Named Tensors</a></li>
<li class="toctree-l1"><a class="reference internal" href="../name_inference.html">Named Tensors operator coverage</a></li>
<li class="toctree-l1"><a class="reference internal" href="../__config__.html">torch.__config__</a></li>
</ul>
<p class="caption"><span class="caption-text">Libraries</span></p>
<ul>
<li class="toctree-l1"><a class="reference external" href="https://pytorch.org/audio/stable">torchaudio</a></li>
<li class="toctree-l1"><a class="reference external" href="https://pytorch.org/text/stable">torchtext</a></li>
<li class="toctree-l1"><a class="reference external" href="https://pytorch.org/vision/stable">torchvision</a></li>
<li class="toctree-l1"><a class="reference external" href="https://pytorch.org/serve">TorchServe</a></li>
<li class="toctree-l1"><a class="reference external" href="http://pytorch.org/xla/">PyTorch on XLA Devices</a></li>
</ul>
<p class="caption"><span class="caption-text">Community</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../community/contribution_guide.html">PyTorch Contribution Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../community/governance.html">PyTorch Governance</a></li>
<li class="toctree-l1"><a class="reference internal" href="../community/persons_of_interest.html">PyTorch Governance | Persons of Interest</a></li>
</ul>

            
          

        </div>
      </div>
    </nav>

    <div class="pytorch-container">
      <div class="pytorch-page-level-bar" id="pytorch-page-level-bar">
        <div class="pytorch-breadcrumbs-wrapper">
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="pytorch-breadcrumbs">
    
      <li>
        <a href="../index.html">
          
            Docs
          
        </a> &gt;
      </li>

        
          <li><a href="../distributed.elastic.html">Torch Distributed Elastic</a> &gt;</li>
        
      <li>Rendezvous</li>
    
    
      <li class="pytorch-breadcrumbs-aside">
        
            
            <a href="../_sources/elastic/rendezvous.rst.txt" rel="nofollow"><img src="../_static/images/view-page-source-icon.svg"></a>
          
        
      </li>
    
  </ul>

  
</div>
        </div>

        <div class="pytorch-shortcuts-wrapper" id="pytorch-shortcuts-wrapper">
          Shortcuts
        </div>
      </div>

      <section data-toggle="wy-nav-shift" id="pytorch-content-wrap" class="pytorch-content-wrap">
        <div class="pytorch-content-left">

        
          
          <div class="rst-content">
          
            <div role="main" class="main-content" itemscope="itemscope" itemtype="http://schema.org/Article">
             <article itemprop="articleBody" id="pytorch-article" class="pytorch-article">
              
  <div class="section" id="module-torch.distributed.elastic.rendezvous">
<span id="rendezvous"></span><span id="rendezvous-api"></span><h1>Rendezvous<a class="headerlink" href="#module-torch.distributed.elastic.rendezvous" title="Permalink to this headline">¶</a></h1>
<p>In the context of Torch Distributed Elastic we use the term <em>rendezvous</em> to
refer to a particular functionality that combines a <strong>distributed
synchronization</strong> primitive with <strong>peer discovery</strong>.</p>
<p>It is used by Torch Distributed Elastic to gather participants of a training
job (i.e. nodes) such that they all agree on the same list of participants and
everyone’s roles, as well as make a consistent collective decision on when
training can begin/resume.</p>
<p>Torch Distributed Elastic rendezvous provides the following critical
functionalities:</p>
<p><strong>Barrier</strong>:</p>
<p>Nodes performing rendezvous will all block until the rendezvous is considered
complete - this happens when at least <code class="docutils literal notranslate"><span class="pre">min</span></code> total number of nodes have joined
the rendezvous barrier (for the same job). This also implies the barrier is not
necessarily of fixed size.</p>
<p>There’s an additional small waiting time after reaching <code class="docutils literal notranslate"><span class="pre">min</span></code> number of
nodes - this is used to ensure the rendezvous is not completed “too quickly”
(which could potentially exclude additional nodes attempting to join at
approximately the same time).</p>
<p>If <code class="docutils literal notranslate"><span class="pre">max</span></code> number of nodes is gathered at the barrier, the rendezvous is
completed immediately.</p>
<p>There’s also an overall timeout which causes the rendezvous to fail if <code class="docutils literal notranslate"><span class="pre">min</span></code>
number of nodes is never reached - this is meant to be a simple fail-safe to
help release partially allocated job resources, in case there’s a problem with
the resource manager, and is meant to be interpreted as non-retryable.</p>
<p><strong>Exclusivity</strong>:</p>
<p>A simple distributed barrier would not be sufficient, as we also need to ensure
that only one group of nodes exists at any given time (for a given job). In
other words, new nodes (i.e. joining late) should not be able to form a parallel
independent group of workers for the same job.</p>
<p>Torch Distributed Elastic rendezvous ensures that if a group of nodes has
already completed a rendezvous (and hence might already be training), then
additional “late” nodes attempting to rendezvous will only announce themselves
as waiting, and will have to wait until the (previously completed) existing
rendezvous is destroyed first.</p>
<p><strong>Consistency</strong>:</p>
<p>When a rendezvous is completed, all its members will agree on the job membership
and everyone’s role in it. This role is represented using an integer, called
rank, that is between between 0 and world size.</p>
<p>Note that ranks are <em>not stable</em>, in the sense that the same node can be
assigned a different rank in the next (re-)rendezvous.</p>
<p><strong>Fault-tolerance</strong>:</p>
<p>Torch Distributed Elastic rendezvous is designed to tolerate node failures
during the rendezvous process. Should a process crash (or lose network
connectivity, etc), between joining the rendezvous and it being completed, then
a re-rendezvous with remaining healthy nodes will happen automatically.</p>
<p>A node can also fail <em>after</em> it has completed (or <em>has been observered</em> by other
nodes to have completed) the rendezvous - this scenario will be handled by the
Torch Distributed Elastic <code class="docutils literal notranslate"><span class="pre">train_loop</span></code> instead (where it will also trigger a
re-rendezvous).</p>
<p><strong>Shared key-value store</strong>:</p>
<p>When the rendezvous is completed, a shared key-value store is created and
returned. This store implements a <code class="docutils literal notranslate"><span class="pre">torch.distributed.Store</span></code> API (see
<a class="reference external" href="https://pytorch.org/docs/stable/distributed.html">distributed communication docs</a>).</p>
<p>This store is only shared by the members of the completed rendezvous. It
is intended to be used by Torch Distributed Elastic to exchange information
necessary to initialize job control and data-planes.</p>
<p><strong>Waiting workers and rendezvous closing</strong>:</p>
<p>Torch Distributed Elastic rendezvous handler object provides additional
functionalities, which are technically not part of the rendezvous process:</p>
<ol class="arabic simple">
<li><p>Querying how many workers arrived late at the barrier, who can participate in
<em>next</em> rendezvous.</p></li>
<li><p>Setting the rendezvous <em>closed</em> to signal all nodes not to participate in
next rendezvous.</p></li>
</ol>
<p><strong>DynamicRendezvousHandler</strong>:</p>
<p>Torch Distributed Elastic comes with the <a class="reference internal" href="#torch.distributed.elastic.rendezvous.dynamic_rendezvous.DynamicRendezvousHandler" title="torch.distributed.elastic.rendezvous.dynamic_rendezvous.DynamicRendezvousHandler"><code class="xref py py-class docutils literal notranslate"><span class="pre">DynamicRendezvousHandler</span></code></a>
class that implements the rendezvous mechanism described above. It is a backend-
agnostic type that expects a particular <a class="reference internal" href="#torch.distributed.elastic.rendezvous.dynamic_rendezvous.RendezvousBackend" title="torch.distributed.elastic.rendezvous.dynamic_rendezvous.RendezvousBackend"><code class="xref py py-class docutils literal notranslate"><span class="pre">RendezvousBackend</span></code></a> instance
to be specified during construction.</p>
<p>Torch distributed users can either implement their own backend type or use one
of the following implementations that come with PyTorch:</p>
<ul>
<li><p><a class="reference internal" href="#torch.distributed.elastic.rendezvous.c10d_rendezvous_backend.C10dRendezvousBackend" title="torch.distributed.elastic.rendezvous.c10d_rendezvous_backend.C10dRendezvousBackend"><code class="xref py py-class docutils literal notranslate"><span class="pre">C10dRendezvousBackend</span></code></a>: Uses a C10d store (by default
<code class="docutils literal notranslate"><span class="pre">TCPStore</span></code>) as the rendezvous backend. The main advantage of using a C10d
store is that it requires no 3rd-party dependency (such as etcd) to establish
a rendezvous.</p></li>
<li><p><a class="reference internal" href="#torch.distributed.elastic.rendezvous.etcd_rendezvous_backend.EtcdRendezvousBackend" title="torch.distributed.elastic.rendezvous.etcd_rendezvous_backend.EtcdRendezvousBackend"><code class="xref py py-class docutils literal notranslate"><span class="pre">EtcdRendezvousBackend</span></code></a>: Supersedes the legacy
<a class="reference internal" href="#torch.distributed.elastic.rendezvous.etcd_rendezvous.EtcdRendezvousHandler" title="torch.distributed.elastic.rendezvous.etcd_rendezvous.EtcdRendezvousHandler"><code class="xref py py-class docutils literal notranslate"><span class="pre">EtcdRendezvousHandler</span></code></a> class. Passing an
<a class="reference internal" href="#torch.distributed.elastic.rendezvous.etcd_rendezvous_backend.EtcdRendezvousBackend" title="torch.distributed.elastic.rendezvous.etcd_rendezvous_backend.EtcdRendezvousBackend"><code class="xref py py-class docutils literal notranslate"><span class="pre">EtcdRendezvousBackend</span></code></a> instance to
<a class="reference internal" href="#torch.distributed.elastic.rendezvous.dynamic_rendezvous.DynamicRendezvousHandler" title="torch.distributed.elastic.rendezvous.dynamic_rendezvous.DynamicRendezvousHandler"><code class="xref py py-class docutils literal notranslate"><span class="pre">DynamicRendezvousHandler</span></code></a> is functionally equivalent to
instantiating an <a class="reference internal" href="#torch.distributed.elastic.rendezvous.etcd_rendezvous.EtcdRendezvousHandler" title="torch.distributed.elastic.rendezvous.etcd_rendezvous.EtcdRendezvousHandler"><code class="xref py py-class docutils literal notranslate"><span class="pre">EtcdRendezvousHandler</span></code></a>.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">store</span> <span class="o">=</span> <span class="n">TCPStore</span><span class="p">(</span><span class="s2">&quot;localhost&quot;</span><span class="p">)</span>

<span class="n">backend</span> <span class="o">=</span> <span class="n">C10dRendezvousBackend</span><span class="p">(</span><span class="n">store</span><span class="p">,</span> <span class="s2">&quot;my_run_id&quot;</span><span class="p">)</span>

<span class="n">rdzv_handler</span> <span class="o">=</span> <span class="n">DynamicRendezvousHandler</span><span class="o">.</span><span class="n">from_backend</span><span class="p">(</span>
    <span class="n">run_id</span><span class="o">=</span><span class="s2">&quot;my_run_id&quot;</span><span class="p">,</span>
    <span class="n">store</span><span class="o">=</span><span class="n">store</span><span class="p">,</span>
    <span class="n">backend</span><span class="o">=</span><span class="n">backend</span><span class="p">,</span>
    <span class="n">min_nodes</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span>
    <span class="n">max_nodes</span><span class="o">=</span><span class="mi">4</span>
<span class="p">)</span>
</pre></div>
</div>
</li>
</ul>
<p>Below is a state diagram describing how rendezvous works.</p>
<img alt="../_images/etcd_rdzv_diagram.png" src="../_images/etcd_rdzv_diagram.png" />
<div class="section" id="registry">
<h2>Registry<a class="headerlink" href="#registry" title="Permalink to this headline">¶</a></h2>
<dl class="py class">
<dt id="torch.distributed.elastic.rendezvous.RendezvousParameters">
<em class="property"><span class="pre">class</span> </em><code class="sig-prename descclassname"><span class="pre">torch.distributed.elastic.rendezvous.</span></code><code class="sig-name descname"><span class="pre">RendezvousParameters</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">backend</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">endpoint</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">run_id</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">min_nodes</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">max_nodes</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/torch/distributed/elastic/rendezvous/api.html#RendezvousParameters"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#torch.distributed.elastic.rendezvous.RendezvousParameters" title="Permalink to this definition">¶</a></dt>
<dd><p>Holds the parameters to construct a <a class="reference internal" href="#torch.distributed.elastic.rendezvous.RendezvousHandler" title="torch.distributed.elastic.rendezvous.RendezvousHandler"><code class="xref py py-class docutils literal notranslate"><span class="pre">RendezvousHandler</span></code></a>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>backend</strong> – The name of the backend to use to handle the rendezvous.</p></li>
<li><p><strong>endpoint</strong> – The endpoint of the rendezvous, usually in form &lt;hostname&gt;[:&lt;port&gt;].</p></li>
<li><p><strong>run_id</strong> – The id of the rendezvous.</p></li>
<li><p><strong>min_nodes</strong> – The minimum number of nodes to admit to the rendezvous.</p></li>
<li><p><strong>max_nodes</strong> – The maximum number of nodes to admit to the rendezvous.</p></li>
<li><p><strong>**kwargs</strong> – Additional parameters for the specified backend.</p></li>
</ul>
</dd>
</dl>
<dl class="py method">
<dt id="torch.distributed.elastic.rendezvous.RendezvousParameters.get">
<code class="sig-name descname"><span class="pre">get</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">key</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">default</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/torch/distributed/elastic/rendezvous/api.html#RendezvousParameters.get"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#torch.distributed.elastic.rendezvous.RendezvousParameters.get" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the value for <code class="docutils literal notranslate"><span class="pre">key</span></code> if <code class="docutils literal notranslate"><span class="pre">key</span></code> exists, else <code class="docutils literal notranslate"><span class="pre">default</span></code>.</p>
</dd></dl>

<dl class="py method">
<dt id="torch.distributed.elastic.rendezvous.RendezvousParameters.get_as_bool">
<code class="sig-name descname"><span class="pre">get_as_bool</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">key</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">default</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/torch/distributed/elastic/rendezvous/api.html#RendezvousParameters.get_as_bool"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#torch.distributed.elastic.rendezvous.RendezvousParameters.get_as_bool" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the value for <code class="docutils literal notranslate"><span class="pre">key</span></code> as a <code class="docutils literal notranslate"><span class="pre">bool</span></code>.</p>
</dd></dl>

<dl class="py method">
<dt id="torch.distributed.elastic.rendezvous.RendezvousParameters.get_as_int">
<code class="sig-name descname"><span class="pre">get_as_int</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">key</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">default</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/torch/distributed/elastic/rendezvous/api.html#RendezvousParameters.get_as_int"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#torch.distributed.elastic.rendezvous.RendezvousParameters.get_as_int" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the value for <code class="docutils literal notranslate"><span class="pre">key</span></code> as an <code class="docutils literal notranslate"><span class="pre">int</span></code>.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt id="torch.distributed.elastic.rendezvous.RendezvousHandlerRegistry">
<em class="property"><span class="pre">class</span> </em><code class="sig-prename descclassname"><span class="pre">torch.distributed.elastic.rendezvous.</span></code><code class="sig-name descname"><span class="pre">RendezvousHandlerRegistry</span></code><a class="reference internal" href="../_modules/torch/distributed/elastic/rendezvous/api.html#RendezvousHandlerRegistry"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#torch.distributed.elastic.rendezvous.RendezvousHandlerRegistry" title="Permalink to this definition">¶</a></dt>
<dd><p>Represents a registry of <a class="reference internal" href="#torch.distributed.elastic.rendezvous.RendezvousHandler" title="torch.distributed.elastic.rendezvous.RendezvousHandler"><code class="xref py py-class docutils literal notranslate"><span class="pre">RendezvousHandler</span></code></a> backends.</p>
<dl class="py method">
<dt id="torch.distributed.elastic.rendezvous.RendezvousHandlerRegistry.create_handler">
<code class="sig-name descname"><span class="pre">create_handler</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">params</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/torch/distributed/elastic/rendezvous/api.html#RendezvousHandlerRegistry.create_handler"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#torch.distributed.elastic.rendezvous.RendezvousHandlerRegistry.create_handler" title="Permalink to this definition">¶</a></dt>
<dd><p>Creates a new <a class="reference internal" href="#torch.distributed.elastic.rendezvous.RendezvousHandler" title="torch.distributed.elastic.rendezvous.RendezvousHandler"><code class="xref py py-class docutils literal notranslate"><span class="pre">RendezvousHandler</span></code></a>.</p>
</dd></dl>

<dl class="py method">
<dt id="torch.distributed.elastic.rendezvous.RendezvousHandlerRegistry.register">
<code class="sig-name descname"><span class="pre">register</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">backend</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">creator</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/torch/distributed/elastic/rendezvous/api.html#RendezvousHandlerRegistry.register"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#torch.distributed.elastic.rendezvous.RendezvousHandlerRegistry.register" title="Permalink to this definition">¶</a></dt>
<dd><p>Registers a new rendezvous backend.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>backend</strong> – The name of the backend.</p></li>
<li><p><strong>creater</strong> – The callback to invoke to construct the
<a class="reference internal" href="#torch.distributed.elastic.rendezvous.RendezvousHandler" title="torch.distributed.elastic.rendezvous.RendezvousHandler"><code class="xref py py-class docutils literal notranslate"><span class="pre">RendezvousHandler</span></code></a>.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

</dd></dl>

<span class="target" id="module-torch.distributed.elastic.rendezvous.registry"></span></div>
<div class="section" id="handler">
<h2>Handler<a class="headerlink" href="#handler" title="Permalink to this headline">¶</a></h2>
<dl class="py class">
<dt id="torch.distributed.elastic.rendezvous.RendezvousHandler">
<em class="property"><span class="pre">class</span> </em><code class="sig-prename descclassname"><span class="pre">torch.distributed.elastic.rendezvous.</span></code><code class="sig-name descname"><span class="pre">RendezvousHandler</span></code><a class="reference internal" href="../_modules/torch/distributed/elastic/rendezvous/api.html#RendezvousHandler"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#torch.distributed.elastic.rendezvous.RendezvousHandler" title="Permalink to this definition">¶</a></dt>
<dd><p>Main rendezvous interface.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Distributed Torch users normally <strong>do not</strong> need to implement their own
<code class="docutils literal notranslate"><span class="pre">RendezvousHandler</span></code>. An implementation based on C10d Store is already
provided, and is recommended for most users.</p>
</div>
<dl class="py method">
<dt id="torch.distributed.elastic.rendezvous.RendezvousHandler.get_backend">
<em class="property"><span class="pre">abstract</span> </em><code class="sig-name descname"><span class="pre">get_backend</span></code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/torch/distributed/elastic/rendezvous/api.html#RendezvousHandler.get_backend"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#torch.distributed.elastic.rendezvous.RendezvousHandler.get_backend" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the name of the rendezvous backend.</p>
</dd></dl>

<dl class="py method">
<dt id="torch.distributed.elastic.rendezvous.RendezvousHandler.get_run_id">
<em class="property"><span class="pre">abstract</span> </em><code class="sig-name descname"><span class="pre">get_run_id</span></code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/torch/distributed/elastic/rendezvous/api.html#RendezvousHandler.get_run_id"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#torch.distributed.elastic.rendezvous.RendezvousHandler.get_run_id" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the run id of the rendezvous.</p>
<p>The run id is a user-defined id that uniquely identifies an instance of
a distributed application. It typically maps to a job id and is used to
allow nodes to join the correct distributed application.</p>
</dd></dl>

<dl class="py method">
<dt id="torch.distributed.elastic.rendezvous.RendezvousHandler.is_closed">
<em class="property"><span class="pre">abstract</span> </em><code class="sig-name descname"><span class="pre">is_closed</span></code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/torch/distributed/elastic/rendezvous/api.html#RendezvousHandler.is_closed"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#torch.distributed.elastic.rendezvous.RendezvousHandler.is_closed" title="Permalink to this definition">¶</a></dt>
<dd><p>Checks whether the rendezvous has been closed.</p>
<p>A closed rendezvous means all future attempts to re-rendezvous within
same job will fail.</p>
<p><code class="docutils literal notranslate"><span class="pre">is_closed()</span></code> and <a class="reference internal" href="#torch.distributed.elastic.rendezvous.RendezvousHandler.set_closed" title="torch.distributed.elastic.rendezvous.RendezvousHandler.set_closed"><code class="xref py py-meth docutils literal notranslate"><span class="pre">set_closed()</span></code></a> have semantics of eventual
propagation and should not be used for synchronization. The intention is
that if at least one node decides the job is finished, it will close the
rendezvous, and other nodes will soon observe this and stop running as
well.</p>
</dd></dl>

<dl class="py method">
<dt id="torch.distributed.elastic.rendezvous.RendezvousHandler.next_rendezvous">
<em class="property"><span class="pre">abstract</span> </em><code class="sig-name descname"><span class="pre">next_rendezvous</span></code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/torch/distributed/elastic/rendezvous/api.html#RendezvousHandler.next_rendezvous"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#torch.distributed.elastic.rendezvous.RendezvousHandler.next_rendezvous" title="Permalink to this definition">¶</a></dt>
<dd><p>Main entry-point into the rendezvous barrier.</p>
<p>Blocks until the rendezvous is complete and the current process is
included in the formed worker group, or a timeout occurs, or the
rendezvous was marked closed.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>A tuple of <a class="reference internal" href="../distributed.html#torch.distributed.Store" title="torch.distributed.Store"><code class="xref py py-class docutils literal notranslate"><span class="pre">torch.distributed.Store</span></code></a>, <code class="docutils literal notranslate"><span class="pre">rank</span></code>, and
<code class="docutils literal notranslate"><span class="pre">world</span> <span class="pre">size</span></code>.</p>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><ul class="simple">
<li><p><a class="reference internal" href="#torch.distributed.elastic.rendezvous.RendezvousClosedError" title="torch.distributed.elastic.rendezvous.RendezvousClosedError"><strong>RendezvousClosedError</strong></a> – The rendezvous is closed.</p></li>
<li><p><a class="reference internal" href="#torch.distributed.elastic.rendezvous.RendezvousConnectionError" title="torch.distributed.elastic.rendezvous.RendezvousConnectionError"><strong>RendezvousConnectionError</strong></a> – The connection to the rendezvous backend has failed.</p></li>
<li><p><a class="reference internal" href="#torch.distributed.elastic.rendezvous.RendezvousStateError" title="torch.distributed.elastic.rendezvous.RendezvousStateError"><strong>RendezvousStateError</strong></a> – The rendezvous state is corrupt.</p></li>
<li><p><a class="reference internal" href="#torch.distributed.elastic.rendezvous.RendezvousTimeoutError" title="torch.distributed.elastic.rendezvous.RendezvousTimeoutError"><strong>RendezvousTimeoutError</strong></a> – The rendezvous did not complete on time.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="torch.distributed.elastic.rendezvous.RendezvousHandler.num_nodes_waiting">
<em class="property"><span class="pre">abstract</span> </em><code class="sig-name descname"><span class="pre">num_nodes_waiting</span></code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/torch/distributed/elastic/rendezvous/api.html#RendezvousHandler.num_nodes_waiting"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#torch.distributed.elastic.rendezvous.RendezvousHandler.num_nodes_waiting" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the number of nodes who arrived late at the rendezvous
barrier, hence were not included in the current worker group.</p>
<p>Callers should periodically call this method to check whether new
nodes are waiting to join the job and if so admit them by calling
<a class="reference internal" href="#torch.distributed.elastic.rendezvous.RendezvousHandler.next_rendezvous" title="torch.distributed.elastic.rendezvous.RendezvousHandler.next_rendezvous"><code class="xref py py-meth docutils literal notranslate"><span class="pre">next_rendezvous()</span></code></a> (re-rendezvous).</p>
</dd></dl>

<dl class="py method">
<dt id="torch.distributed.elastic.rendezvous.RendezvousHandler.set_closed">
<em class="property"><span class="pre">abstract</span> </em><code class="sig-name descname"><span class="pre">set_closed</span></code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/torch/distributed/elastic/rendezvous/api.html#RendezvousHandler.set_closed"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#torch.distributed.elastic.rendezvous.RendezvousHandler.set_closed" title="Permalink to this definition">¶</a></dt>
<dd><p>Marks the rendezvous as closed.</p>
</dd></dl>

<dl class="py method">
<dt id="torch.distributed.elastic.rendezvous.RendezvousHandler.shutdown">
<code class="sig-name descname"><span class="pre">shutdown</span></code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/torch/distributed/elastic/rendezvous/api.html#RendezvousHandler.shutdown"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#torch.distributed.elastic.rendezvous.RendezvousHandler.shutdown" title="Permalink to this definition">¶</a></dt>
<dd><p>Closes all resources that were open for the rendezvous.</p>
<p>Example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">rdzv_handler</span> <span class="o">=</span> <span class="o">...</span>
<span class="k">try</span><span class="p">:</span>
    <span class="n">store</span><span class="p">,</span> <span class="n">rank</span><span class="p">,</span> <span class="n">world_size</span> <span class="o">=</span> <span class="n">rdzv_handler</span><span class="o">.</span><span class="n">next_rendezvous</span><span class="p">()</span>
<span class="k">finally</span><span class="p">:</span>
    <span class="n">rdzv_handler</span><span class="o">.</span><span class="n">shutdown</span><span class="p">()</span>
</pre></div>
</div>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="exceptions">
<h2>Exceptions<a class="headerlink" href="#exceptions" title="Permalink to this headline">¶</a></h2>
<dl class="py class">
<dt id="torch.distributed.elastic.rendezvous.RendezvousError">
<em class="property"><span class="pre">class</span> </em><code class="sig-prename descclassname"><span class="pre">torch.distributed.elastic.rendezvous.</span></code><code class="sig-name descname"><span class="pre">RendezvousError</span></code><a class="reference internal" href="../_modules/torch/distributed/elastic/rendezvous/api.html#RendezvousError"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#torch.distributed.elastic.rendezvous.RendezvousError" title="Permalink to this definition">¶</a></dt>
<dd><p>Represents the base type for rendezvous errors.</p>
</dd></dl>

<dl class="py class">
<dt id="torch.distributed.elastic.rendezvous.RendezvousClosedError">
<em class="property"><span class="pre">class</span> </em><code class="sig-prename descclassname"><span class="pre">torch.distributed.elastic.rendezvous.</span></code><code class="sig-name descname"><span class="pre">RendezvousClosedError</span></code><a class="reference internal" href="../_modules/torch/distributed/elastic/rendezvous/api.html#RendezvousClosedError"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#torch.distributed.elastic.rendezvous.RendezvousClosedError" title="Permalink to this definition">¶</a></dt>
<dd><p>Raised when a rendezvous is closed.</p>
</dd></dl>

<dl class="py class">
<dt id="torch.distributed.elastic.rendezvous.RendezvousTimeoutError">
<em class="property"><span class="pre">class</span> </em><code class="sig-prename descclassname"><span class="pre">torch.distributed.elastic.rendezvous.</span></code><code class="sig-name descname"><span class="pre">RendezvousTimeoutError</span></code><a class="reference internal" href="../_modules/torch/distributed/elastic/rendezvous/api.html#RendezvousTimeoutError"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#torch.distributed.elastic.rendezvous.RendezvousTimeoutError" title="Permalink to this definition">¶</a></dt>
<dd><p>Raised when a rendezvous did not complete on time.</p>
</dd></dl>

<dl class="py class">
<dt id="torch.distributed.elastic.rendezvous.RendezvousConnectionError">
<em class="property"><span class="pre">class</span> </em><code class="sig-prename descclassname"><span class="pre">torch.distributed.elastic.rendezvous.</span></code><code class="sig-name descname"><span class="pre">RendezvousConnectionError</span></code><a class="reference internal" href="../_modules/torch/distributed/elastic/rendezvous/api.html#RendezvousConnectionError"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#torch.distributed.elastic.rendezvous.RendezvousConnectionError" title="Permalink to this definition">¶</a></dt>
<dd><p>Raised when the connection to a rendezvous backend has failed.</p>
</dd></dl>

<dl class="py class">
<dt id="torch.distributed.elastic.rendezvous.RendezvousStateError">
<em class="property"><span class="pre">class</span> </em><code class="sig-prename descclassname"><span class="pre">torch.distributed.elastic.rendezvous.</span></code><code class="sig-name descname"><span class="pre">RendezvousStateError</span></code><a class="reference internal" href="../_modules/torch/distributed/elastic/rendezvous/api.html#RendezvousStateError"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#torch.distributed.elastic.rendezvous.RendezvousStateError" title="Permalink to this definition">¶</a></dt>
<dd><p>Raised when the state of a rendezvous is corrupt.</p>
</dd></dl>

</div>
<div class="section" id="implementations">
<h2>Implementations<a class="headerlink" href="#implementations" title="Permalink to this headline">¶</a></h2>
<div class="section" id="dynamic-rendezvous">
<h3>Dynamic Rendezvous<a class="headerlink" href="#dynamic-rendezvous" title="Permalink to this headline">¶</a></h3>
<dl class="py function">
<dt id="torch.distributed.elastic.rendezvous.dynamic_rendezvous.create_handler">
<code class="sig-prename descclassname"><span class="pre">torch.distributed.elastic.rendezvous.dynamic_rendezvous.</span></code><code class="sig-name descname"><span class="pre">create_handler</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">store</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">backend</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">params</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/torch/distributed/elastic/rendezvous/dynamic_rendezvous.html#create_handler"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#torch.distributed.elastic.rendezvous.dynamic_rendezvous.create_handler" title="Permalink to this definition">¶</a></dt>
<dd><p>Creates a new <a class="reference internal" href="#torch.distributed.elastic.rendezvous.dynamic_rendezvous.DynamicRendezvousHandler" title="torch.distributed.elastic.rendezvous.dynamic_rendezvous.DynamicRendezvousHandler"><code class="xref py py-class docutils literal notranslate"><span class="pre">DynamicRendezvousHandler</span></code></a> from the specified
parameters.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>store</strong> – The C10d store to return as part of the rendezvous.</p></li>
<li><p><strong>backend</strong> – The backend to use to hold the rendezvous state.</p></li>
</ul>
</dd>
</dl>
<table class="docutils colwidths-auto align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Parameter</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>join_timeout</p></td>
<td><p>The total time, in seconds, within which the
rendezvous is expected to complete. Defaults to 600
seconds.</p></td>
</tr>
<tr class="row-odd"><td><p>last_call_timeout</p></td>
<td><p>An additional wait amount, in seconds, before
completing the rendezvous once the minimum number of
nodes has been reached. Defaults to 30 seconds.</p></td>
</tr>
<tr class="row-even"><td><p>close_timeout</p></td>
<td><p>The time, in seconds, within which the rendezvous is
expected to close after a call to
<code class="xref py py-meth docutils literal notranslate"><span class="pre">RendezvousHandler.set_closed()</span></code> or
<code class="xref py py-meth docutils literal notranslate"><span class="pre">RendezvousHandler.shutdown()</span></code>. Defaults to
30 seconds.</p></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="py class">
<dt id="torch.distributed.elastic.rendezvous.dynamic_rendezvous.DynamicRendezvousHandler">
<em class="property"><span class="pre">class</span> </em><code class="sig-prename descclassname"><span class="pre">torch.distributed.elastic.rendezvous.dynamic_rendezvous.</span></code><code class="sig-name descname"><span class="pre">DynamicRendezvousHandler</span></code><a class="reference internal" href="../_modules/torch/distributed/elastic/rendezvous/dynamic_rendezvous.html#DynamicRendezvousHandler"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#torch.distributed.elastic.rendezvous.dynamic_rendezvous.DynamicRendezvousHandler" title="Permalink to this definition">¶</a></dt>
<dd><p>Represents a handler that sets up a rendezvous among a set of nodes.</p>
<dl class="py method">
<dt id="torch.distributed.elastic.rendezvous.dynamic_rendezvous.DynamicRendezvousHandler.from_backend">
<em class="property"><span class="pre">classmethod</span> </em><code class="sig-name descname"><span class="pre">from_backend</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">run_id</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">store</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">backend</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">min_nodes</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">max_nodes</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">timeout</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/torch/distributed/elastic/rendezvous/dynamic_rendezvous.html#DynamicRendezvousHandler.from_backend"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#torch.distributed.elastic.rendezvous.dynamic_rendezvous.DynamicRendezvousHandler.from_backend" title="Permalink to this definition">¶</a></dt>
<dd><p>Creates a new <a class="reference internal" href="#torch.distributed.elastic.rendezvous.dynamic_rendezvous.DynamicRendezvousHandler" title="torch.distributed.elastic.rendezvous.dynamic_rendezvous.DynamicRendezvousHandler"><code class="xref py py-class docutils literal notranslate"><span class="pre">DynamicRendezvousHandler</span></code></a>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>run_id</strong> – The run id of the rendezvous.</p></li>
<li><p><strong>store</strong> – The C10d store to return as part of the rendezvous.</p></li>
<li><p><strong>backend</strong> – The backend to use to hold the rendezvous state.</p></li>
<li><p><strong>min_nodes</strong> – The minimum number of nodes to admit to the rendezvous.</p></li>
<li><p><strong>max_nodes</strong> – The maximum number of nodes to admit to the rendezvous.</p></li>
<li><p><strong>timeout</strong> – The timeout configuration of the rendezvous.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt id="torch.distributed.elastic.rendezvous.dynamic_rendezvous.RendezvousBackend">
<em class="property"><span class="pre">class</span> </em><code class="sig-prename descclassname"><span class="pre">torch.distributed.elastic.rendezvous.dynamic_rendezvous.</span></code><code class="sig-name descname"><span class="pre">RendezvousBackend</span></code><a class="reference internal" href="../_modules/torch/distributed/elastic/rendezvous/dynamic_rendezvous.html#RendezvousBackend"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#torch.distributed.elastic.rendezvous.dynamic_rendezvous.RendezvousBackend" title="Permalink to this definition">¶</a></dt>
<dd><p>Represents a backend that holds the rendezvous state.</p>
<dl class="py method">
<dt id="torch.distributed.elastic.rendezvous.dynamic_rendezvous.RendezvousBackend.get_state">
<em class="property"><span class="pre">abstract</span> </em><code class="sig-name descname"><span class="pre">get_state</span></code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/torch/distributed/elastic/rendezvous/dynamic_rendezvous.html#RendezvousBackend.get_state"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#torch.distributed.elastic.rendezvous.dynamic_rendezvous.RendezvousBackend.get_state" title="Permalink to this definition">¶</a></dt>
<dd><p>Gets the rendezvous state.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>A tuple of the encoded rendezvous state and its fencing token or
<code class="docutils literal notranslate"><span class="pre">None</span></code> if no state is found in the backend.</p>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><ul class="simple">
<li><p><a class="reference internal" href="#torch.distributed.elastic.rendezvous.RendezvousConnectionError" title="torch.distributed.elastic.rendezvous.RendezvousConnectionError"><strong>RendezvousConnectionError</strong></a> – The connection to the backend has failed.</p></li>
<li><p><a class="reference internal" href="#torch.distributed.elastic.rendezvous.RendezvousStateError" title="torch.distributed.elastic.rendezvous.RendezvousStateError"><strong>RendezvousStateError</strong></a> – The rendezvous state is corrupt.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="torch.distributed.elastic.rendezvous.dynamic_rendezvous.RendezvousBackend.name">
<em class="property"><span class="pre">abstract</span> <span class="pre">property</span> </em><code class="sig-name descname"><span class="pre">name</span></code><a class="headerlink" href="#torch.distributed.elastic.rendezvous.dynamic_rendezvous.RendezvousBackend.name" title="Permalink to this definition">¶</a></dt>
<dd><p>Gets the name of the backend.</p>
</dd></dl>

<dl class="py method">
<dt id="torch.distributed.elastic.rendezvous.dynamic_rendezvous.RendezvousBackend.set_state">
<em class="property"><span class="pre">abstract</span> </em><code class="sig-name descname"><span class="pre">set_state</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">state</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">token</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/torch/distributed/elastic/rendezvous/dynamic_rendezvous.html#RendezvousBackend.set_state"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#torch.distributed.elastic.rendezvous.dynamic_rendezvous.RendezvousBackend.set_state" title="Permalink to this definition">¶</a></dt>
<dd><p>Sets the rendezvous state.</p>
<p>The new rendezvous state is set conditionally:</p>
<blockquote>
<div><ul class="simple">
<li><p>If the specified <code class="docutils literal notranslate"><span class="pre">token</span></code> matches the fencing token stored in the
backend, the state will be updated. The new state will be returned
to the caller along with its fencing token.</p></li>
<li><p>If the specified <code class="docutils literal notranslate"><span class="pre">token</span></code> does not match the fencing token stored
in the backend, the state won’t be updated; instead the existing
state along with its fencing token will be returned to the caller.</p></li>
<li><p>If the specified <code class="docutils literal notranslate"><span class="pre">token</span></code> is <code class="docutils literal notranslate"><span class="pre">None</span></code>, the new state will be set
only if there is no existing state in the backend. Either the new
state or the existing state along with its fencing token will be
returned to the caller.</p></li>
</ul>
</div></blockquote>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>state</strong> – The encoded rendezvous state.</p></li>
<li><p><strong>token</strong> – An optional fencing token that was retrieved by a previous call
to <a class="reference internal" href="#torch.distributed.elastic.rendezvous.dynamic_rendezvous.RendezvousBackend.get_state" title="torch.distributed.elastic.rendezvous.dynamic_rendezvous.RendezvousBackend.get_state"><code class="xref py py-meth docutils literal notranslate"><span class="pre">get_state()</span></code></a> or <code class="docutils literal notranslate"><span class="pre">set_state()</span></code>.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>A tuple of the serialized rendezvous state, its fencing token, and
a boolean value indicating whether our set attempt succeeded.</p>
</dd>
<dt class="field-odd">Raises</dt>
<dd class="field-odd"><ul class="simple">
<li><p><a class="reference internal" href="#torch.distributed.elastic.rendezvous.RendezvousConnectionError" title="torch.distributed.elastic.rendezvous.RendezvousConnectionError"><strong>RendezvousConnectionError</strong></a> – The connection to the backend has failed.</p></li>
<li><p><a class="reference internal" href="#torch.distributed.elastic.rendezvous.RendezvousStateError" title="torch.distributed.elastic.rendezvous.RendezvousStateError"><strong>RendezvousStateError</strong></a> – The rendezvous state is corrupt.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt id="torch.distributed.elastic.rendezvous.dynamic_rendezvous.RendezvousTimeout">
<em class="property"><span class="pre">class</span> </em><code class="sig-prename descclassname"><span class="pre">torch.distributed.elastic.rendezvous.dynamic_rendezvous.</span></code><code class="sig-name descname"><span class="pre">RendezvousTimeout</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">join</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">last_call</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">close</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">heartbeat</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/torch/distributed/elastic/rendezvous/dynamic_rendezvous.html#RendezvousTimeout"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#torch.distributed.elastic.rendezvous.dynamic_rendezvous.RendezvousTimeout" title="Permalink to this definition">¶</a></dt>
<dd><p>Holds the timeout configuration of a rendezvous.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>join</strong> – The time within which the rendezvous is expected to complete.</p></li>
<li><p><strong>last_call</strong> – An additional wait amount before completing the rendezvous once the
rendezvous has the minimum number of required participants.</p></li>
<li><p><strong>close</strong> – The time within which the rendezvous is expected to close after a
call to <code class="xref py py-meth docutils literal notranslate"><span class="pre">RendezvousHandler.set_closed()</span></code> or
<code class="xref py py-meth docutils literal notranslate"><span class="pre">RendezvousHandler.shutdown()</span></code>.</p></li>
<li><p><strong>keep_alive</strong> – The time within which a keep-alive heartbeat is expected to
complete.</p></li>
</ul>
</dd>
</dl>
<dl class="py method">
<dt id="torch.distributed.elastic.rendezvous.dynamic_rendezvous.RendezvousTimeout.close">
<em class="property"><span class="pre">property</span> </em><code class="sig-name descname"><span class="pre">close</span></code><a class="headerlink" href="#torch.distributed.elastic.rendezvous.dynamic_rendezvous.RendezvousTimeout.close" title="Permalink to this definition">¶</a></dt>
<dd><p>Gets the close timeout.</p>
</dd></dl>

<dl class="py method">
<dt id="torch.distributed.elastic.rendezvous.dynamic_rendezvous.RendezvousTimeout.heartbeat">
<em class="property"><span class="pre">property</span> </em><code class="sig-name descname"><span class="pre">heartbeat</span></code><a class="headerlink" href="#torch.distributed.elastic.rendezvous.dynamic_rendezvous.RendezvousTimeout.heartbeat" title="Permalink to this definition">¶</a></dt>
<dd><p>Gets the keep-alive heartbeat timeout.</p>
</dd></dl>

<dl class="py method">
<dt id="torch.distributed.elastic.rendezvous.dynamic_rendezvous.RendezvousTimeout.join">
<em class="property"><span class="pre">property</span> </em><code class="sig-name descname"><span class="pre">join</span></code><a class="headerlink" href="#torch.distributed.elastic.rendezvous.dynamic_rendezvous.RendezvousTimeout.join" title="Permalink to this definition">¶</a></dt>
<dd><p>Gets the join timeout.</p>
</dd></dl>

<dl class="py method">
<dt id="torch.distributed.elastic.rendezvous.dynamic_rendezvous.RendezvousTimeout.last_call">
<em class="property"><span class="pre">property</span> </em><code class="sig-name descname"><span class="pre">last_call</span></code><a class="headerlink" href="#torch.distributed.elastic.rendezvous.dynamic_rendezvous.RendezvousTimeout.last_call" title="Permalink to this definition">¶</a></dt>
<dd><p>Gets the last call timeout.</p>
</dd></dl>

</dd></dl>

<div class="section" id="c10d-backend">
<h4>C10d Backend<a class="headerlink" href="#c10d-backend" title="Permalink to this headline">¶</a></h4>
<dl class="py function">
<dt id="torch.distributed.elastic.rendezvous.c10d_rendezvous_backend.create_backend">
<code class="sig-prename descclassname"><span class="pre">torch.distributed.elastic.rendezvous.c10d_rendezvous_backend.</span></code><code class="sig-name descname"><span class="pre">create_backend</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">params</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/torch/distributed/elastic/rendezvous/c10d_rendezvous_backend.html#create_backend"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#torch.distributed.elastic.rendezvous.c10d_rendezvous_backend.create_backend" title="Permalink to this definition">¶</a></dt>
<dd><p>Creates a new <a class="reference internal" href="#torch.distributed.elastic.rendezvous.c10d_rendezvous_backend.C10dRendezvousBackend" title="torch.distributed.elastic.rendezvous.c10d_rendezvous_backend.C10dRendezvousBackend"><code class="xref py py-class docutils literal notranslate"><span class="pre">C10dRendezvousBackend</span></code></a> from the specified
parameters.</p>
<table class="docutils colwidths-auto align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Parameter</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>store_type</p></td>
<td><p>The type of the C10d store. The currently supported types
are “tcp” and “file” which correspond to
<a class="reference internal" href="../distributed.html#torch.distributed.TCPStore" title="torch.distributed.TCPStore"><code class="xref py py-class docutils literal notranslate"><span class="pre">torch.distributed.TCPStore</span></code></a> and
<a class="reference internal" href="../distributed.html#torch.distributed.FileStore" title="torch.distributed.FileStore"><code class="xref py py-class docutils literal notranslate"><span class="pre">torch.distributed.FileStore</span></code></a>, respectively.
Defaults to “tcp”.</p></td>
</tr>
<tr class="row-odd"><td><p>read_timeout</p></td>
<td><p>The read timeout, in seconds, for store operations.
Defaults to 60 seconds.</p>
<p>Note this only applies to
<a class="reference internal" href="../distributed.html#torch.distributed.TCPStore" title="torch.distributed.TCPStore"><code class="xref py py-class docutils literal notranslate"><span class="pre">torch.distributed.TCPStore</span></code></a>. It is not relevant
to <a class="reference internal" href="../distributed.html#torch.distributed.FileStore" title="torch.distributed.FileStore"><code class="xref py py-class docutils literal notranslate"><span class="pre">torch.distributed.FileStore</span></code></a> which does not
take in timeout as a parameter.</p>
</td>
</tr>
<tr class="row-even"><td><p>is_host</p></td>
<td><p>A boolean value indicating whether this backend instance
will host the C10d store. If not specified it will be
inferred heuristically by matching the hostname or the IP
address of this machine against the specified rendezvous
endpoint. Defaults to <code class="docutils literal notranslate"><span class="pre">None</span></code>.</p>
<p>Note that this configuration option only applies to
<a class="reference internal" href="../distributed.html#torch.distributed.TCPStore" title="torch.distributed.TCPStore"><code class="xref py py-class docutils literal notranslate"><span class="pre">torch.distributed.TCPStore</span></code></a>. In normal
circumstances you can safely skip it; the only time when
it is needed is if its value cannot be correctly
determined (e.g. the rendezvous endpoint has a CNAME as
the hostname or does not match the FQDN of the machine).</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="py class">
<dt id="torch.distributed.elastic.rendezvous.c10d_rendezvous_backend.C10dRendezvousBackend">
<em class="property"><span class="pre">class</span> </em><code class="sig-prename descclassname"><span class="pre">torch.distributed.elastic.rendezvous.c10d_rendezvous_backend.</span></code><code class="sig-name descname"><span class="pre">C10dRendezvousBackend</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">store</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">run_id</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/torch/distributed/elastic/rendezvous/c10d_rendezvous_backend.html#C10dRendezvousBackend"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#torch.distributed.elastic.rendezvous.c10d_rendezvous_backend.C10dRendezvousBackend" title="Permalink to this definition">¶</a></dt>
<dd><p>Represents a C10d-backed rendezvous backend.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>store</strong> – The <a class="reference internal" href="../distributed.html#torch.distributed.Store" title="torch.distributed.Store"><code class="xref py py-class docutils literal notranslate"><span class="pre">torch.distributed.Store</span></code></a> instance to use to
communicate with the C10d store.</p></li>
<li><p><strong>run_id</strong> – The run id of the rendezvous.</p></li>
</ul>
</dd>
</dl>
<dl class="py method">
<dt id="torch.distributed.elastic.rendezvous.c10d_rendezvous_backend.C10dRendezvousBackend.get_state">
<code class="sig-name descname"><span class="pre">get_state</span></code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/torch/distributed/elastic/rendezvous/c10d_rendezvous_backend.html#C10dRendezvousBackend.get_state"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#torch.distributed.elastic.rendezvous.c10d_rendezvous_backend.C10dRendezvousBackend.get_state" title="Permalink to this definition">¶</a></dt>
<dd><p>See base class.</p>
</dd></dl>

<dl class="py method">
<dt id="torch.distributed.elastic.rendezvous.c10d_rendezvous_backend.C10dRendezvousBackend.name">
<em class="property"><span class="pre">property</span> </em><code class="sig-name descname"><span class="pre">name</span></code><a class="headerlink" href="#torch.distributed.elastic.rendezvous.c10d_rendezvous_backend.C10dRendezvousBackend.name" title="Permalink to this definition">¶</a></dt>
<dd><p>See base class.</p>
</dd></dl>

<dl class="py method">
<dt id="torch.distributed.elastic.rendezvous.c10d_rendezvous_backend.C10dRendezvousBackend.set_state">
<code class="sig-name descname"><span class="pre">set_state</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">state</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">token</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/torch/distributed/elastic/rendezvous/c10d_rendezvous_backend.html#C10dRendezvousBackend.set_state"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#torch.distributed.elastic.rendezvous.c10d_rendezvous_backend.C10dRendezvousBackend.set_state" title="Permalink to this definition">¶</a></dt>
<dd><p>See base class.</p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="etcd-backend">
<h4>Etcd Backend<a class="headerlink" href="#etcd-backend" title="Permalink to this headline">¶</a></h4>
<dl class="py function">
<dt id="torch.distributed.elastic.rendezvous.etcd_rendezvous_backend.create_backend">
<code class="sig-prename descclassname"><span class="pre">torch.distributed.elastic.rendezvous.etcd_rendezvous_backend.</span></code><code class="sig-name descname"><span class="pre">create_backend</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">params</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/torch/distributed/elastic/rendezvous/etcd_rendezvous_backend.html#create_backend"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#torch.distributed.elastic.rendezvous.etcd_rendezvous_backend.create_backend" title="Permalink to this definition">¶</a></dt>
<dd><p>Creates a new <a class="reference internal" href="#torch.distributed.elastic.rendezvous.etcd_rendezvous_backend.EtcdRendezvousBackend" title="torch.distributed.elastic.rendezvous.etcd_rendezvous_backend.EtcdRendezvousBackend"><code class="xref py py-class docutils literal notranslate"><span class="pre">EtcdRendezvousBackend</span></code></a> from the specified
parameters.</p>
<table class="docutils colwidths-auto align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Parameter</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>read_timeout</p></td>
<td><p>The read timeout, in seconds, for etcd operations.
Defaults to 60 seconds.</p></td>
</tr>
<tr class="row-odd"><td><p>protocol</p></td>
<td><p>The protocol to use to communicate with etcd. Valid
values are “http” and “https”. Defaults to “http”.</p></td>
</tr>
<tr class="row-even"><td><p>ssl_cert</p></td>
<td><p>The path to the SSL client certificate to use along with
HTTPS. Defaults to <code class="docutils literal notranslate"><span class="pre">None</span></code>.</p></td>
</tr>
<tr class="row-odd"><td><p>ssl_cert_key</p></td>
<td><p>The path to the private key of the SSL client certificate
to use along with HTTPS. Defaults to <code class="docutils literal notranslate"><span class="pre">None</span></code>.</p></td>
</tr>
<tr class="row-even"><td><p>ca_cert</p></td>
<td><p>The path to the rool SSL authority certificate. Defaults
to <code class="docutils literal notranslate"><span class="pre">None</span></code>.</p></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="py class">
<dt id="torch.distributed.elastic.rendezvous.etcd_rendezvous_backend.EtcdRendezvousBackend">
<em class="property"><span class="pre">class</span> </em><code class="sig-prename descclassname"><span class="pre">torch.distributed.elastic.rendezvous.etcd_rendezvous_backend.</span></code><code class="sig-name descname"><span class="pre">EtcdRendezvousBackend</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">client</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">run_id</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">key_prefix</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ttl</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/torch/distributed/elastic/rendezvous/etcd_rendezvous_backend.html#EtcdRendezvousBackend"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#torch.distributed.elastic.rendezvous.etcd_rendezvous_backend.EtcdRendezvousBackend" title="Permalink to this definition">¶</a></dt>
<dd><p>Represents an etcd-based rendezvous backend.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>client</strong> – The <code class="docutils literal notranslate"><span class="pre">etcd.Client</span></code> instance to use to communicate with etcd.</p></li>
<li><p><strong>run_id</strong> – The run id of the rendezvous.</p></li>
<li><p><strong>key_prefix</strong> – The path under which to store the rendezvous state in etcd.</p></li>
<li><p><strong>ttl</strong> – The TTL of the rendezvous state. If not specified, defaults to two hours.</p></li>
</ul>
</dd>
</dl>
<dl class="py method">
<dt id="torch.distributed.elastic.rendezvous.etcd_rendezvous_backend.EtcdRendezvousBackend.get_state">
<code class="sig-name descname"><span class="pre">get_state</span></code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/torch/distributed/elastic/rendezvous/etcd_rendezvous_backend.html#EtcdRendezvousBackend.get_state"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#torch.distributed.elastic.rendezvous.etcd_rendezvous_backend.EtcdRendezvousBackend.get_state" title="Permalink to this definition">¶</a></dt>
<dd><p>See base class.</p>
</dd></dl>

<dl class="py method">
<dt id="torch.distributed.elastic.rendezvous.etcd_rendezvous_backend.EtcdRendezvousBackend.name">
<em class="property"><span class="pre">property</span> </em><code class="sig-name descname"><span class="pre">name</span></code><a class="headerlink" href="#torch.distributed.elastic.rendezvous.etcd_rendezvous_backend.EtcdRendezvousBackend.name" title="Permalink to this definition">¶</a></dt>
<dd><p>See base class.</p>
</dd></dl>

<dl class="py method">
<dt id="torch.distributed.elastic.rendezvous.etcd_rendezvous_backend.EtcdRendezvousBackend.set_state">
<code class="sig-name descname"><span class="pre">set_state</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">state</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">token</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/torch/distributed/elastic/rendezvous/etcd_rendezvous_backend.html#EtcdRendezvousBackend.set_state"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#torch.distributed.elastic.rendezvous.etcd_rendezvous_backend.EtcdRendezvousBackend.set_state" title="Permalink to this definition">¶</a></dt>
<dd><p>See base class.</p>
</dd></dl>

</dd></dl>

</div>
</div>
<div class="section" id="etcd-rendezvous-legacy">
<h3>Etcd Rendezvous (Legacy)<a class="headerlink" href="#etcd-rendezvous-legacy" title="Permalink to this headline">¶</a></h3>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>The <code class="docutils literal notranslate"><span class="pre">DynamicRendezvousHandler</span></code> class supersedes the <code class="docutils literal notranslate"><span class="pre">EtcdRendezvousHandler</span></code>
class, and is recommended for most users. <code class="docutils literal notranslate"><span class="pre">EtcdRendezvousHandler</span></code> is in
maintenance mode and will be deprecated in the future.</p>
</div>
<dl class="py class">
<dt id="torch.distributed.elastic.rendezvous.etcd_rendezvous.EtcdRendezvousHandler">
<em class="property"><span class="pre">class</span> </em><code class="sig-prename descclassname"><span class="pre">torch.distributed.elastic.rendezvous.etcd_rendezvous.</span></code><code class="sig-name descname"><span class="pre">EtcdRendezvousHandler</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">rdzv_impl</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/torch/distributed/elastic/rendezvous/etcd_rendezvous.html#EtcdRendezvousHandler"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#torch.distributed.elastic.rendezvous.etcd_rendezvous.EtcdRendezvousHandler" title="Permalink to this definition">¶</a></dt>
<dd><p>Implements a
<a class="reference internal" href="#torch.distributed.elastic.rendezvous.RendezvousHandler" title="torch.distributed.elastic.rendezvous.RendezvousHandler"><code class="xref py py-class docutils literal notranslate"><span class="pre">torch.distributed.elastic.rendezvous.RendezvousHandler</span></code></a> interface
backed by
<code class="xref py py-class docutils literal notranslate"><span class="pre">torch.distributed.elastic.rendezvous.etcd_rendezvous.EtcdRendezvous</span></code>.
<code class="docutils literal notranslate"><span class="pre">EtcdRendezvousHandler</span></code> uses a URL to configure the type of rendezvous to
use and to pass implementation specific configurations to the rendezvous
module. The basic etcd rendezvous configuration URL looks like the following</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>etcd://&lt;etcd_address&gt;:&lt;port&gt;/&lt;job_id&gt;?min_workers=&lt;min_workers&gt;&amp;max_workers=&lt;max_workers&gt;  # noqa: W605

-- example --

etcd://localhost:2379/1234?min_workers=1&amp;max_workers=3
</pre></div>
</div>
<p>The URL above is interpreted as follows:</p>
<ol class="arabic simple">
<li><p>Use the rendezvous handler that is registered with the <code class="docutils literal notranslate"><span class="pre">etcd</span></code>
scheme</p></li>
<li><p>The <code class="docutils literal notranslate"><span class="pre">etcd</span></code> endpoint to use is <code class="docutils literal notranslate"><span class="pre">localhost:2379</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">job_id</span> <span class="pre">==</span> <span class="pre">1234</span></code> is used as the prefix in etcd (this allows one to
share a common etcd server for multiple jobs so long as the
<code class="docutils literal notranslate"><span class="pre">job_ids</span></code> are guaranteed to be unique). Note that the job id can be
any string (e.g. does not need to be a number) as long as it is
unique.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">min_workers=1</span></code> and <code class="docutils literal notranslate"><span class="pre">max_workers=3</span></code> specifies a range for
membership size - Torch Distributed Elastic starts running the job as
long as the cluster size is greater than or equal to <code class="docutils literal notranslate"><span class="pre">min_workers</span></code>
and admits up to <code class="docutils literal notranslate"><span class="pre">max_workers</span></code> into the cluster.</p></li>
</ol>
<p>Below are a full list of the parameters that can be passed to etcd
rendezvous:</p>
<table class="docutils colwidths-auto align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Parameter</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>min_workers</p></td>
<td><p>minimum number of
workers for the
rendezvous to be valid</p></td>
</tr>
<tr class="row-odd"><td><p>max_workers</p></td>
<td><p>maximum number of
workers to admit</p></td>
</tr>
<tr class="row-even"><td><p>timeout</p></td>
<td><p>total timeout within
which next_rendezvous is
expected to succeed
(default 600s)</p></td>
</tr>
<tr class="row-odd"><td><p>last_call_timeout</p></td>
<td><p>additional wait amount
(“last call”) after min
number of workers has
been reached (defaults
to 30s)</p></td>
</tr>
<tr class="row-even"><td><p>etcd_prefix</p></td>
<td><p>path prefix (from etcd
root), inside which all
etcd nodes will be
created (defaults to
<code class="docutils literal notranslate"><span class="pre">/torchelastic/p2p</span></code>)</p></td>
</tr>
</tbody>
</table>
</dd></dl>

</div>
<div class="section" id="etcd-store">
<h3>Etcd Store<a class="headerlink" href="#etcd-store" title="Permalink to this headline">¶</a></h3>
<p>The <code class="docutils literal notranslate"><span class="pre">EtcdStore</span></code> is the C10d <code class="docutils literal notranslate"><span class="pre">Store</span></code> instance type returned by
<code class="docutils literal notranslate"><span class="pre">next_rendezvous()</span></code> when etcd is used as the rendezvous backend.</p>
<dl class="py class">
<dt id="torch.distributed.elastic.rendezvous.etcd_store.EtcdStore">
<em class="property"><span class="pre">class</span> </em><code class="sig-prename descclassname"><span class="pre">torch.distributed.elastic.rendezvous.etcd_store.</span></code><code class="sig-name descname"><span class="pre">EtcdStore</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">etcd_client</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">etcd_store_prefix</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">timeout</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/torch/distributed/elastic/rendezvous/etcd_store.html#EtcdStore"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#torch.distributed.elastic.rendezvous.etcd_store.EtcdStore" title="Permalink to this definition">¶</a></dt>
<dd><p>Implements a c10 Store interface by piggybacking on the rendezvous etcd
instance. This is the store object returned by <code class="docutils literal notranslate"><span class="pre">EtcdRendezvous</span></code></p>
<dl class="py method">
<dt id="torch.distributed.elastic.rendezvous.etcd_store.EtcdStore.add">
<code class="sig-name descname"><span class="pre">add</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">key</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">num</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/torch/distributed/elastic/rendezvous/etcd_store.html#EtcdStore.add"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#torch.distributed.elastic.rendezvous.etcd_store.EtcdStore.add" title="Permalink to this definition">¶</a></dt>
<dd><p>Atomically increment a value by an integer amount. The integer is
represented as a string using base 10. If key is not present,
a default value of <code class="docutils literal notranslate"><span class="pre">0</span></code> will be assumed.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>the new (incremented) value</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="torch.distributed.elastic.rendezvous.etcd_store.EtcdStore.check">
<code class="sig-name descname"><span class="pre">check</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">keys</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/torch/distributed/elastic/rendezvous/etcd_store.html#EtcdStore.check"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#torch.distributed.elastic.rendezvous.etcd_store.EtcdStore.check" title="Permalink to this definition">¶</a></dt>
<dd><p>Check if all of the keys are immediately present (without waiting).</p>
</dd></dl>

<dl class="py method">
<dt id="torch.distributed.elastic.rendezvous.etcd_store.EtcdStore.get">
<code class="sig-name descname"><span class="pre">get</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">key</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/torch/distributed/elastic/rendezvous/etcd_store.html#EtcdStore.get"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#torch.distributed.elastic.rendezvous.etcd_store.EtcdStore.get" title="Permalink to this definition">¶</a></dt>
<dd><p>Get a value by key, possibly doing a blocking wait.</p>
<p>If key is not immediately present, will do a blocking wait
for at most <code class="docutils literal notranslate"><span class="pre">timeout</span></code> duration or until the key is published.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>value <code class="docutils literal notranslate"><span class="pre">(bytes)</span></code></p>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><p><strong>LookupError - If key still not published after timeout</strong> – </p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="torch.distributed.elastic.rendezvous.etcd_store.EtcdStore.set">
<code class="sig-name descname"><span class="pre">set</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">key</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">value</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/torch/distributed/elastic/rendezvous/etcd_store.html#EtcdStore.set"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#torch.distributed.elastic.rendezvous.etcd_store.EtcdStore.set" title="Permalink to this definition">¶</a></dt>
<dd><p>Write a key/value pair into <code class="docutils literal notranslate"><span class="pre">EtcdStore</span></code>.
Both key and value may be either Python <code class="docutils literal notranslate"><span class="pre">str</span></code> or <code class="docutils literal notranslate"><span class="pre">bytes</span></code>.</p>
</dd></dl>

<dl class="py method">
<dt id="torch.distributed.elastic.rendezvous.etcd_store.EtcdStore.wait">
<code class="sig-name descname"><span class="pre">wait</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">keys</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">override_timeout</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/torch/distributed/elastic/rendezvous/etcd_store.html#EtcdStore.wait"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#torch.distributed.elastic.rendezvous.etcd_store.EtcdStore.wait" title="Permalink to this definition">¶</a></dt>
<dd><p>Waits until all of the keys are published, or until timeout.</p>
<dl class="field-list simple">
<dt class="field-odd">Raises</dt>
<dd class="field-odd"><p><strong>LookupError - if timeout occurs</strong> – </p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="etcd-server">
<h3>Etcd Server<a class="headerlink" href="#etcd-server" title="Permalink to this headline">¶</a></h3>
<p>The <code class="docutils literal notranslate"><span class="pre">EtcdServer</span></code> is a convenience class that makes it easy for you to
start and stop an etcd server on a subprocess. This is useful for testing
or single-node (multi-worker) deployments where manually setting up an
etcd server on the side is cumbersome.</p>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>For production and multi-node deployments please consider
properly deploying a highly available etcd server as this is
the single point of failure for your distributed jobs.</p>
</div>
<dl class="py class">
<dt id="torch.distributed.elastic.rendezvous.etcd_server.EtcdServer">
<em class="property"><span class="pre">class</span> </em><code class="sig-prename descclassname"><span class="pre">torch.distributed.elastic.rendezvous.etcd_server.</span></code><code class="sig-name descname"><span class="pre">EtcdServer</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">data_dir</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/torch/distributed/elastic/rendezvous/etcd_server.html#EtcdServer"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#torch.distributed.elastic.rendezvous.etcd_server.EtcdServer" title="Permalink to this definition">¶</a></dt>
<dd><div class="admonition note">
<p class="admonition-title">Note</p>
<p>tested on etcd server v3.4.3</p>
</div>
<p>Starts and stops a local standalone etcd server on a random free
port. Useful for single node, multi-worker launches or testing,
where a sidecar etcd server is more convenient than having to
separately setup an etcd server.</p>
<p>This class registers a termination handler to shutdown the etcd
subprocess on exit. This termination handler is NOT a substitute for
calling the <code class="docutils literal notranslate"><span class="pre">stop()</span></code> method.</p>
<p>The following fallback mechanism is used to find the etcd binary:</p>
<ol class="arabic simple">
<li><p>Uses env var TORCHELASTIC_ETCD_BINARY_PATH</p></li>
<li><p>Uses <code class="docutils literal notranslate"><span class="pre">&lt;this</span> <span class="pre">file</span> <span class="pre">root&gt;/bin/etcd</span></code> if one exists</p></li>
<li><p>Uses <code class="docutils literal notranslate"><span class="pre">etcd</span></code> from <code class="docutils literal notranslate"><span class="pre">PATH</span></code></p></li>
</ol>
<p>Usage</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">server</span> <span class="o">=</span> <span class="n">EtcdServer</span><span class="p">(</span><span class="s2">&quot;/usr/bin/etcd&quot;</span><span class="p">,</span> <span class="mi">2379</span><span class="p">,</span> <span class="s2">&quot;/tmp/default.etcd&quot;</span><span class="p">)</span>
<span class="n">server</span><span class="o">.</span><span class="n">start</span><span class="p">()</span>
<span class="n">client</span> <span class="o">=</span> <span class="n">server</span><span class="o">.</span><span class="n">get_client</span><span class="p">()</span>
<span class="c1"># use client</span>
<span class="n">server</span><span class="o">.</span><span class="n">stop</span><span class="p">()</span>
</pre></div>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>etcd_binary_path</strong> – path of etcd server binary (see above for fallback path)</p>
</dd>
</dl>
</dd></dl>

</div>
</div>
</div>


             </article>
             
            </div>
            <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="timer.html" class="btn btn-neutral float-right" title="Expiration Timers" accesskey="n" rel="next">Next <img src="../_static/images/chevron-right-orange.svg" class="next-page"></a>
      
      
        <a href="errors.html" class="btn btn-neutral" title="Error Propagation" accesskey="p" rel="prev"><img src="../_static/images/chevron-right-orange.svg" class="previous-page"> Previous</a>
      
    </div>
  

  

    <hr>

  

  <div role="contentinfo">
    <p>
        &copy; Copyright 2019, Torch Contributors.

    </p>
  </div>
    
      <div>
        Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.
      </div>
     

</footer>

          </div>
        </div>

        <div class="pytorch-content-right" id="pytorch-content-right">
          <div class="pytorch-right-menu" id="pytorch-right-menu">
            <div class="pytorch-side-scroll" id="pytorch-side-scroll-right">
              <ul>
<li><a class="reference internal" href="#">Rendezvous</a><ul>
<li><a class="reference internal" href="#registry">Registry</a></li>
<li><a class="reference internal" href="#handler">Handler</a></li>
<li><a class="reference internal" href="#exceptions">Exceptions</a></li>
<li><a class="reference internal" href="#implementations">Implementations</a><ul>
<li><a class="reference internal" href="#dynamic-rendezvous">Dynamic Rendezvous</a><ul>
<li><a class="reference internal" href="#c10d-backend">C10d Backend</a></li>
<li><a class="reference internal" href="#etcd-backend">Etcd Backend</a></li>
</ul>
</li>
<li><a class="reference internal" href="#etcd-rendezvous-legacy">Etcd Rendezvous (Legacy)</a></li>
<li><a class="reference internal" href="#etcd-store">Etcd Store</a></li>
<li><a class="reference internal" href="#etcd-server">Etcd Server</a></li>
</ul>
</li>
</ul>
</li>
</ul>

            </div>
          </div>
        </div>
      </section>
    </div>

  


  

     
       <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
         <script src="../_static/jquery.js"></script>
         <script src="../_static/underscore.js"></script>
         <script src="../_static/doctools.js"></script>
         <script src="../_static/clipboard.min.js"></script>
         <script src="../_static/copybutton.js"></script>
     

  

  <script type="text/javascript" src="../_static/js/vendor/popper.min.js"></script>
  <script type="text/javascript" src="../_static/js/vendor/bootstrap.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/list.js/1.5.0/list.min.js"></script>
  <script type="text/javascript" src="../_static/js/theme.js"></script>

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>
 
<script script type="text/javascript">
  var collapsedSections = ['Notes', 'Language Bindings', 'Libraries', 'Community'];
</script>

<img height="1" width="1" style="border-style:none;" alt="" src="https://www.googleadservices.com/pagead/conversion/795629140/?label=txkmCPmdtosBENSssfsC&amp;guid=ON&amp;script=0"/>


  <!-- Begin Footer -->

  <div class="container-fluid docs-tutorials-resources" id="docs-tutorials-resources">
    <div class="container">
      <div class="row">
        <div class="col-md-4 text-center">
          <h2>Docs</h2>
          <p>Access comprehensive developer documentation for PyTorch</p>
          <a class="with-right-arrow" href="https://pytorch.org/docs/stable/index.html">View Docs</a>
        </div>

        <div class="col-md-4 text-center">
          <h2>Tutorials</h2>
          <p>Get in-depth tutorials for beginners and advanced developers</p>
          <a class="with-right-arrow" href="https://pytorch.org/tutorials">View Tutorials</a>
        </div>

        <div class="col-md-4 text-center">
          <h2>Resources</h2>
          <p>Find development resources and get your questions answered</p>
          <a class="with-right-arrow" href="https://pytorch.org/resources">View Resources</a>
        </div>
      </div>
    </div>
  </div>

  <footer class="site-footer">
    <div class="container footer-container">
      <div class="footer-logo-wrapper">
        <a href="https://pytorch.org/" class="footer-logo"></a>
      </div>

      <div class="footer-links-wrapper">
        <div class="footer-links-col">
          <ul>
            <li class="list-title"><a href="https://pytorch.org/">PyTorch</a></li>
            <li><a href="https://pytorch.org/get-started">Get Started</a></li>
            <li><a href="https://pytorch.org/features">Features</a></li>
            <li><a href="https://pytorch.org/ecosystem">Ecosystem</a></li>
            <li><a href="https://pytorch.org/blog/">Blog</a></li>
            <li><a href="https://github.com/pytorch/pytorch/blob/master/CONTRIBUTING.md">Contributing</a></li>
          </ul>
        </div>

        <div class="footer-links-col">
          <ul>
            <li class="list-title"><a href="https://pytorch.org/resources">Resources</a></li>
            <li><a href="https://pytorch.org/tutorials">Tutorials</a></li>
            <li><a href="https://pytorch.org/docs/stable/index.html">Docs</a></li>
            <li><a href="https://discuss.pytorch.org" target="_blank">Discuss</a></li>
            <li><a href="https://github.com/pytorch/pytorch/issues" target="_blank">Github Issues</a></li>
            <li><a href="https://pytorch.org/assets/brand-guidelines/PyTorch-Brand-Guidelines.pdf" target="_blank">Brand Guidelines</a></li>
          </ul>
        </div>

        <div class="footer-links-col follow-us-col">
          <ul>
            <li class="list-title">Stay Connected</li>
            <li>
              <div id="mc_embed_signup">
                <form
                  action="https://twitter.us14.list-manage.com/subscribe/post?u=75419c71fe0a935e53dfa4a3f&id=91d0dccd39"
                  method="post"
                  id="mc-embedded-subscribe-form"
                  name="mc-embedded-subscribe-form"
                  class="email-subscribe-form validate"
                  target="_blank"
                  novalidate>
                  <div id="mc_embed_signup_scroll" class="email-subscribe-form-fields-wrapper">
                    <div class="mc-field-group">
                      <label for="mce-EMAIL" style="display:none;">Email Address</label>
                      <input type="email" value="" name="EMAIL" class="required email" id="mce-EMAIL" placeholder="Email Address">
                    </div>

                    <div id="mce-responses" class="clear">
                      <div class="response" id="mce-error-response" style="display:none"></div>
                      <div class="response" id="mce-success-response" style="display:none"></div>
                    </div>    <!-- real people should not fill this in and expect good things - do not remove this or risk form bot signups-->

                    <div style="position: absolute; left: -5000px;" aria-hidden="true"><input type="text" name="b_75419c71fe0a935e53dfa4a3f_91d0dccd39" tabindex="-1" value=""></div>

                    <div class="clear">
                      <input type="submit" value="" name="subscribe" id="mc-embedded-subscribe" class="button email-subscribe-button">
                    </div>
                  </div>
                </form>
              </div>

            </li>
          </ul>

          <div class="footer-social-icons">
            <a href="https://www.facebook.com/pytorch" target="_blank" class="facebook"></a>
            <a href="https://twitter.com/pytorch" target="_blank" class="twitter"></a>
            <a href="https://www.youtube.com/pytorch" target="_blank" class="youtube"></a>
          </div>
        </div>
      </div>
    </div>
  </footer>

  <div class="cookie-banner-wrapper">
  <div class="container">
    <p class="gdpr-notice">To analyze traffic and optimize your experience, we serve cookies on this site. By clicking or navigating, you agree to allow our usage of cookies. As the current maintainers of this site, Facebook’s Cookies Policy applies. Learn more, including about available controls: <a href="https://www.facebook.com/policies/cookies/">Cookies Policy</a>.</p>
    <img class="close-button" src="../_static/images/pytorch-x.svg">
  </div>
</div>

  <!-- End Footer -->

  <!-- Begin Mobile Menu -->

  <div class="mobile-main-menu">
    <div class="container-fluid">
      <div class="container">
        <div class="mobile-main-menu-header-container">
          <a class="header-logo" href="https://pytorch.org/" aria-label="PyTorch"></a>
          <a class="main-menu-close-button" href="#" data-behavior="close-mobile-menu"></a>
        </div>
      </div>
    </div>

    <div class="mobile-main-menu-links-container">
      <div class="main-menu">
        <ul>
          <li>
            <a href="https://pytorch.org/get-started">Get Started</a>
          </li>

          <li>
            <a href="https://pytorch.org/ecosystem">Ecosystem</a>
          </li>

          <li>
            <a href="https://pytorch.org/mobile">Mobile</a>
          </li>

          <li>
            <a href="https://pytorch.org/hub">PyTorch Hub</a>
          </li>

          <li>
            <a href="https://pytorch.org/blog/">Blog</a>
          </li>

          <li>
            <a href="https://pytorch.org/tutorials">Tutorials</a>
          </li>

          <li class="resources-mobile-menu-title" class="active">
            Docs
          </li>

          <ul class="resources-mobile-menu-items">
            <li>
              <a href="https://pytorch.org/docs/stable/index.html">PyTorch</a>
            </li>

            <li>
              <a href="https://pytorch.org/audio/stable/index.html">torchaudio</a>
            </li>

            <li>
              <a href="https://pytorch.org/text/stable/index.html">torchtext</a>
            </li>

            <li>
              <a href="https://pytorch.org/vision/stable/index.html">torchvision</a>
            </li>

            <li>
              <a href="https://pytorch.org/elastic/">TorchElastic</a>
            </li>

            <li>
              <a href="https://pytorch.org/serve/">TorchServe</a>
            </li>

            <li>
              <a href="https://pytorch.org/xla">PyTorch on XLA Devices</a>
            </li>
          </ul>

          <li class="resources-mobile-menu-title">
            Resources
          </li>

          <ul class="resources-mobile-menu-items">
            <li>
              <a href="https://pytorch.org/resources">Developer Resources</a>
            </li>

            <li>
              <a href="https://pytorch.org/features">About</a>
            </li>

            <li>
              <a href="https://pytorch.org/hub">Models (Beta)</a>
            </li>

            <li>
              <a href="https://pytorch.org/#community-module">Community</a>
            </li>

            <li>
              <a href="https://discuss.pytorch.org/">Forums</a>
            </li>
          </ul>

          <li>
            <a href="https://github.com/pytorch/pytorch">Github</a>
          </li>
        </ul>
      </div>
    </div>
  </div>

  <!-- End Mobile Menu -->

  <script type="text/javascript" src="../_static/js/vendor/anchor.min.js"></script>

  <script type="text/javascript">
    $(document).ready(function() {
      mobileMenu.bind();
      mobileTOC.bind();
      pytorchAnchors.bind();
      sideMenus.bind();
      scrollToAnchor.bind();
      highlightNavigation.bind();
      mainMenuDropdown.bind();
      filterTags.bind();

      // Add class to links that have code blocks, since we cannot create links in code blocks
      $("article.pytorch-article a span.pre").each(function(e) {
        $(this).closest("a").addClass("has-code");
      });
    })
  </script>
</body>
</html>