


<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>PyTorch Contribution Guide &mdash; PyTorch master documentation</title>
  

  
  
  
  
    <link rel="canonical" href="https://pytorch.org/docs/stable/community/contribution_guide.html"/>
  

  

  
  
    

  

  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <!-- <link rel="stylesheet" href="../_static/pygments.css" type="text/css" /> -->
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.10.0-beta/dist/katex.min.css" type="text/css" />
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.10.0/dist/katex.min.css" type="text/css" />
  <link rel="stylesheet" href="../_static/katex-math.css" type="text/css" />
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="PyTorch Governance" href="governance.html" />
    <link rel="prev" title="Windows FAQ" href="../notes/windows.html" /> 

  
  <script src="../_static/js/modernizr.min.js"></script>
</head>

<div class="container-fluid header-holder tutorials-header" id="header-holder">
  <div class="container">
    <div class="header-container">
      <a class="header-logo" href="https://pytorch.org/" aria-label="PyTorch"></a>

      <div class="main-menu">
        <ul>
          <li>
            <a href="https://pytorch.org/get-started">Get Started</a>
          </li>

          <li>
            <a href="https://pytorch.org/features">Features</a>
          </li>

          <li>
            <a href="https://pytorch.org/ecosystem">Ecosystem</a>
          </li>

          <li>
            <a href="https://pytorch.org/blog/">Blog</a>
          </li>

          <li>
            <a href="https://pytorch.org/tutorials">Tutorials</a>
          </li>

          <li class="active">
            <a href="https://pytorch.org/docs/stable/index.html">Docs</a>
          </li>

          <li>
            <a href="https://pytorch.org/resources">Resources</a>
          </li>

          <li>
            <a href="https://github.com/pytorch/pytorch">Github</a>
          </li>
        </ul>
      </div>

      <a class="main-menu-open-button" href="#" data-behavior="open-mobile-menu"></a>
    </div>

  </div>
</div>


<body class="pytorch-body">

   

    

    <div class="table-of-contents-link-wrapper">
      <span>Table of Contents</span>
      <a href="#" class="toggle-table-of-contents" data-behavior="toggle-table-of-contents"></a>
    </div>

    <nav data-toggle="wy-nav-shift" class="pytorch-left-menu" id="pytorch-left-menu">
      <div class="pytorch-side-scroll">
        <div class="pytorch-menu pytorch-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          <div class="pytorch-left-menu-search">
            

            
              
              
                <div class="version">
                  <a href='http://pytorch.org/docs/versions.html'>1.0.1 &#x25BC</a>
                </div>
              
            

            


  


<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search Docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

            
          </div>

          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Notes</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../notes/autograd.html">Autograd mechanics</a></li>
<li class="toctree-l1"><a class="reference internal" href="../notes/broadcasting.html">Broadcasting semantics</a></li>
<li class="toctree-l1"><a class="reference internal" href="../notes/cuda.html">CUDA semantics</a></li>
<li class="toctree-l1"><a class="reference internal" href="../notes/extending.html">Extending PyTorch</a></li>
<li class="toctree-l1"><a class="reference internal" href="../notes/faq.html">Frequently Asked Questions</a></li>
<li class="toctree-l1"><a class="reference internal" href="../notes/multiprocessing.html">Multiprocessing best practices</a></li>
<li class="toctree-l1"><a class="reference internal" href="../notes/randomness.html">Reproducibility</a></li>
<li class="toctree-l1"><a class="reference internal" href="../notes/serialization.html">Serialization semantics</a></li>
<li class="toctree-l1"><a class="reference internal" href="../notes/windows.html">Windows FAQ</a></li>
</ul>
<p class="caption"><span class="caption-text">Community</span></p>
<ul class="current">
<li class="toctree-l1 current"><a class="current reference internal" href="#">PyTorch Contribution Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="governance.html">PyTorch Governance</a></li>
<li class="toctree-l1"><a class="reference internal" href="persons_of_interest.html">PyTorch Governance | Persons of Interest</a></li>
</ul>
<p class="caption"><span class="caption-text">Package Reference</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../torch.html">torch</a></li>
<li class="toctree-l1"><a class="reference internal" href="../tensors.html">torch.Tensor</a></li>
<li class="toctree-l1"><a class="reference internal" href="../tensor_attributes.html">Tensor Attributes</a></li>
<li class="toctree-l1"><a class="reference internal" href="../type_info.html">Type Info</a></li>
<li class="toctree-l1"><a class="reference internal" href="../sparse.html">torch.sparse</a></li>
<li class="toctree-l1"><a class="reference internal" href="../cuda.html">torch.cuda</a></li>
<li class="toctree-l1"><a class="reference internal" href="../storage.html">torch.Storage</a></li>
<li class="toctree-l1"><a class="reference internal" href="../nn.html">torch.nn</a></li>
<li class="toctree-l1"><a class="reference internal" href="../nn.html#torch-nn-functional">torch.nn.functional</a></li>
<li class="toctree-l1"><a class="reference internal" href="../nn.html#torch-nn-init">torch.nn.init</a></li>
<li class="toctree-l1"><a class="reference internal" href="../optim.html">torch.optim</a></li>
<li class="toctree-l1"><a class="reference internal" href="../autograd.html">torch.autograd</a></li>
<li class="toctree-l1"><a class="reference internal" href="../distributed.html">torch.distributed</a></li>
<li class="toctree-l1"><a class="reference internal" href="../distributions.html">torch.distributions</a></li>
<li class="toctree-l1"><a class="reference internal" href="../jit.html">torch.jit</a></li>
<li class="toctree-l1"><a class="reference internal" href="../multiprocessing.html">torch.multiprocessing</a></li>
<li class="toctree-l1"><a class="reference internal" href="../bottleneck.html">torch.utils.bottleneck</a></li>
<li class="toctree-l1"><a class="reference internal" href="../checkpoint.html">torch.utils.checkpoint</a></li>
<li class="toctree-l1"><a class="reference internal" href="../cpp_extension.html">torch.utils.cpp_extension</a></li>
<li class="toctree-l1"><a class="reference internal" href="../data.html">torch.utils.data</a></li>
<li class="toctree-l1"><a class="reference internal" href="../dlpack.html">torch.utils.dlpack</a></li>
<li class="toctree-l1"><a class="reference internal" href="../ffi.html">torch.utils.ffi</a></li>
<li class="toctree-l1"><a class="reference internal" href="../hub.html">torch.hub</a></li>
<li class="toctree-l1"><a class="reference internal" href="../model_zoo.html">torch.utils.model_zoo</a></li>
<li class="toctree-l1"><a class="reference internal" href="../onnx.html">torch.onnx</a></li>
<li class="toctree-l1"><a class="reference internal" href="../distributed_deprecated.html">torch.distributed.deprecated</a></li>
<li class="toctree-l1"><a class="reference internal" href="../legacy.html">torch.legacy</a></li>
</ul>
<p class="caption"><span class="caption-text">torchvision Reference</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../torchvision/index.html">torchvision</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <div class="pytorch-container">
      <div class="pytorch-page-level-bar" id="pytorch-page-level-bar">
        <div class="pytorch-breadcrumbs-wrapper">
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="pytorch-breadcrumbs">
    
      <li>
        <a href="../index.html">
          
            Docs
          
        </a> &gt;
      </li>

        
      <li>PyTorch Contribution Guide</li>
    
    
      <li class="pytorch-breadcrumbs-aside">
        
            
            <a href="../_sources/community/contribution_guide.rst.txt" rel="nofollow"><img src="../_static/images/view-page-source-icon.svg"></a>
          
        
      </li>
    
  </ul>

  
</div>
        </div>

        <div class="pytorch-shortcuts-wrapper" id="pytorch-shortcuts-wrapper">
          Shortcuts
        </div>
      </div>

      <section data-toggle="wy-nav-shift" id="pytorch-content-wrap" class="pytorch-content-wrap">
        <div class="pytorch-content-left">
          
          <div class="rst-content">
          
            <div role="main" class="main-content" itemscope="itemscope" itemtype="http://schema.org/Article">
             <article itemprop="articleBody" id="pytorch-article" class="pytorch-article">
              
  <div class="section" id="pytorch-contribution-guide">
<h1>PyTorch Contribution Guide<a class="headerlink" href="#pytorch-contribution-guide" title="Permalink to this headline">¶</a></h1>
<p>PyTorch is a GPU-accelerated Python tensor computation package for
building deep neural networks built on tape-based autograd systems.</p>
<div class="section" id="the-pytorch-contribution-process">
<h2>The PyTorch Contribution Process<a class="headerlink" href="#the-pytorch-contribution-process" title="Permalink to this headline">¶</a></h2>
<p>The PyTorch organization is governed by <a class="reference external" href="/docs/community/governance.html">PyTorch
Governance</a>.</p>
<p>The PyTorch development process involves a healthy amount of open
discussions between the core development team and the community.</p>
<p>PyTorch operates similar to most open source projects on GitHub.
However, if you’ve never contributed to an open source project before,
here is the basic process.</p>
<ul class="simple">
<li><strong>Figure out what you’re going to work on.</strong> The majority of open
source contributions come from people scratching their own itches.
However, if you don’t know what you want to work on, or are just
looking to get more acquainted with the project, here are some tips
for how to find appropriate tasks:<ul>
<li>Look through the <a class="reference external" href="https://github.com/pytorch/pytorch/issues/">issue
tracker</a> and see if
there are any issues you know how to fix. Issues that are
confirmed by other contributors tend to be better to investigate.
We also maintain some labels for issues which are likely to be
good for new people, e.g., <strong>bootcamp</strong> and <strong>1hr</strong>, although
these labels are less well maintained.</li>
<li>Join us on Slack and let us know you’re interested in getting to
know PyTorch. We’re very happy to help out researchers and
partners get up to speed with the codebase.</li>
</ul>
</li>
<li><strong>Figure out the scope of your change and reach out for design
comments on a GitHub issue if it’s large.</strong> The majority of pull
requests are small; in that case, no need to let us know about what
you want to do, just get cracking. But if the change is going to be
large, it’s usually a good idea to get some design comments about it
first.<ul>
<li>If you don’t know how big a change is going to be, we can help you
figure it out! Just post about it on issues or Slack.</li>
<li>Some feature additions are very standardized; for example, lots of
people add new operators or optimizers to PyTorch. Design
discussion in these cases boils down mostly to, “Do we want this
operator/optimizer?” Giving evidence for its utility, e.g., usage
in peer reviewed papers, or existence in other frameworks, helps a
bit when making this case.</li>
<li>Core changes and refactors can be quite difficult to coordinate,
as the pace of development on PyTorch master is quite fast.
Definitely reach out about fundamental or cross-cutting changes;
we can often give guidance about how to stage such changes into
more easily reviewable pieces.</li>
</ul>
</li>
<li><strong>Code it out!</strong><ul>
<li>See the technical guide for advice for working with PyTorch in a
technical form.</li>
</ul>
</li>
<li><strong>Open a pull request.</strong><ul>
<li>If you are not ready for the pull request to be reviewed, tag it
with [WIP]. We will ignore it when doing review passes. If you are
working on a complex change, it’s good to start things off as WIP,
because you will need to spend time looking at CI results to see
if things worked out or not.</li>
<li>Find an appropriate reviewer for your change. We have some folks
who regularly go through the PR queue and try to review
everything, but if you happen to know who the maintainer for a
given subsystem affected by your patch is, feel free to include
them directly on the pull request. You can learn more about this
structure at PyTorch Subsystem Ownership.</li>
</ul>
</li>
<li><strong>Iterate on the pull request until it’s accepted!</strong><ul>
<li>We’ll try our best to minimize the number of review roundtrips and
block PRs only when there are major issues. For the most common
issues in pull requests, take a look at <a class="reference external" href="/docs/community/contribution_guide.html#common-mistakes-to-avoid">Common Mistakes</a>.</li>
<li>Once a pull request is accepted and CI is passing, there is
nothing else you need to do; we will merge the PR for you.</li>
</ul>
</li>
</ul>
</div>
<div class="section" id="getting-started">
<h2>Getting Started<a class="headerlink" href="#getting-started" title="Permalink to this headline">¶</a></h2>
<div class="section" id="proposing-new-features">
<h3>Proposing new features<a class="headerlink" href="#proposing-new-features" title="Permalink to this headline">¶</a></h3>
<p>New feature ideas are best discussed on a specific issue. Please include
as much information as you can, any accompanying data, and your proposed
solution. The PyTorch team and community frequently reviews new issues
and comments where they think they can help. If you feel confident in
your solution, go ahead and implement it.</p>
</div>
<div class="section" id="reporting-issues">
<h3>Reporting Issues<a class="headerlink" href="#reporting-issues" title="Permalink to this headline">¶</a></h3>
<p>If you’ve identified an issue, first search through the <a class="reference external" href="https://github.com/pytorch/pytorch/issues">list of
existing issues</a> on the
repo. If you are unable to find a similar issue, then create a new one.
Supply as much information you can to reproduce the problematic
behavior. Also, include any additional insights like the behavior you
expect.</p>
</div>
<div class="section" id="implementing-features-or-fixing-bugs">
<h3>Implementing Features or Fixing Bugs<a class="headerlink" href="#implementing-features-or-fixing-bugs" title="Permalink to this headline">¶</a></h3>
<p>If you want to fix a specific issue, it’s best to comment on the
individual issue with your intent. However, we do not lock or assign
issues except in cases where we have worked with the developer before.
It’s best to strike up a conversation on the issue and discuss your
proposed solution. The PyTorch team can provide guidance that saves you
time.</p>
<p>Issues that are labeled first-new-issue, low, or medium priority provide
the best entrance point are great places to start.</p>
</div>
<div class="section" id="adding-tutorials">
<h3>Adding Tutorials<a class="headerlink" href="#adding-tutorials" title="Permalink to this headline">¶</a></h3>
<p>A great deal of the tutorials on <a class="reference external" href="http://pytorch.org/">pytorch.org</a>
come from the community itself and we welcome additional contributions.
To learn more about how to contribute a new tutorial you can learn more
here: <a class="reference external" href="https://github.com/pytorch/tutorials/#contributing">PyTorch.org Tutorial Contribution Guide on
Github</a></p>
</div>
<div class="section" id="improving-documentation-tutorials">
<h3>Improving Documentation &amp; Tutorials<a class="headerlink" href="#improving-documentation-tutorials" title="Permalink to this headline">¶</a></h3>
<p>We aim to produce high quality documentation and tutorials. On rare
occasions that content includes typos or bugs. If you find something you
can fix, send us a pull request for consideration.</p>
<p>Take a look at the <a class="reference external" href="#on-documentation">Documentation</a> section to learn how our system
works.</p>
</div>
<div class="section" id="participating-in-online-discussions">
<h3>Participating in online discussions<a class="headerlink" href="#participating-in-online-discussions" title="Permalink to this headline">¶</a></h3>
<p>You can find active discussions happening on the PyTorch Discussion
<a class="reference external" href="https://discuss.pytorch.org/">forum</a>.</p>
</div>
<div class="section" id="submitting-pull-requests-to-fix-open-issues">
<h3>Submitting pull requests to fix open issues<a class="headerlink" href="#submitting-pull-requests-to-fix-open-issues" title="Permalink to this headline">¶</a></h3>
<p>You can view a list of all open issues
<a class="reference external" href="https://github.com/pytorch/pytorch/issues">here</a>. Commenting on an
issue is a great way to get the attention of the team. From here you can
share your ideas and how you plan to resolve the issue.</p>
<p>For more challenging issues, the team will provide feedback and
direction for how to best solve the issue.</p>
<p>If you’re not able to fix the issue itself, commenting and sharing
whether you can reproduce the issue can be useful for helping the team
identify problem areas.</p>
</div>
<div class="section" id="reviewing-open-pull-requests">
<h3>Reviewing open pull requests<a class="headerlink" href="#reviewing-open-pull-requests" title="Permalink to this headline">¶</a></h3>
<p>We appreciate your help reviewing and commenting on pull requests. Our
team strives to keep the number of open pull requests at a manageable
size, we respond quickly for more information if we need it, and we
merge PRs that we think are useful. However, due to the high level of
interest, additional eyes on pull requests is appreciated.</p>
</div>
<div class="section" id="improving-code-readability">
<h3>Improving code readability<a class="headerlink" href="#improving-code-readability" title="Permalink to this headline">¶</a></h3>
<p>Improve code readability helps everyone. It is often better to submit a
small number of pull requests that touch few files versus a large pull
request that touches many files. Starting a discussion in the PyTorch
forum <a class="reference external" href="https://discuss.pytorch.org/">here</a> or on an issue related to
your improvement is the best way to get started.</p>
</div>
<div class="section" id="adding-test-cases-to-make-the-codebase-more-robust">
<h3>Adding test cases to make the codebase more robust<a class="headerlink" href="#adding-test-cases-to-make-the-codebase-more-robust" title="Permalink to this headline">¶</a></h3>
<p>Additional test coverage is appreciated.</p>
</div>
<div class="section" id="promoting-pytorch">
<h3>Promoting PyTorch<a class="headerlink" href="#promoting-pytorch" title="Permalink to this headline">¶</a></h3>
<p>Your use of PyTorch in your projects, research papers, write ups, blogs,
or general discussions around the internet helps to raise awareness for
PyTorch and our growing community. Please reach out to
<a class="reference external" href="http://mailto:pytorch-marketing&#64;fb.com/">pytorch-marketing&#64;fb.com</a>
for marketing support.</p>
</div>
<div class="section" id="triaging-issues">
<h3>Triaging issues<a class="headerlink" href="#triaging-issues" title="Permalink to this headline">¶</a></h3>
<p>If you feel that an issue could benefit from a particular tag or level
of complexity comment on the issue and share your opinion. If an you
feel an issue isn’t categorized properly comment and let the team know.</p>
</div>
</div>
<div class="section" id="about-open-source-development">
<h2>About open source development<a class="headerlink" href="#about-open-source-development" title="Permalink to this headline">¶</a></h2>
<p>If this is your first time contributing to an open source project, some
aspects of the development process may seem unusual to you.</p>
<ul class="simple">
<li><strong>There is no way to “claim” issues.</strong> People often want to “claim”
an issue when they decide to work on it, to ensure that there isn’t
wasted work when someone else ends up working on it. This doesn’t
really work too well in open source, since someone may decide to work
on something, and end up not having time to do it. Feel free to give
information in an advisory fashion, but at the end of the day, we
will take running code and rough consensus.</li>
<li><strong>There is a high bar for new functionality that is added.</strong> Unlike
in a corporate environment, where the person who wrote code
implicitly “owns” it and can be expected to take care of it in the
beginning of its lifetime, once a pull request is merged into an open
source project, it immediately becomes the collective responsibility
of all maintainers on the project. When we merge code, we are saying
that we, the maintainers, are able to review subsequent changes and
make a bugfix to the code. This naturally leads to a higher standard
of contribution.</li>
</ul>
</div>
<div class="section" id="common-mistakes-to-avoid">
<h2>Common Mistakes To Avoid<a class="headerlink" href="#common-mistakes-to-avoid" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li><strong>Did you add tests?</strong> (Or if the change is hard to test, did you
describe how you tested your change?)<ul>
<li>We have a few motivations for why we ask for tests:<ol class="arabic">
<li>to help us tell if we break it later</li>
<li>to help us tell if the patch is correct in the first place
(yes, we did review it, but as Knuth says, “beware of the
following code, for I have not run it, merely proven it
correct”)</li>
</ol>
</li>
<li>When is it OK not to add a test? Sometimes a change can’t be
conveniently tested, or the change is so obviously correct (and
unlikely to be broken) that it’s OK not to test it. On the
contrary, if a change is seems likely (or is known to be likely)
to be accidentally broken, it’s important to put in the time to
work out a testing strategy.</li>
</ul>
</li>
<li><strong>Is your PR too long?</strong><ul>
<li>It’s easier for us to review and merge small PRs. Difficulty of
reviewing a PR scales nonlinearly with its size.</li>
<li>When is it OK to submit a large PR? It helps a lot if there was a
corresponding design discussion in an issue, with sign off from
the people who are going to review your diff. We can also help
give advice about how to split up a large change into individually
shippable parts. Similarly, it helps if there is a complete
description of the contents of the PR: it’s easier to review code
if we know what’s inside!</li>
</ul>
</li>
<li><strong>Comments for subtle things?</strong> In cases where behavior of your code
is nuanced, please include extra comments and documentation to allow
us to better understand the intention of your code.</li>
<li><strong>Did you add a hack?</strong> Sometimes a hack is the right answer. But
usually we will have to discuss it.</li>
<li><strong>Do you want to touch a very core component?</strong> In order to prevent
major regressions, pull requests that touch core components receive
extra scrutiny. Make sure you’ve discussed your changes with the team
before undertaking major changes.</li>
<li><strong>Want to add a new feature?</strong> If you want to add new features,
comment your intention on the related issue. Our team tries to
comment on and provide feedback to the community. It’s better to have
an open discussion with the team and the rest of the community prior
to building new features. This helps us stay aware of what you’re
working on and increases the chance that it’ll be merged.</li>
<li><strong>Did you touch unrelated code to the PR?</strong> To aid in code review,
please only include files in your pull request that are directly
related to your changes.</li>
</ul>
<p>Frequently asked questions</p>
<ul class="simple">
<li><strong>How can I contribute as a reviewer?</strong> There is lots of value if
community developer reproduce issues, try out new functionality, or
otherwise help us identify or troubleshoot issues. Commenting on
tasks or pull requests with your enviroment details is helpful and
appreciated.</li>
<li><strong>CI tests failed, what does it mean?</strong> Maybe you need to merge with
master or rebase with latest changes. Pushing your changes should
re-trigger CI tests. If the tests persist, you’ll want to trace
through the error messages and resolve the related issues.</li>
<li><strong>What are the most high risk changes?</strong> Anything that tourhces build
configuration is an risky area. Please avoid changing these unless
you’ve had a discussion with the team beforehand.</li>
<li><strong>Hey, a commit showed up on my branch, what’s up with that?</strong>
Sometimes another community member will provide a patch or fix to
your pull request or branch. This is often needed for getting CI tests
to pass.</li>
</ul>
</div>
<div class="section" id="on-documentation">
<h2>On Documentation<a class="headerlink" href="#on-documentation" title="Permalink to this headline">¶</a></h2>
<div class="section" id="python-docs">
<h3>Python Docs<a class="headerlink" href="#python-docs" title="Permalink to this headline">¶</a></h3>
<p>PyTorch documentation is generated from python source using
<a class="reference external" href="http://www.sphinx-doc.org/en/master/">Sphinx</a>. Generated HTML is
copied to the docs folder in the master branch of
<a class="reference external" href="https://github.com/pytorch/pytorch.github.io/tree/master/docs">pytorch.github.io</a>,
and is served via GitHub pages.</p>
<ul class="simple">
<li>Site: <a class="reference external" href="http://pytorch.org/docs">http://pytorch.org/docs</a></li>
<li>GitHub: <a class="reference external" href="http://github.com/pytorch/pytorch/docs">http://github.com/pytorch/pytorch/docs</a></li>
<li>Served from:
<a class="reference external" href="https://github.com/pytorch/pytorch.github.io/tree/master/docs">https://github.com/pytorch/pytorch.github.io/tree/master/doc</a></li>
</ul>
</div>
<div class="section" id="c-docs">
<h3>C++ Docs<a class="headerlink" href="#c-docs" title="Permalink to this headline">¶</a></h3>
<p>For C++ code we use Doxygen to generate the content files. The C++ docs
are built on a special server and the resulting files are copied to the
<a class="reference external" href="https://github.com/pytorch/cppdocs">https://github.com/pytorch/cppdocs</a> repo, and are served from GitHub
pages.</p>
<ul class="simple">
<li>Site: <a class="reference external" href="http://pytorch.org/cppdocs">http://pytorch.org/cppdocs</a></li>
<li>GitHub: <a class="reference external" href="https://github.com/pytorch/pytorch/tree/master/docs/cpp">https://github.com/pytorch/pytorch/tree/master/docs/cpp</a></li>
<li>Served from: <a class="reference external" href="https://github.com/pytorch/cppdocs">https://github.com/pytorch/cppdocs</a></li>
</ul>
</div>
</div>
<div class="section" id="tutorials">
<h2>Tutorials<a class="headerlink" href="#tutorials" title="Permalink to this headline">¶</a></h2>
<p>PyTorch tutorials are documents used to help understand using PyTorch to
accomplish specific tasks or to understand more holistic concepts.
Tutorials are built using
<a class="reference external" href="https://sphinx-gallery.readthedocs.io/en/latest/index.html">Sphinx-Gallery</a>
from executable python sources files, or from restructured-text (rst)
files.</p>
<ul class="simple">
<li>Site: <a class="reference external" href="http://pytorch.org/tutorials">http://pytorch.org/tutorials</a></li>
<li>GitHub: <a class="reference external" href="http://github.com/pytorch/tutorials">http://github.com/pytorch/tutorials</a></li>
</ul>
<div class="section" id="tutorials-build-overview">
<h3>Tutorials Build Overview<a class="headerlink" href="#tutorials-build-overview" title="Permalink to this headline">¶</a></h3>
<p>For tutorials, <a class="reference external" href="https://github.com/pytorch/tutorials/pulls">pull
requests</a> trigger a
rebuild the entire site using CircleCI to test the effects of the
change. This build is sharded into 9 worker builds and takes around 40
minutes total. At the same time, we do a Netlify build using <em>make
html-noplot</em>, which builds the site without rendering the notebook
output into pages for quick review.</p>
<p>After a PR is accepted, the site is rebuilt and deployed from CircleCI.</p>
</div>
<div class="section" id="contributing-a-new-tutorial">
<h3>Contributing a new Tutorial<a class="headerlink" href="#contributing-a-new-tutorial" title="Permalink to this headline">¶</a></h3>
<p><a class="reference external" href="https://github.com/pytorch/tutorials/#contributing">PyTorch.org Tutorial Contribution
Guide</a></p>
</div>
<div class="section" id="code-style">
<h3>Code Style<a class="headerlink" href="#code-style" title="Permalink to this headline">¶</a></h3>
<p><strong>Python style</strong></p>
<p><strong>C++ style</strong></p>
</div>
<div class="section" id="submitting-a-pull-request">
<h3>Submitting a Pull Request<a class="headerlink" href="#submitting-a-pull-request" title="Permalink to this headline">¶</a></h3>
<p>PyTorch development happens publicly on our Github repo.</p>
<p>To have your feature or fix added to PyTorch, please submit a Pull
Request.</p>
</div>
<div class="section" id="running-tests">
<h3>Running Tests<a class="headerlink" href="#running-tests" title="Permalink to this headline">¶</a></h3>
<p>Show examples for running all tests, just one individual…</p>
</div>
</div>
<div class="section" id="technical-process">
<h2>Technical Process<a class="headerlink" href="#technical-process" title="Permalink to this headline">¶</a></h2>
<div class="section" id="developing-pytorch">
<h3>Developing PyTorch<a class="headerlink" href="#developing-pytorch" title="Permalink to this headline">¶</a></h3>
<p>To develop PyTorch on your machine, here are some tips:</p>
<ol class="arabic simple">
<li>Uninstall all existing PyTorch installs:</li>
</ol>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">conda</span> <span class="n">uninstall</span> <span class="n">pytorch</span>
<span class="n">pip</span> <span class="n">uninstall</span> <span class="n">torch</span>
<span class="n">pip</span> <span class="n">uninstall</span> <span class="n">torch</span> <span class="c1"># run this command twice</span>
</pre></div>
</div>
<ol class="arabic simple" start="2">
<li>Clone a copy of PyTorch from source:</li>
</ol>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">git</span> <span class="n">clone</span> <span class="n">https</span><span class="p">:</span><span class="o">//</span><span class="n">github</span><span class="o">.</span><span class="n">com</span><span class="o">/</span><span class="n">pytorch</span><span class="o">/</span><span class="n">pytorch</span>
<span class="n">cd</span> <span class="n">pytorch</span>
</pre></div>
</div>
<ol class="arabic simple" start="3">
<li>Install PyTorch in <code class="docutils literal"><span class="pre">build</span> <span class="pre">develop</span></code> mode:</li>
</ol>
<p>A full set of instructions on installing PyTorch from source is here:
<a class="reference external" href="https://github.com/pytorch/pytorch#from-source">https://github.com/pytorch/pytorch#from-source</a></p>
<p>The change you have to make is to replace</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">python</span> <span class="n">setup</span><span class="o">.</span><span class="n">py</span> <span class="n">install</span>
</pre></div>
</div>
<p>with</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">python</span> <span class="n">setup</span><span class="o">.</span><span class="n">py</span> <span class="n">build</span> <span class="n">develop</span>
</pre></div>
</div>
<p>This is especially useful if you are only changing Python files.</p>
<p>This mode will symlink the Python files from the current local source
tree into the Python install.</p>
<p>Hence, if you modify a Python file, you do not need to reinstall PyTorch
again and again.</p>
<p>For example:</p>
<ul class="simple">
<li>Install local PyTorch in <code class="docutils literal"><span class="pre">build</span> <span class="pre">develop</span></code> mode</li>
<li>modify your Python file <code class="docutils literal"><span class="pre">torch/__init__.py</span></code> (for example)</li>
<li>test functionality</li>
<li>modify your Python file <code class="docutils literal"><span class="pre">torch/__init__.py</span></code></li>
<li>test functionality</li>
<li>modify your Python file <code class="docutils literal"><span class="pre">torch/__init__.py</span></code></li>
<li>test functionality</li>
</ul>
<p>You do not need to repeatedly install after modifying Python files.</p>
<p>In case you want to reinstall, make sure that you uninstall PyTorch
first by running <code class="docutils literal"><span class="pre">pip</span> <span class="pre">uninstall</span> <span class="pre">torch</span></code> and <code class="docutils literal"><span class="pre">python</span> <span class="pre">setup.py</span> <span class="pre">clean</span></code>.
Then you can install in <code class="docutils literal"><span class="pre">build</span> <span class="pre">develop</span></code> mode again.</p>
</div>
</div>
<div class="section" id="codebase-structure">
<h2>Codebase structure<a class="headerlink" href="#codebase-structure" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li><a class="reference external" href="https://github.com/pytorch/pytorch/blob/master/c10">c10</a> - Core
library files that work everywhere, both server and mobile. We are
slowly moving pieces from
<a class="reference external" href="https://github.com/pytorch/pytorch/blob/master/aten/src/ATen/core">ATen/core</a>
here. This library is intended only to contain essential
functionality, and appropriate to use in settings where binary size
matters. (But you’ll have a lot of missing functionality if you try
to use it directly.)</li>
<li><a class="reference external" href="https://github.com/pytorch/pytorch/blob/master/aten">aten</a> - C++
tensor library for PyTorch (no autograd support)<ul>
<li><a class="reference external" href="https://github.com/pytorch/pytorch/blob/master/aten/src">src</a><ul>
<li><a class="reference external" href="https://github.com/pytorch/pytorch/blob/master/aten/src/TH">TH</a>
<a class="reference external" href="https://github.com/pytorch/pytorch/blob/master/aten/src/THC">THC</a>
<a class="reference external" href="https://github.com/pytorch/pytorch/blob/master/aten/src/THNN">THNN</a>
<a class="reference external" href="https://github.com/pytorch/pytorch/blob/master/aten/src/THCUNN">THCUNN</a>
- Legacy library code from the original Torch. Try not to add
things here; we’re slowly porting these to
<a class="reference external" href="https://github.com/pytorch/pytorch/blob/master/aten/src/ATen/native">native</a>.<ul>
<li>generic - Contains actual implementations of operators,
parametrized over <code class="docutils literal"><span class="pre">scalar_t</span></code>. Files here get compiled N
times per supported scalar type in PyTorch.</li>
</ul>
</li>
<li><a class="reference external" href="https://github.com/pytorch/pytorch/blob/master/aten/src/ATen">ATen</a><ul>
<li><a class="reference external" href="https://github.com/pytorch/pytorch/blob/master/aten/src/ATen/core">core</a>
- Core functionality of ATen. This is migrating to top-level
c10 folder.</li>
<li><a class="reference external" href="https://github.com/pytorch/pytorch/blob/master/aten/src/ATen/native">native</a>
- Modern implementations of operators. If you want to write
a new operator, here is where it should go. Most CPU
operators go in the top level directory, except for
operators which need to be compiled specially; see cpu
below.<ul>
<li><a class="reference external" href="https://github.com/pytorch/pytorch/blob/master/aten/src/ATen/native/cpu">cpu</a>
- Not actually CPU implementations of operators, but
specifically implementations which are compiled with
processor-specific instructions, like AVX. See the
<a class="reference external" href="https://github.com/pytorch/pytorch/blob/master/aten/src/ATen/native/cpu/README.md">README</a>
for more details.</li>
<li><a class="reference external" href="https://github.com/pytorch/pytorch/blob/master/aten/src/ATen/native/cuda">cuda</a>
- CUDA implementations of operators.</li>
<li><a class="reference external" href="https://github.com/pytorch/pytorch/blob/master/aten/src/ATen/native/sparse">sparse</a>
- CPU and CUDA implementations of COO sparse tensor
operations</li>
<li><a class="reference external" href="https://github.com/pytorch/pytorch/blob/master/aten/src/ATen/native/mkl">mkl</a>
<a class="reference external" href="https://github.com/pytorch/pytorch/blob/master/aten/src/ATen/native/mkldnn">mkldnn</a>
<a class="reference external" href="https://github.com/pytorch/pytorch/blob/master/aten/src/ATen/native/miopen">miopen</a>
<a class="reference external" href="https://github.com/pytorch/pytorch/blob/master/aten/src/ATen/native/cudnn">cudnn</a><ul>
<li>implementations of operators which simply bind to some
backend library.</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li><a class="reference external" href="https://github.com/pytorch/pytorch/blob/master/torch">torch</a> -
The actual PyTorch library. Everything that is not in
<a class="reference external" href="https://github.com/pytorch/pytorch/blob/master/torch/csrc">csrc</a>
is a Python module, following the PyTorch Python frontend module
structure.<ul>
<li><a class="reference external" href="https://github.com/pytorch/pytorch/blob/master/torch/csrc">csrc</a>
- C++ files composing the PyTorch library. Files in this directory
tree are a mix of Python binding code, and C++ heavy lifting.
Consult <code class="docutils literal"><span class="pre">setup.py</span></code> for the canonical list of Python binding
files; conventionally, they are often prefixed with <code class="docutils literal"><span class="pre">python_</span></code>.<ul>
<li><a class="reference external" href="https://github.com/pytorch/pytorch/blob/master/torch/csrc/jit">jit</a>
- Compiler and frontend for TorchScript JIT frontend.</li>
<li><a class="reference external" href="https://github.com/pytorch/pytorch/blob/master/torch/csrc/autograd">autograd</a>
- Implementation of reverse-mode automatic differentiation.</li>
<li><a class="reference external" href="https://github.com/pytorch/pytorch/blob/master/torch/csrc/api">api</a>
- The PyTorch C++ frontend.</li>
<li><a class="reference external" href="https://github.com/pytorch/pytorch/blob/master/torch/csrc/distributed">distributed</a>
- Distributed training support for PyTorch.</li>
</ul>
</li>
</ul>
</li>
<li><a class="reference external" href="https://github.com/pytorch/pytorch/blob/master/tools">tools</a> -
Code generation scripts for the PyTorch library. See
<a class="reference external" href="https://github.com/pytorch/pytorch/blob/master/tools/README.md">README</a>
of this directory for more details.</li>
<li><a class="reference external" href="https://github.com/pytorch/pytorch/blob/master/tests">test</a> -
Python unit tests for PyTorch Python frontend.<ul>
<li><a class="reference external" href="https://github.com/pytorch/pytorch/blob/master/test/test_torch.py">test_torch.py</a>
- Basic tests for PyTorch functionality.</li>
<li><a class="reference external" href="https://github.com/pytorch/pytorch/blob/master/test/test_autograd.py">test_autograd.py</a>
- Tests for non-NN automatic differentiation support.</li>
<li><a class="reference external" href="https://github.com/pytorch/pytorch/blob/master/test/test_nn.py">test_nn.py</a>
- Tests for NN operators and their automatic differentiation.</li>
<li><a class="reference external" href="https://github.com/pytorch/pytorch/blob/master/test/test_jit.py">test_jit.py</a>
- Tests for the JIT compiler and TorchScript.</li>
<li>…</li>
<li><a class="reference external" href="https://github.com/pytorch/pytorch/blob/master/test/cpp">cpp</a>
- C++ unit tests for PyTorch C++ frontend.</li>
<li><a class="reference external" href="https://github.com/pytorch/pytorch/blob/master/test/expect">expect</a>
- Automatically generated “expect” files which are used to compare
against expected output.</li>
<li><a class="reference external" href="https://github.com/pytorch/pytorch/blob/master/test/onnx">onnx</a>
- Tests for ONNX export functionality, using both PyTorch and
Caffe2.</li>
</ul>
</li>
<li><a class="reference external" href="https://github.com/pytorch/pytorch/blob/master/caffe2">caffe2</a> -
The Caffe2 library.<ul>
<li><a class="reference external" href="https://github.com/pytorch/pytorch/blob/master/caffe2/core">core</a>
- Core files of Caffe2, e.g., tensor, workspace, blobs, etc.</li>
<li><a class="reference external" href="https://github.com/pytorch/pytorch/blob/master/caffe2/operators">operators</a>
- Operators of Caffe2.</li>
<li><a class="reference external" href="https://github.com/pytorch/pytorch/blob/master/caffe2/python">python</a>
- Python bindings to Caffe2.</li>
<li>…</li>
</ul>
</li>
</ul>
</div>
<div class="section" id="unit-testing">
<h2>Unit Testing<a class="headerlink" href="#unit-testing" title="Permalink to this headline">¶</a></h2>
<p>PyTorch’s testing is located under <code class="docutils literal"><span class="pre">test/</span></code>. Run the entire test suite
with</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">python</span> <span class="n">test</span><span class="o">/</span><span class="n">run_test</span><span class="o">.</span><span class="n">py</span>
</pre></div>
</div>
<p>or run individual test files, like <code class="docutils literal"><span class="pre">python</span> <span class="pre">test/test_nn.py</span></code>, for
individual test suites.</p>
<div class="section" id="better-local-unit-tests-with-pytest">
<h3>Better local unit tests with pytest<a class="headerlink" href="#better-local-unit-tests-with-pytest" title="Permalink to this headline">¶</a></h3>
<p>We don’t officially support <code class="docutils literal"><span class="pre">pytest</span></code>, but it works well with our
<code class="docutils literal"><span class="pre">unittest</span></code> tests and offers a number of useful features for local
developing. Install it via <code class="docutils literal"><span class="pre">pip</span> <span class="pre">install</span> <span class="pre">pytest</span></code>.</p>
<p>If you want to just run tests that contain a specific substring, you can
use the <code class="docutils literal"><span class="pre">-k</span></code> flag:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">pytest</span> <span class="n">test</span><span class="o">/</span><span class="n">test_nn</span><span class="o">.</span><span class="n">py</span> <span class="o">-</span><span class="n">k</span> <span class="n">Loss</span> <span class="o">-</span><span class="n">v</span>
</pre></div>
</div>
<p>The above is an example of testing a change to Loss functions: this
command runs tests such as <code class="docutils literal"><span class="pre">TestNN.test_BCELoss</span></code>and
<code class="docutils literal"><span class="pre">TestNN.test_MSELoss</span></code> and can be useful to save keystrokes.</p>
</div>
</div>
<div class="section" id="writing-documentation">
<h2>Writing documentation<a class="headerlink" href="#writing-documentation" title="Permalink to this headline">¶</a></h2>
<p>PyTorch uses <a class="reference external" href="http://sphinxcontrib-napoleon.readthedocs.io/en/latest/example_google.html">Google
style</a>
for formatting docstrings. Length of line inside docstrings block must
be limited to 80 characters to fit into Jupyter documentation popups.</p>
<p>For C++ documentation (<a class="reference external" href="https://pytorch.org/cppdocs">https://pytorch.org/cppdocs</a>), we use
<a class="reference external" href="http://www.doxygen.nl/">Doxygen</a> and then convert it to
<a class="reference external" href="http://www.sphinx-doc.org/">Sphinx</a> via
<a class="reference external" href="https://github.com/michaeljones/breathe">Breathe</a>
and<a class="reference external" href="https://github.com/svenevs/exhale">Exhale</a>. Check the <a class="reference external" href="http://www.stack.nl/~dimitri/doxygen/manual/index.html">Doxygen
reference</a>
for more information on the documentation syntax. To build the
documentation locally, <code class="docutils literal"><span class="pre">cd</span></code> into <code class="docutils literal"><span class="pre">docs/cpp</span></code> and then <code class="docutils literal"><span class="pre">make</span> <span class="pre">html</span></code>.</p>
<p>We run Doxygen in CI (Travis) to verify that you do not use invalid
Doxygen commands. To run this check locally, run <code class="docutils literal"><span class="pre">./check-doxygen.sh</span></code>
from inside <code class="docutils literal"><span class="pre">docs/cpp</span></code>.</p>
</div>
<div class="section" id="managing-multiple-build-trees">
<h2>Managing multiple build trees<a class="headerlink" href="#managing-multiple-build-trees" title="Permalink to this headline">¶</a></h2>
<p>One downside to using <code class="docutils literal"><span class="pre">python</span> <span class="pre">setup.py</span> <span class="pre">develop</span></code> is that your
development version of PyTorch will be installed globally on your
account (e.g., if you run <code class="docutils literal"><span class="pre">import</span> <span class="pre">torch</span></code> anywhere else, the
development version will be used.</p>
<p>If you want to manage multiple builds of PyTorch, you can make use of
<a class="reference external" href="https://conda.io/docs/using/envs.html">conda environments</a> to
maintain separate Python package environments, each of which can be tied
to a specific build of PyTorch. To set one up:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">conda</span> <span class="n">create</span> <span class="o">-</span><span class="n">n</span> <span class="n">pytorch</span><span class="o">-</span><span class="n">myfeaturesource</span> <span class="n">activate</span> <span class="n">pytorch</span><span class="o">-</span><span class="n">myfeature</span><span class="c1"># if you run python now, torch will NOT be installed</span>
<span class="n">python</span> <span class="n">setup</span><span class="o">.</span><span class="n">py</span> <span class="n">build</span> <span class="n">develop</span>
</pre></div>
</div>
</div>
<div class="section" id="c-development-tips">
<h2>C++ Development tips<a class="headerlink" href="#c-development-tips" title="Permalink to this headline">¶</a></h2>
<p>If you are working on the C++ code, there are a few important things
that you will want to keep in mind:</p>
<ol class="arabic simple">
<li>How to rebuild only the code you are working on.</li>
<li>How to make rebuilds in the absence of changes go faster.</li>
</ol>
<div class="section" id="build-only-what-you-need">
<h3>Build only what you need.<a class="headerlink" href="#build-only-what-you-need" title="Permalink to this headline">¶</a></h3>
<p><code class="docutils literal"><span class="pre">python</span> <span class="pre">setup.py</span> <span class="pre">build</span></code> will build everything, but since our build
system is not very optimized for incremental rebuilds, this will
actually be very slow. Far better is to only request rebuilds of the
parts of the project you are working on:</p>
<ul class="simple">
<li>Working on the Python bindings? Run <code class="docutils literal"><span class="pre">python</span> <span class="pre">setup.py</span> <span class="pre">develop</span></code> to
rebuild (NB: no <code class="docutils literal"><span class="pre">build</span></code> here!)</li>
<li>Working on <code class="docutils literal"><span class="pre">torch/csrc</span></code> or <code class="docutils literal"><span class="pre">aten</span></code>? Run
<code class="docutils literal"><span class="pre">python</span> <span class="pre">setup.py</span> <span class="pre">rebuild_libtorch</span></code> to rebuild and avoid having to
rebuild other dependent libraries we depend on.</li>
<li>Working on one of the other dependent libraries? The other valid
targets are listed in <code class="docutils literal"><span class="pre">dep_libs</span></code> in <code class="docutils literal"><span class="pre">setup.py</span></code>. prepend
<code class="docutils literal"><span class="pre">build_</span></code> to get a target, and run as e.g.
<code class="docutils literal"><span class="pre">python</span> <span class="pre">setup.py</span> <span class="pre">build_gloo</span></code>.</li>
<li>Working on a test binary? Run
<code class="docutils literal"><span class="pre">(cd</span> <span class="pre">build</span> <span class="pre">&amp;&amp;</span> <span class="pre">ninja</span> <span class="pre">bin/test_binary_name)</span></code> to rebuild only that
test binary (without rerunning cmake). (Replace <code class="docutils literal"><span class="pre">ninja</span></code> with
<code class="docutils literal"><span class="pre">make</span></code> if you don’t have ninja installed).</li>
</ul>
<p>On the initial build, you can also speed things up with the environment
variables <code class="docutils literal"><span class="pre">DEBUG</span></code> and <code class="docutils literal"><span class="pre">NO_CUDA</span></code>.</p>
<ul class="simple">
<li><code class="docutils literal"><span class="pre">DEBUG=1</span></code> will enable debug builds (-g -O0)</li>
<li><code class="docutils literal"><span class="pre">REL_WITH_DEB_INFO=1</span></code> will enable debug symbols with optimizations
(-g -O3)</li>
<li><code class="docutils literal"><span class="pre">NO_CUDA=1</span></code> will disable compiling CUDA (in case you are developing
on something not CUDA related), to save compile time.</li>
</ul>
<p>For example:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">NO_CUDA</span><span class="o">=</span><span class="mi">1</span> <span class="n">DEBUG</span><span class="o">=</span><span class="mi">1</span> <span class="n">python</span> <span class="n">setup</span><span class="o">.</span><span class="n">py</span> <span class="n">build</span> <span class="n">develop</span>
</pre></div>
</div>
<p>Make sure you continue to pass these flags on subsequent builds.</p>
</div>
<div class="section" id="code-completion-and-ide-support">
<h3>Code completion and IDE support<a class="headerlink" href="#code-completion-and-ide-support" title="Permalink to this headline">¶</a></h3>
<p>When using <code class="docutils literal"><span class="pre">python</span> <span class="pre">setup.py</span> <span class="pre">develop</span></code>, PyTorch will generate a
<code class="docutils literal"><span class="pre">compile_commands.json</span></code> file that can be used by many editors to
provide command completion and error highlighting for PyTorch’s C++
code. You need to <code class="docutils literal"><span class="pre">pip</span> <span class="pre">install</span> <span class="pre">ninja</span></code> to generate accurate information
for the code in <code class="docutils literal"><span class="pre">torch/csrc</span></code>. More information at:</p>
<ul class="simple">
<li><a class="reference external" href="https://sarcasm.github.io/notes/dev/compilation-database.html">https://sarcasm.github.io/notes/dev/compilation-database.html</a></li>
</ul>
</div>
<div class="section" id="make-no-op-build-fast">
<h3>Make no-op build fast.<a class="headerlink" href="#make-no-op-build-fast" title="Permalink to this headline">¶</a></h3>
</div>
<div class="section" id="use-ninja">
<h3>Use Ninja<a class="headerlink" href="#use-ninja" title="Permalink to this headline">¶</a></h3>
<p>Python <code class="docutils literal"><span class="pre">setuptools</span></code> is pretty dumb, and always rebuilds every C file
in a project. If you install the ninja build system with
<code class="docutils literal"><span class="pre">pip</span> <span class="pre">install</span> <span class="pre">ninja</span></code>, then PyTorch will use it to track dependencies
correctly. If PyTorch was already built, you will need to run
<code class="docutils literal"><span class="pre">python</span> <span class="pre">setup.py</span> <span class="pre">clean</span></code> once after installing ninja for builds to
succeed.</p>
</div>
<div class="section" id="use-ccache">
<h3>Use CCache<a class="headerlink" href="#use-ccache" title="Permalink to this headline">¶</a></h3>
<p>Even when dependencies are tracked with file modification, there are
many situations where files get rebuilt when a previous compilation was
exactly the same.</p>
<p>Using ccache in a situation like this is a real time-saver. However, by
default, ccache does not properly support CUDA stuff, so here are the
instructions for installing a custom ccache fork that has CUDA support:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span># install and export ccacheif ! ls ~/ccache/bin/ccachethen
    sudo apt-get update
    sudo apt-get install -y automake autoconf
    sudo apt-get install -y asciidoc
    mkdir -p ~/ccache
    pushd /tmp
    rm -rf ccache
    git clone https://github.com/colesbury/ccache -b ccbin
    pushd ccache
    ./autogen.sh
    ./configure
    make install prefix=~/ccache
    popdpopd

    mkdir -p ~/ccache/lib
    mkdir -p ~/ccache/cuda
    ln -s ~/ccache/bin/ccache ~/ccache/lib/cc
    ln -s ~/ccache/bin/ccache ~/ccache/lib/c++
    ln -s ~/ccache/bin/ccache ~/ccache/lib/gcc
    ln -s ~/ccache/bin/ccache ~/ccache/lib/g++
    ln -s ~/ccache/bin/ccache ~/ccache/cuda/nvcc

    ~/ccache/bin/ccache -M 25Gifiexport PATH=~/ccache/lib:$PATHexport CUDA_NVCC_EXECUTABLE=~/ccache/cuda/nvcc
</pre></div>
</div>
</div>
</div>
<div class="section" id="cuda-development-tips">
<h2>CUDA Development tips<a class="headerlink" href="#cuda-development-tips" title="Permalink to this headline">¶</a></h2>
<p>If you are working on the CUDA code, here are some useful CUDA debugging
tips:</p>
<ol class="arabic simple">
<li><code class="docutils literal"><span class="pre">CUDA_DEVICE_DEBUG=1</span></code> will enable CUDA device function debug
symbols (<code class="docutils literal"><span class="pre">-g</span> <span class="pre">-G</span></code>). This will be particularly helpful in debugging
device code. However, it will slow down the build process for about
50% (compared to only <code class="docutils literal"><span class="pre">DEBUG=1</span></code>), so use wisely.</li>
<li><code class="docutils literal"><span class="pre">cuda-gdb</span></code> and <code class="docutils literal"><span class="pre">cuda-memcheck</span></code> are your best CUDA debugging
friends. Unlike<code class="docutils literal"><span class="pre">gdb</span></code>, <code class="docutils literal"><span class="pre">cuda-gdb</span></code> can display actual values in a
CUDA tensor (rather than all zeros).</li>
</ol>
<p>Hope this helps, and thanks for considering to contribute.</p>
</div>
<div class="section" id="windows-development-tips">
<h2>Windows development tips<a class="headerlink" href="#windows-development-tips" title="Permalink to this headline">¶</a></h2>
<p>Occasionally, you will write a patch which works on Linux, but fails CI
on Windows. There are a few aspects in which MSVC (the Windows compiler
toolchain we use) is stricter than Linux, which are worth keeping in
mind when fixing these problems.</p>
<ol class="arabic simple">
<li>Symbols are NOT exported by default on Windows; instead, you have to
explicitly mark a symbol as exported/imported in a header file with
<code class="docutils literal"><span class="pre">__declspec(dllexport)</span></code> / <code class="docutils literal"><span class="pre">__declspec(dllimport)</span></code>. We have
codified this pattern into a set of macros which follow the
convention <code class="docutils literal"><span class="pre">*_API</span></code>, e.g., <code class="docutils literal"><span class="pre">CAFFE2_API</span></code> inside Caffe2 and ATen.
(Every separate shared library needs a unique macro name, because
symbol visibility is on a per shared library basis. See
c10/macros/Macros.h for more details.) The upshot is if you see an
“unresolved external” error in your Windows build, this is probably
because you forgot to mark a function with <code class="docutils literal"><span class="pre">*_API</span></code>. However, there
is one important counterexample to this principle: if you want a
<em>templated</em> function to be instantiated at the call site, do NOT mark
it with <code class="docutils literal"><span class="pre">*_API</span></code> (if you do mark it, you’ll have to explicitly
instantiate all of the specializations used by the call sites.)</li>
<li>If you link against a library, this does not make its dependencies
transitively visible. You must explicitly specify a link dependency
against every library whose symbols you use. (This is different from
Linux where in most environments, transitive dependencies can be used
to fulfill unresolved symbols.)</li>
<li>If you have a Windows box (we have a few on EC2 which you can request
access to) and you want to run the build, the easiest way is to just
run <code class="docutils literal"><span class="pre">.jenkins/pytorch/win-build.sh</span></code>. If you need to rebuild, run
<code class="docutils literal"><span class="pre">REBUILD=1</span> <span class="pre">.jenkins/pytorch/win-build.sh</span></code> (this will avoid blowing
away your Conda environment.)</li>
</ol>
<p>Even if you don’t know anything about MSVC, you can use cmake to build
simple programs on Windows; this can be helpful if you want to learn
more about some peculiar linking behavior by reproducing it on a small
example. Here’s a simple example cmake file that defines two dynamic
libraries, one linking with the other:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">project</span><span class="p">(</span><span class="n">myproject</span> <span class="n">CXX</span><span class="p">)</span><span class="nb">set</span><span class="p">(</span><span class="n">CMAKE_CXX_STANDARD</span> <span class="mi">11</span><span class="p">)</span><span class="n">add_library</span><span class="p">(</span><span class="n">foo</span> <span class="n">SHARED</span> <span class="n">foo</span><span class="o">.</span><span class="n">cpp</span><span class="p">)</span><span class="n">add_library</span><span class="p">(</span><span class="n">bar</span> <span class="n">SHARED</span> <span class="n">bar</span><span class="o">.</span><span class="n">cpp</span><span class="p">)</span><span class="c1"># NB: don&#39;t forget to __declspec(dllexport) at least one symbol from foo,# otherwise foo.lib will not be created.target_link_libraries(bar PUBLIC foo)</span>
</pre></div>
</div>
<p>You can build it with:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">mkdir</span> <span class="n">buildcd</span> <span class="n">build</span>
<span class="n">cmake</span> <span class="o">..</span>
<span class="n">cmake</span> <span class="o">--</span><span class="n">build</span> <span class="o">.</span>
</pre></div>
</div>
<div class="section" id="known-msvc-and-msvc-with-nvcc-bugs">
<h3>Known MSVC (and MSVC with NVCC) bugs<a class="headerlink" href="#known-msvc-and-msvc-with-nvcc-bugs" title="Permalink to this headline">¶</a></h3>
<p>The PyTorch codebase sometimes likes to use exciting C++ features, and
these exciting features lead to exciting bugs in Windows compilers. To
add insult to injury, the error messages will often not tell you which
line of code actually induced the erroring template instantiation. We’ve
found the most effective way to debug these problems is to carefully
read over diffs, keeping in mind known bugs in MSVC/NVCC. Here are a few
well known pitfalls and workarounds:</p>
<ul class="simple">
<li>This is not actually a bug per se, but in general, code generated by
MSVC is more sensitive to memory errors; you may have written some
code that does a use-after-free or stack overflows; on Linux the code
might work, but on Windows your program will crash. ASAN may not
catch all of these problems: stay vigilant to the possibility that
your crash is due to a real memory problem.</li>
<li>(NVCC) <code class="docutils literal"><span class="pre">c10::optional</span></code> does not work when used from device code.
Don’t use it from kernels. Upstream issue:
<a class="reference external" href="https://github.com/akrzemi1/Optional/issues/58">https://github.com/akrzemi1/Optional/issues/58</a> and our local issue
#10329.</li>
<li><code class="docutils literal"><span class="pre">constexpr</span></code> generally works less well on MSVC.<ul>
<li>The idiom <code class="docutils literal"><span class="pre">static_assert(f()</span> <span class="pre">==</span> <span class="pre">f())</span></code> to test if <code class="docutils literal"><span class="pre">f</span></code> is
constexpr does not work; you’ll get “error C2131: expression did
not evaluate to a constant”. Don’t use these asserts on Windows.
(Example: <code class="docutils literal"><span class="pre">c10/util/intrusive_ptr.h</span></code>)</li>
</ul>
</li>
<li>(NVCC) Code you access inside a <code class="docutils literal"><span class="pre">static_assert</span></code> will eagerly be
evaluated as if it were device code, and so you might get an error
that the code is “not accessible”.</li>
</ul>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">A</span> <span class="p">{</span>
  <span class="n">static</span> <span class="n">A</span> <span class="n">singleton_</span><span class="p">;</span>
  <span class="n">static</span> <span class="n">constexpr</span> <span class="n">inline</span> <span class="n">A</span><span class="o">*</span> <span class="n">singleton</span><span class="p">()</span> <span class="p">{</span>
    <span class="k">return</span> <span class="o">&amp;</span><span class="n">singleton_</span><span class="p">;</span>
  <span class="p">}</span>
<span class="p">};</span><span class="n">static_assert</span><span class="p">(</span><span class="n">std</span><span class="p">::</span><span class="n">is_same</span><span class="p">(</span><span class="n">A</span><span class="o">*</span><span class="p">,</span> <span class="n">decltype</span><span class="p">(</span><span class="n">A</span><span class="p">::</span><span class="n">singleton</span><span class="p">()))::</span><span class="n">value</span><span class="p">,</span> <span class="s2">&quot;hmm&quot;</span><span class="p">);</span>
</pre></div>
</div>
<ul class="simple">
<li>The compiler will run out of heap space if you attempt to compile
files that are too large. Splitting such files into separate files
helps. (Example: <code class="docutils literal"><span class="pre">THTensorMath</span></code>, <code class="docutils literal"><span class="pre">THTensorMoreMath</span></code>,
<code class="docutils literal"><span class="pre">THTensorEvenMoreMath</span></code>.)</li>
<li>MSVC’s preprocessor (but not the standard compiler) has a bug where
it incorrectly tokenizes raw string literals, ending when it sees a
<code class="docutils literal"><span class="pre">&quot;</span></code>. This causes preprocessor tokens inside the literal like
an<code class="docutils literal"><span class="pre">#endif</span></code> to be incorrectly treated as preprocessor directives.
See <a class="reference external" href="https://godbolt.org/z/eVTIJq">https://godbolt.org/z/eVTIJq</a> as an example.</li>
</ul>
</div>
<div class="section" id="running-clang-tidy">
<h3>Running Clang-Tidy<a class="headerlink" href="#running-clang-tidy" title="Permalink to this headline">¶</a></h3>
<p><a class="reference external" href="https://clang.llvm.org/extra/clang-tidy/index.html">Clang-Tidy</a> is a
C++ linter and static analysis tool based on the clang compiler. We run
clang-tidy in our CI to make sure that new C++ code is safe, sane and
efficient. See our
<a class="reference external" href="https://github.com/pytorch/pytorch/blob/master/.travis.yml">.travis.yml</a>
file for the simple commands we use for this. To run clang-tidy locally,
follow these steps:</p>
<ol class="arabic simple">
<li>Install clang-tidy. First, check if you already have clang-tidy by
simply writing <code class="docutils literal"><span class="pre">clang-tidy</span></code> in your terminal. If you don’t yet have
clang-tidy, you should be able to install it easily with your package
manager, e.g. by writing <code class="docutils literal"><span class="pre">apt-get</span> <span class="pre">install</span> <span class="pre">clang-tidy</span></code> on Ubuntu.
See <a class="reference external" href="https://apt.llvm.org/">https://apt.llvm.org</a> for details on
how to install the latest version. Note that newer versions of
clang-tidy will have more checks than older versions. In our CI, we
run clang-tidy-6.0.</li>
<li>Use our driver script to run clang-tidy over any changes relative to
some git revision (you may want to replace <code class="docutils literal"><span class="pre">HEAD~1</span></code> with <code class="docutils literal"><span class="pre">HEAD</span></code>
to pick up uncommitted changes). Changes are picked up based on a
<code class="docutils literal"><span class="pre">git</span> <span class="pre">diff</span></code> with the given revision:</li>
</ol>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">python</span> <span class="n">tools</span><span class="o">/</span><span class="n">clang_tidy</span><span class="o">.</span><span class="n">py</span> <span class="o">-</span><span class="n">d</span> <span class="n">build</span> <span class="o">-</span><span class="n">p</span> <span class="n">torch</span><span class="o">/</span><span class="n">csrc</span> <span class="o">--</span><span class="n">diff</span> <span class="s1">&#39;HEAD~1&#39;</span>
</pre></div>
</div>
<p>Above, it is assumed you are in the PyTorch root folder.
<code class="docutils literal"><span class="pre">path/to/build</span></code> should be the path to where you built PyTorch from
source, e.g. <code class="docutils literal"><span class="pre">build</span></code> in the PyTorch root folder if you used
<code class="docutils literal"><span class="pre">setup.py</span> <span class="pre">build</span></code>. You can use <code class="docutils literal"><span class="pre">-c</span> <span class="pre">&lt;clang-tidy-binary&gt;</span></code>to change
the clang-tidy this script uses. Make sure you have PyYaml installed,
which is in PyTorch’s <code class="docutils literal"><span class="pre">requirements.txt</span></code>.</p>
</div>
<div class="section" id="pre-commit-tidy-linting-hook">
<h3>Pre-commit Tidy/Linting Hook<a class="headerlink" href="#pre-commit-tidy-linting-hook" title="Permalink to this headline">¶</a></h3>
<p>We use clang-tidy and flake8 to perform additional formatting and
semantic checking of code. We provide a pre-commit git hook for
performing these checks, before a commit is created:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">ln</span> <span class="o">-</span><span class="n">s</span> <span class="o">../../</span><span class="n">tools</span><span class="o">/</span><span class="n">git</span><span class="o">-</span><span class="n">pre</span><span class="o">-</span><span class="n">commit</span> <span class="o">.</span><span class="n">git</span><span class="o">/</span><span class="n">hooks</span><span class="o">/</span><span class="n">pre</span><span class="o">-</span><span class="n">commit</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="caffe2-notes">
<h2>Caffe2 notes<a class="headerlink" href="#caffe2-notes" title="Permalink to this headline">¶</a></h2>
<p>In 2018, we merged Caffe2 into the PyTorch source repository. While the
steady state aspiration is that Caffe2 and PyTorch share code freely, in
the meantime there will be some separation. If you submit a PR to only
PyTorch or only Caffe2 code, CI will only run for the project you
edited. The logic for this is implemented in
<code class="docutils literal"><span class="pre">.jenkins/pytorch/dirty.sh</span></code> and <code class="docutils literal"><span class="pre">.jenkins/caffe2/dirty.sh</span></code>; you can
look at this to see what path prefixes constitute changes. This also
means if you ADD a new top-level path, or you start sharing code between
projects, you need to modify these files. There are a few “unusual”
directories which, for historical reasons, are Caffe2/PyTorch specific.
Here they are:</p>
<ul class="simple">
<li><code class="docutils literal"><span class="pre">CMakeLists.txt</span></code>, <code class="docutils literal"><span class="pre">Makefile</span></code>, <code class="docutils literal"><span class="pre">binaries</span></code>, <code class="docutils literal"><span class="pre">cmake</span></code>, <code class="docutils literal"><span class="pre">conda</span></code>,
<code class="docutils literal"><span class="pre">modules</span></code>, <code class="docutils literal"><span class="pre">scripts</span></code> are Caffe2-specific. Don’t put PyTorch code
in them without extra coordination.</li>
<li><code class="docutils literal"><span class="pre">mypy*</span></code>, <code class="docutils literal"><span class="pre">requirements.txt</span></code>, <code class="docutils literal"><span class="pre">setup.py</span></code>, <code class="docutils literal"><span class="pre">test</span></code>, <code class="docutils literal"><span class="pre">tools</span></code>
are PyTorch-specific. Don’t put Caffe2 code in them without extra
coordination.</li>
</ul>
</div>
</div>


             </article>
             
            </div>
            <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="governance.html" class="btn btn-neutral float-right" title="PyTorch Governance" accesskey="n" rel="next">Next <img src="../_static/images/chevron-right-orange.svg" class="next-page"></a>
      
      
        <a href="../notes/windows.html" class="btn btn-neutral" title="Windows FAQ" accesskey="p" rel="prev"><img src="../_static/images/chevron-right-orange.svg" class="previous-page"> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2018, Torch Contributors.

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

          </div>
        </div>

        <div class="pytorch-content-right" id="pytorch-content-right">
          <div class="pytorch-right-menu" id="pytorch-right-menu">
            <div class="pytorch-side-scroll" id="pytorch-side-scroll-right">
              <ul>
<li><a class="reference internal" href="#">PyTorch Contribution Guide</a><ul>
<li><a class="reference internal" href="#the-pytorch-contribution-process">The PyTorch Contribution Process</a></li>
<li><a class="reference internal" href="#getting-started">Getting Started</a><ul>
<li><a class="reference internal" href="#proposing-new-features">Proposing new features</a></li>
<li><a class="reference internal" href="#reporting-issues">Reporting Issues</a></li>
<li><a class="reference internal" href="#implementing-features-or-fixing-bugs">Implementing Features or Fixing Bugs</a></li>
<li><a class="reference internal" href="#adding-tutorials">Adding Tutorials</a></li>
<li><a class="reference internal" href="#improving-documentation-tutorials">Improving Documentation &amp; Tutorials</a></li>
<li><a class="reference internal" href="#participating-in-online-discussions">Participating in online discussions</a></li>
<li><a class="reference internal" href="#submitting-pull-requests-to-fix-open-issues">Submitting pull requests to fix open issues</a></li>
<li><a class="reference internal" href="#reviewing-open-pull-requests">Reviewing open pull requests</a></li>
<li><a class="reference internal" href="#improving-code-readability">Improving code readability</a></li>
<li><a class="reference internal" href="#adding-test-cases-to-make-the-codebase-more-robust">Adding test cases to make the codebase more robust</a></li>
<li><a class="reference internal" href="#promoting-pytorch">Promoting PyTorch</a></li>
<li><a class="reference internal" href="#triaging-issues">Triaging issues</a></li>
</ul>
</li>
<li><a class="reference internal" href="#about-open-source-development">About open source development</a></li>
<li><a class="reference internal" href="#common-mistakes-to-avoid">Common Mistakes To Avoid</a></li>
<li><a class="reference internal" href="#on-documentation">On Documentation</a><ul>
<li><a class="reference internal" href="#python-docs">Python Docs</a></li>
<li><a class="reference internal" href="#c-docs">C++ Docs</a></li>
</ul>
</li>
<li><a class="reference internal" href="#tutorials">Tutorials</a><ul>
<li><a class="reference internal" href="#tutorials-build-overview">Tutorials Build Overview</a></li>
<li><a class="reference internal" href="#contributing-a-new-tutorial">Contributing a new Tutorial</a></li>
<li><a class="reference internal" href="#code-style">Code Style</a></li>
<li><a class="reference internal" href="#submitting-a-pull-request">Submitting a Pull Request</a></li>
<li><a class="reference internal" href="#running-tests">Running Tests</a></li>
</ul>
</li>
<li><a class="reference internal" href="#technical-process">Technical Process</a><ul>
<li><a class="reference internal" href="#developing-pytorch">Developing PyTorch</a></li>
</ul>
</li>
<li><a class="reference internal" href="#codebase-structure">Codebase structure</a></li>
<li><a class="reference internal" href="#unit-testing">Unit Testing</a><ul>
<li><a class="reference internal" href="#better-local-unit-tests-with-pytest">Better local unit tests with pytest</a></li>
</ul>
</li>
<li><a class="reference internal" href="#writing-documentation">Writing documentation</a></li>
<li><a class="reference internal" href="#managing-multiple-build-trees">Managing multiple build trees</a></li>
<li><a class="reference internal" href="#c-development-tips">C++ Development tips</a><ul>
<li><a class="reference internal" href="#build-only-what-you-need">Build only what you need.</a></li>
<li><a class="reference internal" href="#code-completion-and-ide-support">Code completion and IDE support</a></li>
<li><a class="reference internal" href="#make-no-op-build-fast">Make no-op build fast.</a></li>
<li><a class="reference internal" href="#use-ninja">Use Ninja</a></li>
<li><a class="reference internal" href="#use-ccache">Use CCache</a></li>
</ul>
</li>
<li><a class="reference internal" href="#cuda-development-tips">CUDA Development tips</a></li>
<li><a class="reference internal" href="#windows-development-tips">Windows development tips</a><ul>
<li><a class="reference internal" href="#known-msvc-and-msvc-with-nvcc-bugs">Known MSVC (and MSVC with NVCC) bugs</a></li>
<li><a class="reference internal" href="#running-clang-tidy">Running Clang-Tidy</a></li>
<li><a class="reference internal" href="#pre-commit-tidy-linting-hook">Pre-commit Tidy/Linting Hook</a></li>
</ul>
</li>
<li><a class="reference internal" href="#caffe2-notes">Caffe2 notes</a></li>
</ul>
</li>
</ul>

            </div>
          </div>
        </div>
      </section>
    </div>

  


  

     
       <script type="text/javascript">
           var DOCUMENTATION_OPTIONS = {
               URL_ROOT:'../',
               VERSION:'master',
               LANGUAGE:'None',
               COLLAPSE_INDEX:false,
               FILE_SUFFIX:'.html',
               HAS_SOURCE:  true,
               SOURCELINK_SUFFIX: '.txt'
           };
       </script>
         <script type="text/javascript" src="../_static/jquery.js"></script>
         <script type="text/javascript" src="../_static/underscore.js"></script>
         <script type="text/javascript" src="../_static/doctools.js"></script>
         <script type="text/javascript" src="https://cdn.jsdelivr.net/npm/katex@0.10.0/dist/katex.min.js"></script>
         <script type="text/javascript" src="https://cdn.jsdelivr.net/npm/katex@0.10.0/dist/contrib/auto-render.min.js"></script>
         <script type="text/javascript" src="../_static/katex_autorenderer.js"></script>
     

  

  <script type="text/javascript" src="../_static/js/vendor/popper.min.js"></script>
  <script type="text/javascript" src="../_static/js/vendor/bootstrap.min.js"></script>
  <script type="text/javascript" src="../_static/js/theme.js"></script>

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

  <!-- Begin Footer -->

  <div class="container-fluid docs-tutorials-resources" id="docs-tutorials-resources">
    <div class="container">
      <div class="row">
        <div class="col-md-4 text-center">
          <h2>Docs</h2>
          <p>Access comprehensive developer documentation for PyTorch</p>
          <a class="with-right-arrow" href="https://pytorch.org/docs/stable/index.html">View Docs</a>
        </div>

        <div class="col-md-4 text-center">
          <h2>Tutorials</h2>
          <p>Get in-depth tutorials for beginners and advanced developers</p>
          <a class="with-right-arrow" href="https://pytorch.org/tutorials">View Tutorials</a>
        </div>

        <div class="col-md-4 text-center">
          <h2>Resources</h2>
          <p>Find development resources and get your questions answered</p>
          <a class="with-right-arrow" href="https://pytorch.org/resources">View Resources</a>
        </div>
      </div>
    </div>
  </div>

  <footer class="site-footer">
    <div class="container footer-container">
      <div class="footer-logo-wrapper">
        <a href="https://pytorch.org/" class="footer-logo"></a>
      </div>

      <div class="footer-links-wrapper">
        <div class="footer-links-col">
          <ul>
            <li class="list-title"><a href="https://pytorch.org/">PyTorch</a></li>
            <li><a href="https://pytorch.org/get-started">Get Started</a></li>
            <li><a href="https://pytorch.org/features">Features</a></li>
            <li><a href="https://pytorch.org/ecosystem">Ecosystem</a></li>
            <li><a href="https://pytorch.org/blog/">Blog</a></li>
            <li><a href="https://pytorch.org/resources">Resources</a></li>
          </ul>
        </div>

        <div class="footer-links-col">
          <ul>
            <li class="list-title"><a href="https://pytorch.org/support">Support</a></li>
            <li><a href="https://pytorch.org/tutorials">Tutorials</a></li>
            <li><a href="https://pytorch.org/docs/stable/index.html">Docs</a></li>
            <li><a href="https://discuss.pytorch.org" target="_blank">Discuss</a></li>
            <li><a href="https://github.com/pytorch/pytorch/issues" target="_blank">Github Issues</a></li>
            <li><a href="https://pytorch.slack.com" target="_blank">Slack</a></li>
            <li><a href="https://github.com/pytorch/pytorch/blob/master/CONTRIBUTING.md" target="_blank">Contributing</a></li>
          </ul>
        </div>

        <div class="footer-links-col follow-us-col">
          <ul>
            <li class="list-title">Follow Us</li>
            <li>
              <div id="mc_embed_signup">
                <form
                  action="https://twitter.us14.list-manage.com/subscribe/post?u=75419c71fe0a935e53dfa4a3f&id=91d0dccd39"
                  method="post"
                  id="mc-embedded-subscribe-form"
                  name="mc-embedded-subscribe-form"
                  class="email-subscribe-form validate"
                  target="_blank"
                  novalidate>
                  <div id="mc_embed_signup_scroll" class="email-subscribe-form-fields-wrapper">
                    <div class="mc-field-group">
                      <label for="mce-EMAIL" style="display:none;">Email Address</label>
                      <input type="email" value="" name="EMAIL" class="required email" id="mce-EMAIL" placeholder="Email Address">
                    </div>

                    <div id="mce-responses" class="clear">
                      <div class="response" id="mce-error-response" style="display:none"></div>
                      <div class="response" id="mce-success-response" style="display:none"></div>
                    </div>    <!-- real people should not fill this in and expect good things - do not remove this or risk form bot signups-->

                    <div style="position: absolute; left: -5000px;" aria-hidden="true"><input type="text" name="b_75419c71fe0a935e53dfa4a3f_91d0dccd39" tabindex="-1" value=""></div>

                    <div class="clear">
                      <input type="submit" value="" name="subscribe" id="mc-embedded-subscribe" class="button email-subscribe-button">
                    </div>
                  </div>
                </form>
              </div>

            </li>
          </ul>

          <div class="footer-social-icons">
            <a href="https://www.facebook.com/pytorch" target="_blank" class="facebook"></a>
            <a href="https://twitter.com/pytorch" target="_blank" class="twitter"></a>
          </div>
        </div>
      </div>
    </div>
  </footer>

  <div class="cookie-banner-wrapper">
  <div class="container">
    <p class="gdpr-notice">To analyze traffic and optimize your experience, we serve cookies on this site. By clicking or navigating, you agree to allow our usage of cookies. As the current maintainers of this site, Facebook’s Cookies Policy applies. Learn more, including about available controls: <a href="https://www.facebook.com/policies/cookies/">Cookies Policy</a>.</p>
    <img class="close-button" src="../_static/images/pytorch-x.svg">
  </div>
</div>

  <!-- End Footer -->

  <!-- Begin Mobile Menu -->

  <div class="mobile-main-menu">
    <div class="container-fluid">
      <div class="container">
        <div class="mobile-main-menu-header-container">
          <a class="header-logo" href="https://pytorch.org/" aria-label="PyTorch"></a>
          <a class="main-menu-close-button" href="#" data-behavior="close-mobile-menu"></a>
        </div>
      </div>
    </div>

    <div class="mobile-main-menu-links-container">
      <div class="main-menu">
        <ul>
          <li>
            <a href="#">Get Started</a>
          </li>

          <li>
            <a href="#">Features</a>
          </li>

          <li>
            <a href="#">Ecosystem</a>
          </li>

          <li>
            <a href="https://pytorch.org/blog/">Blog</a>
          </li>

          <li>
            <a href="https://pytorch.org/tutorials">Tutorials</a>
          </li>

          <li class="active">
            <a href="https://pytorch.org/docs/stable/index.html">Docs</a>
          </li>

          <li>
            <a href="https://pytorch.org/resources">Resources</a>
          </li>

          <li>
            <a href="https://github.com/pytorch/pytorch">Github</a>
          </li>
        </ul>
      </div>
    </div>
  </div>

  <!-- End Mobile Menu -->

  <script type="text/javascript" src="../_static/js/vendor/anchor.min.js"></script>

  <script type="text/javascript">
    $(document).ready(function() {
      mobileMenu.bind();
      mobileTOC.bind();
      pytorchAnchors.bind();
      sideMenus.bind();
      scrollToAnchor.bind();
      highlightNavigation.bind();

      // Add class to links that have code blocks, since we cannot create links in code blocks
      $("article.pytorch-article a span.pre").each(function(e) {
        $(this).closest("a").addClass("has-code");
      });
    })
  </script>
</body>
</html>